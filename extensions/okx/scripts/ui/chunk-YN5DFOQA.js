import{a as B}from"./chunk-CSJR56CD.js";import{g as z,h as H}from"./chunk-3V4N3SLP.js";import{a as b}from"./chunk-GANFA4Y3.js";import{e as r}from"./chunk-75JFJJ6E.js";import{a as K}from"./chunk-RV4CTONM.js";import{a as J}from"./chunk-WPUSOCZ5.js";import{h as W,i as j}from"./chunk-NRDSUSOX.js";import{o as ut}from"./chunk-XHNZXPBB.js";import{ac as v}from"./chunk-ZTS7374H.js";import{Na as y,Ra as S}from"./chunk-EY7FXYAJ.js";import{M as pt,w as L}from"./chunk-OIAB2YVD.js";import{a as lt}from"./chunk-DAL2TMJA.js";import{f as d,m as _,o as C}from"./chunk-JEQEC2HU.js";_();C();var Q=d(v()),V=d(ut());S();function mt({id:a,walletId:e,origin:c,localType:T,extraParams:k}){let i=(0,Q.useDispatch)(),s=B(e);return(0,V.useMemoizedFn)(async()=>{s({trade:"contract_interaction",all_confirmation:"cancel",network:T,dapp_url:c}),await i(W(a,k)),await y(i)})}var X=mt;_();C();var t=d(lt()),Z=d(v());pt();S();var dt=({coinId:a,unapproved:e,networkFee:c,feeLoading:T,estimateFailed:k=!1,preExecuteRet:i={},isSufficientGas:s,isSufficientBalance:$=!0,extParams:x,needCheckMpc:D=!1,chainConfirmDisabled:tt=!1,onCancel:l,onConfirm:p,disabledConfirmBtn:ot,coinWithBalance:nt})=>{let{id:n,origin:g,localType:w}=e,E=(0,Z.useDispatch)(),{address:h,walletId:o}=K(e),{loading:rt=!1,verifyGasLimitRet:I={}}=i,N=X({id:n,walletId:o,origin:g,localType:w}),A=!s||!$||z(I),F=B(o),u=(0,t.useCallback)(async()=>{l&&typeof l=="function"?await l():await N()},[l,N]),{loading:at,onClick:et}=b(u),ct={loading:at,onClick:et,actionType:r.ACTION_TYPE.CANCEL,btnText:L("wallet_dapp_connection_btn_reject")},f=ot||T||k||rt||H(I)||tt,it=(0,t.useCallback)(async()=>{try{if(D&&!await J({walletId:o,callback:u}))return;p&&typeof p=="function"?p({networkFee:c}):(F({page_type:"contract_interaction",all_confirmation:"confirm",network:w,dapp_url:g}),await E(j(n,x)),await y(E))}catch(q){console.log("error",q)}},[g,D,p,o,u,c,F,w,E,n,x]),{isBalanceLoadError:O,requestBalance:M,isBalanceLoading:m}=nt,{loading:R,onClick:G}=b(it),P=(0,t.useMemo)(()=>({loading:R||m,disabled:f,onClick:G,actionType:r.ACTION_TYPE.CONFIRM}),[f,m,R,G]),U=(0,t.useMemo)(()=>({actionType:r.ACTION_TYPE.FILL_UP,txId:n,coinId:a,walletId:o,address:h}),[h,a,n,s,o]),Y=(0,t.useMemo)(()=>({onClick:M,btnText:L("wallet_extension_transfer_error_text_reload"),actionType:r.ACTION_TYPE.CONFIRM}),[M]),st=(0,t.useMemo)(()=>f?P:O&&!m?Y:A?U:P,[P,f,U,A,Y,m,O]);return{buttonGroup:[ct,st],handleCancel:u}},Nt=dt;export{X as a,Nt as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-YN5DFOQA.js.map
