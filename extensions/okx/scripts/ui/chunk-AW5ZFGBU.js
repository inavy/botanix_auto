import{a as Bi,b as Fi,c as Ri,d as F,f as tt,j as ot,k as Pi,l as X,m as Wt,n as Zt}from"./chunk-5EGN4FIQ.js";import{a as Oi}from"./chunk-EU7MFJZI.js";import{b as $t}from"./chunk-DEQSNVVS.js";import{a as Vt}from"./chunk-VXNMJ34P.js";import{a as Li}from"./chunk-5J2GAAY6.js";import{a as Ai,e as yi,m as vi,t as Di}from"./chunk-YC3K6KSF.js";import{a as wi}from"./chunk-5VYKPDIW.js";import{a as Si}from"./chunk-ZBRU2CAM.js";import{a as Tt,b as Ei,c as Gt}from"./chunk-V3INX46H.js";import{a as Me}from"./chunk-6QV7GAE5.js";import{d as gi}from"./chunk-QT2MBFKK.js";import{b as Ii,d as kt,g as Ut}from"./chunk-MUF5KFVU.js";import{b as Ht,e as bi}from"./chunk-QPQGDYXW.js";import{a as hi}from"./chunk-WPUSOCZ5.js";import{a as Ci}from"./chunk-CR7XMKUK.js";import{c as Pt}from"./chunk-SSZF4QIS.js";import{a as Mt}from"./chunk-M24SOKF4.js";import{c as _i,d as Ot,f as ai}from"./chunk-3DNJNRLL.js";import{b as Lt,h as ti,i as Bt,l as Ft,m as oi,n as ii}from"./chunk-IV6GJDJI.js";import{a as ei}from"./chunk-6AXFJWFY.js";import{c as mi}from"./chunk-ZDO7TFIW.js";import{a as ci}from"./chunk-SGHBHZD2.js";import{b as To}from"./chunk-ZUBJ4HSQ.js";import{d as xo}from"./chunk-OLBL2ESK.js";import{a as di}from"./chunk-ETLDBC7Y.js";import{I as dt,N as Wo,X as Zo,Y as uo,Z as Yo}from"./chunk-NPTEYWCZ.js";import{a as Ni}from"./chunk-PCTAUYQN.js";import{a as ui,f as xi,h as Ti}from"./chunk-ZW25VTKR.js";import{b as xt}from"./chunk-LZKLGZM5.js";import{h as pi,i as fi}from"./chunk-DS7KEGTF.js";import{Xa as vt}from"./chunk-4HJMB7P7.js";import{b as si}from"./chunk-A2W6OJDL.js";import{l as ri,m as J,q as et}from"./chunk-U7RD3Z4E.js";import{e as Dt,f as bt}from"./chunk-S5IEFQ34.js";import{o as li}from"./chunk-XHNZXPBB.js";import{ac as Ae,ga as Jo,m as z,sa as Qo,y as qo,yb as St}from"./chunk-ZTS7374H.js";import{d as Qe,f as Xo}from"./chunk-B26CCOB3.js";import{a as S,b as o,d as Y,e as ut,g as Ne}from"./chunk-QYHQY2ME.js";import{a as ni}from"./chunk-YYAHGUV5.js";import{e as Ce}from"./chunk-7ZE3XWQE.js";import{a as Rt}from"./chunk-C77R5D6K.js";import{c as se}from"./chunk-HBMVMNWX.js";import{Da as mt,Db as Et,Ea as Uo,Fb as ht,Gb as Go,Na as Mo,Tb as mo,Tc as pt,Vc as jo,Wc as ft,Xa as co,Xb as Ho,Xc as zo,a as Ro,b as Pr,cc as po,pc as At,sc as yt,uc as Ko}from"./chunk-IS2B3ORW.js";import{A as _e,G as $o,H as pe,K as be,N as We,O as fe,o as he,y as fo}from"./chunk-TDPA2BUG.js";import{F as Oo,K as De,fa as Po,pa as qe}from"./chunk-BJO2AFCW.js";import{C as ko,M as H,e as Oe,w as r}from"./chunk-OIAB2YVD.js";import{T as ke,Z as Je,c as Pe,ca as Ue}from"./chunk-VXVCGVBA.js";import{a as Vo}from"./chunk-G6JM4G2M.js";import{a as v}from"./chunk-DAL2TMJA.js";import{f as u,m as l,o as _}from"./chunk-JEQEC2HU.js";l();_();H();qe();var ki="okx-wallet-plugin-report-centre",Ui="okx-wallet-plugin-nft",kr="okx-wallet-plugin-report-centre",Ur="okx-wallet-plugin-lock-1",Mr="okx-wallet-plugin-swap-1",Gr="okx-wallet-plugin-documentation",Mi=(e=[],t="en-US",i=!1)=>{if(!Array.isArray(e))return[[],[]];let n=new Map,a=[],s=[],c=0,m=p=>{let d=Oe(p.txTime,{format:"yyyyMMdd",locale:t});De(n.get(d))&&(n.set(d,c),s[c]={},s[c].date=d,s[c].list=[],c++);let I=n.get(d);s[I].list.push(p)};return e.forEach(p=>{p.txStatus===S.PENDING?!p.isShowPending&&i?m(p):a.push(p):m(p)}),[a,s]},No=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.MINT_NFT||t===o.CANCEL_NFT||t===o.NFT_AUTHORIZATION?Ui:t===o.NFT_CANCEL_AUTHORIZATION?Gr:t===o.DAPP_NFT||t===o.CONTRACTCALL?kr:t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION?Ur:t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT?Mr:ki},Gi=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.BUY_NFT||t===o.SELL_NFT||t===o.MINT_NFT||t===o.DAPP_NFT||t===o.CANCEL_NFT},Hi=(e={},t={})=>{let{nftId:i}=e,{txType:n}=t;return i||n===o.ORDINAL_NFT?Ui:n===o.ORDINAL_TEXT?`${Rt()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:ki},Vi=(e={})=>{let{hideTxType:t}=e;return Number.isInteger(t)&&t!==Lt.NORMAL},it=e=>e.txType===o.TRANS_OUT&&e.okexAccount;l();_();var M=u(v());qe();l();_();var ie=u(v());l();_();var Ge=u(v());l();_();var Ze=u(v());H();Xo();zo();jo();var Hr=({tx:e,closeVisible:t,repeatVisible:i,onClose:n,onConfirm:a})=>{let s=a,c=t||i,{txHash:m,coinId:f,txId:p,include:d,coinSymbol:I}=e,N=d?.[0]?.protocolName,A=I,w=ui(),C=kt(f)?.chainId||0,k=async()=>{try{let b=await Qe().getRequestHeaders({walletId:w,needSign:!0,currency:"usd"}),B={txHash:m,accountId:w,chainId:C};return await pt(ft.postCloseTranscation,B,{headers:b})}catch(b){let B=he.tip({title:r("extension_biz_title_cancel_transaction_failed"),confirmText:r("commonall_text_btn_ok_active"),children:Ze.default.createElement("div",null,b.msg),onConfirm:()=>{s(p),B.destroy()}});throw b}},L=async()=>{try{let b=await Qe().getRequestHeaders({walletId:w,needSign:!0,currency:"usd"}),B={txHash:m,accountId:w,chainId:C};await pt(ft.postRepeatTranscation,B,{headers:b})}catch(b){let B=he.tip({title:r("extension_biz_title_cancel_broadcast_failed"),confirmText:r("commonall_text_btn_ok_active"),children:Ze.default.createElement("div",null,b.msg),onConfirm:()=>{s(p),B.destroy()}});throw b}},$=async()=>{try{t?(Zo({token_name:A,protocol:N}),await k()):i&&(Yo({token_name:A,protocol:N}),await L())}catch{return}a(p),pe.success({title:r("extension_defi_toast_header_tips_request_submit")})};return Ze.default.createElement(he.Prompt,{visible:c,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:$,onClose:()=>{n&&n()},confirmText:r("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:Ue.TYPE.highlight,size:Ue.SIZE.lg},renderContent:b=>Ze.default.createElement(b,null,Ze.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},t&&r("extension_defi_toast_title_release_utxo"),i&&r("extension_defi_toast_title_rebroadcast")),Ze.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},t&&r("extension_defi_toast_desc_release_utxo"),i&&r("extension_defi_toast_desc_rebroadcast")))})},$i=Hr;function Vr({data:e,onRefresh:t}){let{showCloseTransaction:i,showTxRepeatBroadcast:n,include:a,coinSymbol:s}=e,[c,m]=(0,Ge.useState)(!1),[f,p]=(0,Ge.useState)(!1),d=a?.[0]?.protocolName,I=s;return Ge.default.createElement(Ge.default.Fragment,null,Ge.default.createElement(ot,{showCloseTransaction:i,showTxRepeatBroadcast:n,onClose:()=>{m(!0),uo({token_name:I,protocol:d,button_name:"releaseutxo"})},onRepeat:()=>{p(!0),uo({token_name:I,protocol:d,button_name:"rebroadcast"})}}),(c||f)&&Ge.default.createElement($i,{tx:e,closeVisible:c,repeatVisible:f,onConfirm:N=>{t(N),m(!1),p(!1)},onClose:()=>{m(!1),p(!1)}}))}var Wi=Vr;l();_();var Nt=u(v());l();_();var U=u(v()),nt=u(Pe());H();po();l();_();var V={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var $r=({currentAvgFeeRate:e,expectedFeeRate:t,currentTxSize:i,ancestorsTxSize:n,totalFee:a,totalFeeUSD:s})=>U.default.createElement("div",{className:V.transactionDetailBox},U.default.createElement("div",{className:V.transactionAccelerationDetails},U.default.createElement("p",{className:V.transactionDetailRow},n?U.default.createElement(_e,{title:r("extension_defi_popup_tooltips_feerate_before_speedup"),placement:_e.DIRECTION.topLeft,arrowAlignBoundary:!0},U.default.createElement("span",{className:(0,nt.default)(V.transactionDetailLabel,V.textUnderline)},r("extension_defi_toast_item_current_fee_rate"))):U.default.createElement("span",{className:V.transactionDetailLabel},r("extension_defi_toast_item_current_fee_rate")),U.default.createElement("span",{className:V.transactionDetailValue},`${e} sats/vb`)),U.default.createElement("p",{className:V.transactionDetailRow},U.default.createElement("span",{className:V.transactionDetailLabel},r("extension_defi_toast_item_speedup_rate")),U.default.createElement("span",{className:V.transactionDetailValue},`${t} sats/vb`)),U.default.createElement("p",{className:V.transactionDetailRow},U.default.createElement("span",{className:V.transactionDetailLabel},r("extension_defi_toast_item_txn_size")),U.default.createElement("span",{className:V.transactionDetailValue},`${i}vb`)),n?U.default.createElement("p",{className:V.transactionDetailRow},U.default.createElement("span",{className:V.transactionDetailLabel},r("extension_defi_toast_item_ancestor_txn")),U.default.createElement("span",{className:V.transactionDetailValue},`${n}vb`)):null,U.default.createElement("div",{className:V.transactionDetailRow},n?U.default.createElement(_e,{title:r("extension_defi_popup_tooltips_desc_total_fee_meaning")},U.default.createElement("span",{className:(0,nt.default)(V.transactionDetailLabel,V.textUnderline)},r("extension_defi_toast_item_total_fee"))):U.default.createElement("span",{className:(0,nt.default)(V.transactionDetailLabel)},r("extension_defi_toast_item_total_fee")),U.default.createElement("p",{className:(0,nt.default)(V.transactionDetailValue,V.transactionDetailFiatValue)},mo(a)," ~ ",s))),U.default.createElement("p",{className:V.transactionAccelerationFooter},r("extension_defi_toast_desc_0service_fee"))),Wr=({tx:e,feeInfo:t,visible:i,networkError:n,onClose:a,onConfirm:s,onRetry:c})=>{let{currencyPrice:m,currencySymbol:f}=gi(e.mainCoinId),p=`${f}${Ho(Et(mo(t.totalFee),m),2)}`;return U.default.createElement(Bi,{visible:i,error:n,onClose:a,onConfirm:s,title:r("extension_defi_toast_title_speedup_txn"),headerTitle:ko("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:U.default.createElement(_e,{title:r("extension_defi_popup_tooltips_cpfp_meaning")},U.default.createElement("span",{className:(0,nt.default)(V.transactionAccelerationSubtitle,V.textUnderline)},`${r("extension_defi_toast_subtitle_using_cpfp")}`))}),content:U.default.createElement($r,{...t,totalFeeUSD:p}),errContent:U.default.createElement(fo.State,{title:r("extension_defi_toast_title_internet_error"),type:fo.State.TYPE.noNetwork,description:r("extension_defi_toast_subtitle_cant_get_fee"),buttonText:r("extension_defi_toast_btn_retry"),onButtonClick:()=>{c&&c()},className:V.emptyState}),confirmText:r("wallet_extension_btn_general_confirm")})},Zi=Wr;l();_();var te=u(v()),Yi=u(Ae());H();po();var Zr=(e,t)=>{let{address:i,mainCoinId:n,txHash:a,txId:s,btcSpeedUpInfo:c}=e,m=c?.cpfpSpeedUpUtxo?.[0].address||i,f=400002,[p,d]=(0,te.useState)(!1),[I,N]=(0,te.useState)(!1),[A,w]=(0,te.useState)(!1),[E,C]=(0,te.useState)(!1),[k,L]=(0,te.useState)(!1),[$,b]=(0,te.useState)({}),[B,ne]=(0,te.useState)({}),[Z,G,Xe,xe,Re]=Ai({...e,address:m}),O=(0,Yi.useSelector)(St),{currencyId:h}=O,y=vi({address:i,coinId:n,currencyId:h,doubleConfirmSource:yi.ACCELERATE});(0,te.useEffect)(()=>{(async()=>{if(Z&&G?.expectedFeeRate){let[Te,Ee,,ct]=await xe(Z,G);(Te||Ee)&&b({...G,totalFee:ht(Number(G.increaseFee)+ct)})}})()},[G,Z,xe]);let g=(0,te.useCallback)((me,Te)=>{if(Te==="init")if(me.msg){let Ee=he.tip({title:r("extension_biz_title_speed_up_failed"),confirmText:r("commonall_text_btn_ok_active"),children:te.default.createElement("div",null,me.msg),onConfirm:()=>{t(s),Ee.destroy()}})}else N(!0),d(!0);else{if(me?.code===f){pe.error({title:r("extension_defi_top_toast_speedup_fail")}),t(s);return}if(me?.code===Li.BALANCE_NOT_ENOUGH){dt({accelerate_status:"utxo_fail"}),pe.error({title:r("extension_defi_top_text_insufficient_utxo_pay")});return}dt({accelerate_status:"other_fail"}),w(!0)}},[]),D=(0,te.useCallback)(async()=>{if(!E){try{if(Re)throw Re;C(!0);let[me,Te,,Ee]=await xe(Z,G);if(me||Te)b({...G,totalFee:ht(Number(G.increaseFee)+Ee)});else{pe.error({title:r("extension_defi_top_text_insufficient_utxo_pay")});return}d(!0),N(!1),w(!1)}catch(me){g(me,"init")}C(!1)}},[Re,Z,G,g,E,xe]),R=Ni()?.find(me=>me.coinId===n)?.localType,j=Di({coinId:n,fromAddr:m,toAddr:m,outputs:[{address:m,amount:B.sendAmountInt}],networkFee:B.networkFeeInt,localType:R,dustSize:B.totalInput,satBytes:G.expectedFeeRate,coinAmount:B.sendAmountInt,extraPublishParams:{coinAmount:B.sendAmountInt,txType:o.TRANS_OUT}});(0,te.useEffect)(()=>{(async()=>{try{let{confirm:Te,utxoList:Ee}=B;Te&&(await j({utxoList:Ee}),pe.success(r("extension_defi_top_toast_speedup_success")),dt({accelerate_status:"success"}),t(s))}catch{pe.error({title:r("extension_defi_top_toast_speedup_fail")})}})()},[B]);let de=(0,te.useCallback)(async()=>{if(k)return;if(L(!0),await hi())try{let[Te,Ee,ct,Fr]=await xe(Z,G);if(!Te&&!Ee){pe.error({title:r("extension_defi_top_text_insufficient_utxo_pay")}),dt({accelerate_status:"utxo_fail"}),L(!1);return}try{await y(ct)}catch{L(!1);return}let Lo=ct.reduce((Rr,Or)=>Rr+Or.coinAmount,0),Bo=ht(Fr,Number(G.increaseFee)),Fo=Number(Go(Lo,Bo));Ee&&(Fo=Xe),ne({totalInput:Lo,sendAmountInt:Fo,networkFeeInt:Bo,utxoList:ct,confirm:!0}),N(!1),w(!1),L(!1),d(!1)}catch(Te){g(Te,"confirm"),L(!1)}},[Z,G,a]),ao=(0,te.useCallback)(async()=>{I&&D(),A&&de()},[D,A,I,de]);return{isFetchingTxFee:E,btcSpeedUpHandle:D,isBTCSpeedUpDialogVisible:p,displayFee:$,isFetchBTCFeeInfoNetworkError:I,isConfirmAccelerateError:A,onConfirmAccelerateBTCTX:de,setIsBTCSpeedUpDialogVisible:d,onRetryBtcSpeedUp:ao}},Ki=Zr;function Yr({data:e,onRefresh:t}){let{isFetchingTxFee:i,btcSpeedUpHandle:n,isBTCSpeedUpDialogVisible:a,displayFee:s,isFetchBTCFeeInfoNetworkError:c,isConfirmAccelerateError:m,onConfirmAccelerateBTCTX:f,setIsBTCSpeedUpDialogVisible:p,onRetryBtcSpeedUp:d}=Ki(e,t);return Nt.default.createElement(Nt.default.Fragment,null,Nt.default.createElement(ot,{isLoading:i,canAccelerateBtcTx:!0,onBtcSpeedUp:n}),a&&Nt.default.createElement(Zi,{tx:e,feeInfo:s,networkError:c||m,visible:a,onConfirm:async()=>{await f()},onClose:()=>{p(!1)},onRetry:d}))}var ji=Yr;function Kr({data:e,onRefresh:t}){let{from:i,coinId:n,txStatus:a,isShowSpeedUp:s,isShowCancel:c,isShowSpeedupCancel:m,mainCoinId:f,showCloseTransaction:p,showTxRepeatBroadcast:d}=e,I=kt(n),[N,A]=(0,ie.useState)(!1),[w,E]=(0,ie.useState)(!1),C=_i(f),k=ai(f),L=C&&a===S.PENDING,$=k&&a===S.PENDING,b=p||d,[B]=(0,ie.useState)(k&&s);(0,ie.useEffect)(()=>{Wo({button_appear:B?"yes":"no"})},[B]);let[ne,Z]=wi({coinId:n,address:i,chainId:I?.chainId},{ready:L});return ie.default.createElement("div",{className:"tx-detail-action"},L&&ie.default.createElement(ie.default.Fragment,null,ie.default.createElement(ot,{isShowCancel:c,isShowSpeedUp:s&&C,isShowSpeedupCancel:m,onCancel:()=>{A(!0)},onSpeedUp:()=>{E(!0)}}),N&&ie.default.createElement(Fi,{tx:e,signInfo:Z,visible:N,onConfirm:G=>{t(G),A(!1)},onClose:()=>{A(!1)}}),w&&ie.default.createElement(Ri,{tx:e,loading:ne,signInfo:Z,visible:w,onConfirm:G=>{t(G),E(!1)},onClose:()=>{E(!1)}})),$&&ie.default.createElement(ie.default.Fragment,null,b&&ie.default.createElement(Wi,{data:e,onRefresh:t}),B&&ie.default.createElement(ji,{data:e,onRefresh:t})))}var zi=Kr;l();_();var ee=u(v()),Kt=u(Pe()),Ln=u(Vo());l();_();var K=u(v()),tn=u(Pe());H();l();_();var Yt=u(v());H();l();_();var Xi=u(v()),qi=u(li());H();jo();zo();Xo();var jr=e=>{let{coinId:t}=e||{},i=(0,Xi.useRef)(!1),n=pi();return(0,qi.useMemoizedFn)(async()=>{try{if(i.current===!0||!t)return;i.current=!0;let a=await Qe().getUserUniqueId(),s={coinId:t,accountId:n,userUniqueId:a},m={headers:await Qe().getSignRequestHeaders({walletId:n})},[f]=await Promise.all([Qo({coinId:t}),pt(ft.postAddCoin,s,m)]);await mi(f),pe.success(r("wallet_extension_customtoken_notification_title_token_added"))}catch{pe.error(r("wallet_home_toast_network_error"))}finally{i.current=!1}})},Ji=jr;l();_();var Qi={root:"_root_4qsur_1"};function zr({coinId:e,hideTxType:t}){let i=Si(),n=(0,Yt.useMemo)(()=>!i||!e||!!i.some(s=>(s?.childrenCoin||[]).some(c=>c.coinId===e)||s.coinId===e),[e,i]),a=Ji({coinId:e});return n||t===Lt.RISKY?null:Yt.default.createElement(si.IconButton,{className:Qi.root,icon:"okx-wallet-plugin-add",tooltip:{title:r("wallet_extension_customtoken_tooltips_add_token"),placement:_e.DIRECTION.topLeft},onClick:a})}var en=zr;l();_();var T={"retina-border-basic":"_retina-border-basic_1ee07_1",retinaBorderBasic:"_retina-border-basic_1ee07_1","coin-flow":"_coin-flow_1ee07_29",coinFlow:"_coin-flow_1ee07_29","coin-flow__include":"_coin-flow__include_1ee07_35",coinFlowInclude:"_coin-flow__include_1ee07_35","coin-flow__include-title":"_coin-flow__include-title_1ee07_42",coinFlowIncludeTitle:"_coin-flow__include-title_1ee07_42","coin-flow__include-item":"_coin-flow__include-item_1ee07_49",coinFlowIncludeItem:"_coin-flow__include-item_1ee07_49","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1ee07_55",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1ee07_55","coin-flow__include-item-token":"_coin-flow__include-item-token_1ee07_61",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1ee07_61","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1ee07_70",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1ee07_70","coin-flow__protocol":"_coin-flow__protocol_1ee07_74",coinFlowProtocol:"_coin-flow__protocol_1ee07_74","coin-flow__protocol-title":"_coin-flow__protocol-title_1ee07_81",coinFlowProtocolTitle:"_coin-flow__protocol-title_1ee07_81","coin-flow__protocol-item":"_coin-flow__protocol-item_1ee07_88",coinFlowProtocolItem:"_coin-flow__protocol-item_1ee07_88","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1ee07_94",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1ee07_94","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1ee07_100",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1ee07_100","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1ee07_109",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1ee07_109","coin-flow__mul-icons__top-right":"_coin-flow__mul-icons__top-right_1ee07_113",coinFlowMulIconsTopRight:"_coin-flow__mul-icons__top-right_1ee07_113","coin-flow__mul-icons__bottom-right":"_coin-flow__mul-icons__bottom-right_1ee07_117",coinFlowMulIconsBottomRight:"_coin-flow__mul-icons__bottom-right_1ee07_117","coin-flow__hidden-label":"_coin-flow__hidden-label_1ee07_121",coinFlowHiddenLabel:"_coin-flow__hidden-label_1ee07_121","coin-flow__label-text":"_coin-flow__label-text_1ee07_121",coinFlowLabelText:"_coin-flow__label-text_1ee07_121","coin-flow__label":"_coin-flow__label_1ee07_121",coinFlowLabel:"_coin-flow__label_1ee07_121","coin-flow__label__overflow":"_coin-flow__label__overflow_1ee07_133",coinFlowLabelOverflow:"_coin-flow__label__overflow_1ee07_133","coin-flow__label__expand":"_coin-flow__label__expand_1ee07_136",coinFlowLabelExpand:"_coin-flow__label__expand_1ee07_136","coin-flow__receive":"_coin-flow__receive_1ee07_149",coinFlowReceive:"_coin-flow__receive_1ee07_149","coin-flow__record-title":"_coin-flow__record-title_1ee07_149",coinFlowRecordTitle:"_coin-flow__record-title_1ee07_149","coin-flow__record":"_coin-flow__record_1ee07_149",coinFlowRecord:"_coin-flow__record_1ee07_149","coin-flow__record-left-box":"_coin-flow__record-left-box_1ee07_160",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1ee07_160","coin-flow__record-title-box":"_coin-flow__record-title-box_1ee07_166",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1ee07_166","coin-flow__tool-tip":"_coin-flow__tool-tip_1ee07_172",coinFlowToolTip:"_coin-flow__tool-tip_1ee07_172","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1ee07_176",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1ee07_176","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1ee07_180",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1ee07_180","protocol-margin":"_protocol-margin_1ee07_196",protocolMargin:"_protocol-margin_1ee07_196","coin-flow__record-icon":"_coin-flow__record-icon_1ee07_202",coinFlowRecordIcon:"_coin-flow__record-icon_1ee07_202","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1ee07_210",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1ee07_210","coin-flow__record-icon__mul-icons-wrap":"_coin-flow__record-icon__mul-icons-wrap_1ee07_213",coinFlowRecordIconMulIconsWrap:"_coin-flow__record-icon__mul-icons-wrap_1ee07_213","coin-flow__record-right-box":"_coin-flow__record-right-box_1ee07_230",coinFlowRecordRightBox:"_coin-flow__record-right-box_1ee07_230","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1ee07_235",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1ee07_235","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1ee07_239",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1ee07_239","coin-flow__record__plus":"_coin-flow__record__plus_1ee07_246",coinFlowRecordPlus:"_coin-flow__record__plus_1ee07_246","coin-flow__pointer":"_coin-flow__pointer_1ee07_251",coinFlowPointer:"_coin-flow__pointer_1ee07_251","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1ee07_254",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1ee07_254","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1ee07_260",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1ee07_260","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1ee07_270",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1ee07_270","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1ee07_276",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1ee07_276","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1ee07_282",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1ee07_282","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1ee07_293",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1ee07_293","coin-flow__claim":"_coin-flow__claim_1ee07_298",coinFlowClaim:"_coin-flow__claim_1ee07_298","coin-flow__claim__icon":"_coin-flow__claim__icon_1ee07_302",coinFlowClaimIcon:"_coin-flow__claim__icon_1ee07_302","coin-flow__claim-info":"_coin-flow__claim-info_1ee07_305",coinFlowClaimInfo:"_coin-flow__claim-info_1ee07_305",flowRightToken:"_flowRightToken_1ee07_347",flowRightApply:"_flowRightApply_1ee07_352"};var Xr=(e,t)=>{!e||globalThis.platform.openTab({url:`https://${t}/${e}`})},qr=e=>{e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=15?"18px":t<=17?"16px":t<=19?"14px":(t<=22,"12px")};function Jr(e){e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=13?"32px":t===14?"30px":t===15?"28px":t===16?"26px":t===17?"24px":t<=19?"22px":t<=21?"20px":t<=23?"18px":t<=26?"16px":t<=30?"14px":"12px"}function Qr({recordData:e,isNFT:t,icon:i,title:n,subTitle:a,right:s,autoWidth:c,jumpInfo:m,hasPlus:f,isNewInclude:p,addCustomCoin:d}){let I=di(),N=Rt(),A=typeof i=="string"?K.default.createElement(Ei,{isNFT:t,className:(0,tn.default)({}),src:i,alt:""}):i;return p?K.default.createElement("div",{className:`${p?T["coin-flow__protocol"]:T["coin-flow__include"]}`},K.default.createElement("div",{className:`${T["coin-flow__include-title"]}`},r("extension_defi_card_text_include_assets")),(e?.items||[]).map(w=>K.default.createElement("div",{className:`${T["coin-flow__include-item"]}`},K.default.createElement("img",{className:`${T["coin-flow__include-item-icon"]}`,alt:"",src:w.icon}),K.default.createElement(et.AdaptiveText,{className:`${T["coin-flow__include-item-token"]}`,text:w.title,ellipsis:{tooltip:!0},autoSize:qr},w.title),w.right))):K.default.createElement(K.default.Fragment,null,K.default.createElement("div",{className:`${T["coin-flow__record"]} ${m?T["coin-flow__pointer"]:""}`,onClick:()=>{Xr(m,I)}},K.default.createElement("div",{className:T["coin-flow__record-icon"]},A),K.default.createElement("div",{className:T["coin-flow__record-left-box--middle"]},K.default.createElement("div",{className:s?T["coin-flow__record-left-box--has-right"]:T["coin-flow__record-left-box"]},K.default.createElement("div",{className:`${c?T["protocol-margin"]:T["coin-flow__record-title-box"]}`},!s||c?K.default.createElement(et.AdaptiveText,{className:"coin-flow__record-title",text:n,ellipsis:{tooltip:!0},autoSize:Jr},n):K.default.createElement(et.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${T["coin-flow__record-title"]}`},n),a&&K.default.createElement("div",{className:T["coin-flow__record-sub-title"]},a)),s&&K.default.createElement("div",{className:`${T["coin-flow__record-right-box"]} ${c?"":T["coin-flow__record-halfwidth"]}`},s))),d&&K.default.createElement(en,{...d}),m&&K.default.createElement("img",{className:T["coin-flow__record-jumpInfo-box"],src:`${N}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:"goto"})),f&&K.default.createElement(ke,{className:`${T["coin-flow__record__plus"]} okds-plus`}))}var Ct=Qr;l();_();var Q=u(v()),Co=u(Pe());H();l();_();var Ye=u(v());function es({logo:e}){let{middleLogo:t,bottomRightLogo:i,topRightLogo:n}=e||{},a=i&&i.length>0,s=n&&n.length>0;return Ye.default.createElement(Ye.default.Fragment,null,Ye.default.createElement(Gt,{srcset:t&&t.length>0?t:[Ce],topRightLogo:n,bottomRightLogo:i}),(s||a)&&Ye.default.createElement("div",{className:T["coin-flow__record-icon__mul-icons-wrap"]},s&&Ye.default.createElement(Gt,{className:T["coin-flow__mul-icons__top-right"],size:"small",srcset:n}),a&&Ye.default.createElement(Gt,{className:T["coin-flow__mul-icons__bottom-right"],size:"small",srcset:i})))}var rt=es;l();_();var Se=(e,t)=>e?t?`+ ${J(e,{symbol:t})}`:`+ ${J(e)}`:"--",Ke=(e,t)=>e?t?`- ${J(e,{symbol:t})}`:`- ${J(e)}`:"--";var{NFT_AUTHORIZATION:on,NFT_CANCEL_AUTHORIZATION:nn,CANCEL_NFT:Io,AUTHORIZATION:rn,CANCEL_AUTHORIZATION:sn,REGISTRATION:ts,DAPP_APPLY:ln,DAPP_REDEEM:_n,DAPP_CLAIM:an,BRC20_TRADE:cn,BRC20_SEND:mn,BRC20_RECEIVE:dn,BRC20_MINT:pn,BRC20_INSCRIBE:fn,BRC20_DEPLOY:un,BRC30_TRADE:os,EARN_BRC30_APPLY:xn,EARN_BRC30_REDEEM:Tn,EARN_BRC30_CLAIM:Nn,EARN_BRC30_DEPLOY:is,BRC30_SEND:Cn,BRC30_RECEIVE:In,BRC30_INSCRIBE:gn,ORDINAL_NFT:wn,ORDINAL_TEXT:En,MINT_NFT:ns,BTC_NFT_BULK_RECEIVE:rs,BTC_NFT_BULK_SEND:ss,BTC_NFT_BULK_TRADE:ls,DEFI_MINT:_s,DEFI_REPAY:as,RUNES_ETCH:hn,RUNES_SWEEP:An}=o,cs="/static/images/tx-history/default-nft-detail.svg";function ms(e){return e?cs:Ce}var He={[rn]:"wallet_extension_header_approval_title_for",[sn]:"wallet_extension_header_approval_title_for",[Io]:"wallet_extension_text_cancel_listing_on",[on]:"wallet_extension_approve_text_for",[nn]:"wallet_extension_approve_text_for",[ln]:"wallet_extension_subtitle_into",[_n]:"wallet_extension_subtitle_receive",[an]:"wallet_extension_subtitle_from",[Tn]:"wallet_extension_subtitle_receive",[xn]:"wallet_extension_subtitle_into",[Nn]:"wallet_extension_subtitle_receive",[gn]:"wallet_extension_header_redeem_title_reveive",[fn]:"wallet_extension_header_redeem_title_reveive",[In]:"extension_wallet_details_text_include",[dn]:"extension_wallet_details_text_include",[wn]:"extension_wallet_details_text_receive",[En]:"extension_wallet_details_text_receive",[un]:"extension_wallet_details_text_receive",[pn]:"extension_wallet_details_text_receive",[Cn]:"extension_wallet_details_text_include",[mn]:"extension_wallet_details_text_include",[cn]:"extension_wallet_details_text_receive",[hn]:"extension_wallet_details_text_receive",[An]:"extension_wallet_details_text_receive",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[o.DEFI_MINT]:"extension_defi_history_header_text_receive",[o.DEFI_REPAY]:"extension_defi_history_header_text_into"},ds="/static/images/tx-history/default-protocol.svg",It="/static/images/tx-history/default-brcnft.svg";function ps(e){let t=r("wallet_extension_history_text_unknown_token"),i=r("wallet_extension_history_text_unknown_protocol"),n=Object.values(o);return(0,Q.useMemo)(()=>{let{txType:a,input:s,include:c,investTxData:m,contractInfo:f,output:p,hideTxType:d}=e,{investInfo:I,investOutCoins:N}=m??{},A=()=>!s||!s.length?null:{label:r("wallet_extension_header_redeem_title_reveive"),items:s.map(({name:h,amount:y,icon:g,nftId:D,protocolName:P,coinId:R})=>(g=g||ms(D),{isNFT:!!D,icon:g,title:Se(y,h),right:P?Q.default.createElement(fe,{className:T.protocol,size:We.SIZE.sm},P):null,autoWidth:!!P,addCustomCoin:{coinId:R,hideTxType:d}})),className:"coin-flow__receive"},w=()=>m?{label:r("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:m?.investInfo?.investLogo?.middleLogo[0]||Ce,title:m?.investInfo?.investName,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},m?.investInfo?.poolId?`ID: ${m?.investInfo?.poolId}`:"")}]}:null,E=()=>s&&s.length>0?{label:r(He[e.txType]),items:s.map(({name:h,amount:y,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R,protocolName:j})=>(g=g||It,{isNFT:!!D||P||R,icon:g,title:Se(y,h),right:j?Q.default.createElement(fe,{className:T.protocol,size:We.SIZE.sm},j):null,autoWidth:!!j})),className:"coin-flow__receive"}:null,C=()=>c?.length?{isNewInclude:!0,items:(c||[]).map(({name:h,amount:y,icon:g,vdecimalNum:D,nftId:P,brc20Coin:R,brc20sCoin:j,protocolName:de})=>({isNFT:!!P||R||j,icon:g||It,title:`- ${To(y,{fixed:D})} ${h}`,right:de?Q.default.createElement(fe,{className:T.protocol,size:We.SIZE.sm},de):null,autoWidth:!!de}))}:null,k=()=>({items:(p||[]).map(({name:h,amount:y,icon:g,vdecimalNum:D,nftId:P,brc20Coin:R,brc20sCoin:j})=>({isNFT:!!P||R||j,icon:g||It,title:`- ${To(y,{fixed:D})} ${h}`}))}),L=()=>s&&s.length>0?{items:(s||[]).map(({name:h,amount:y,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R})=>({isNFT:!!D||P||R,icon:g||It,title:`+ ${J(y,{symbol:h})}`}))}:null,$=()=>({label:r(He[e.txType]),items:[{icon:f?.icon||ds,title:f?.name||i,subTitle:e.txType!==Io&&f?.address&&Q.default.createElement(tt,{className:T["coin-flow__record-address"],label:z(f.address),value:f.address,message:r("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}),b=()=>{let{investName:h,investLogo:y,poolId:g}=I||{},D;return{isNFT:!0,label:r(He[e.txType]),items:[{icon:Q.default.createElement(rt,{logo:y}),title:h??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},g?`ID: ${g}`:""),right:D}]}},B=()=>{let{investName:h,platformName:y,investLogo:g}=I||{},D,P="",R="";if(!e.investTxData)return null;if(e.investTxData.investmentDetailType===Ne.FARM_OTHER_TOKEN&&(P=T.flowRightToken,R=T.flowRightApply),(e.investTxData.investmentDetailType===Ne.SAVE_OTHER_COIN||e.investTxData.investmentDetailType===Ne.VAULTS_OTHER_COIN||e.investTxData.investmentDetailType===Ne.FARM_OTHER_TOKEN)&&N&&N.length>0){let[{tokenName:j,num:de}]=N;D=Q.default.createElement("div",{className:(0,Co.default)(T["coin-flow__invest-apply-right"],R)},Q.default.createElement("div",{className:T["coin-flow__invest-apply-num"]},Q.default.createElement(Tt,{text:J(de),maxWidth:"85px"})),Q.default.createElement("div",{className:(0,Co.default)(T["coin-flow__invest-apply-token"],P)},j))}return{label:r(He[e.txType]),items:[{icon:Q.default.createElement(rt,{logo:g}),title:h??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},y??i),right:D}]}},ne=()=>({label:r(He[e.txType]),items:(m.investInCoins||[]).map(({tokenName:y,num:g,tokenLogo:D})=>(g=Se(g),{icon:D??t,title:`${g} ${y}`})),className:"coin-flow__receive"}),Z=()=>!N||N?.length===0?null:{label:r(He[e.txType]),items:(N||[]).map(({tokenName:h,num:y,tokenLogo:g,tokenId:D})=>{let P=Se(y),R=e.txStatus===S.SUCCESS&&D,j=R?`${P} ${h} #${R}`:`${P} ${h}`;return{icon:g,title:j}}),className:"coin-flow__receive"},G=()=>{let h=r(He[e.txType]);return m?{isNFT:!0,label:h,items:(m.investInCoins||[]).map(({tokenName:y,num:g,tokenLogo:D})=>(g=Se(g),{icon:D??t,title:`${g} ${y}`})),className:"coin-flow__receive"}:null},Xe=()=>{let{platformName:h,investLogo:y,investName:g}=I||{};return{label:r(He[e.txType]),items:[{icon:Q.default.createElement(rt,{logo:y}),title:g??t,subTitle:Q.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},h??i)}]}},xe=()=>c&&c.length>0?{isNewInclude:!0,items:(c||[]).map(({name:h,amount:y,icon:g,nftId:D,brc20Coin:P,brc20sCoin:R,protocolName:j})=>({isNFT:!!D||P||R,icon:g||It,title:`+ ${J(y,{symbol:h})}`,right:j?Q.default.createElement(fe,{className:T.protocol,size:We.SIZE.sm},j):null,autoWidth:!!j,includeAssets:c}))}:null,Re=()=>null,O={[is]:w,[gn]:E,[fn]:E,[wn]:E,[En]:E,[un]:E,[pn]:E,[hn]:E,[An]:E,[In]:xe,[dn]:xe,[os]:E,[cn]:E,[Cn]:C,[mn]:C,[on]:$,[nn]:$,[sn]:$,[rn]:$,[Io]:$,[xn]:b,[ln]:B,[Tn]:ne,[_n]:Z,[Nn]:G,[an]:Xe,[ts]:Re,[ns]:A,[ss]:k,[rs]:L,[ls]:E,[_s]:Z,[as]:B};return O[a]?O[a]():n.includes(a)?A():null},[e])}var yn=ps;l();_();var oe=u(v()),st=u(Pe());H();var bn="/static/images/tx-history/default-nft-detail.svg",fs="/static/images/tx-history/default-nft.svg",vn="/static/images/tx-history/default-brcnft.svg";function Dn(e){return e?bn:Ce}var ye={[o.AUTHORIZATION]:"wallet_extension_header_approval_title_approve",[o.CANCEL_AUTHORIZATION]:"wallet_extension_header_approval_title_cancel_approval",[o.CANCEL_NFT]:"wallet_extension_text_cancel_listing",[o.NFT_AUTHORIZATION]:"wallet_extension_approve_text_approve",[o.NFT_CANCEL_AUTHORIZATION]:"wallet_extension_title_revoke_approve",[o.DAPP_APPLY]:"wallet_extension_subtitle_investwith",[o.DAPP_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_DEPLOY]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_APPLY]:"wallet_extension_subtitle_investwith",[o.EARN_BRC30_CLAIM]:"wallet_extension_subtitle_claim",[o.BRC20_RECEIVE]:"extension_wallet_details_text_receive",[o.BRC30_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_DEPLOY]:"extension_wallet_details_text_send",[o.ORDINAL_NFT]:"extension_wallet_details_text_send",[o.ORDINAL_TEXT]:"extension_wallet_details_text_send",[o.BRC20_MINT]:"extension_wallet_details_text_send",[o.BRC30_TRADE]:"extension_wallet_details_text_send",[o.BRC20_TRADE]:"extension_wallet_details_text_send",[o.BRC20_SEND]:"extension_wallet_details_text_send",[o.BRC30_SEND]:"extension_wallet_details_text_send",[o.RUNES_SWEEP]:"extension_wallet_details_text_send",[o.DAPP_CLAIM]:"wallet_extension_subtitle_claimwith",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[o.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[o.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[o.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[o.DEFI_REPAY]:"extension_defi_history_header_text_repay_with"};function us(e){let t=r("wallet_extension_history_text_unknown_token"),i=r("wallet_extension_history_text_unknown_protocol");return(0,oe.useMemo)(()=>{let{txType:n,txStatus:a,approveInfo:s,input:c,output:m,investTxData:f,poolId:p}=e,{investInCoins:d}=e.investTxData||{},I=Object.values(o),N=()=>m&&m.length>0?{label:r(ye[n]),items:(m||[]).map(({name:O,amount:h,icon:y,nftId:g,brc20Coin:D,brc20sCoin:P,protocolName:R})=>({isNFT:!!g||D||P,icon:y||vn,title:Ke(h,O),right:R?oe.default.createElement(fe,{className:T.protocol,size:We.SIZE.sm},R):null,autoWidth:!!R}))}:null,A=()=>!c||!c?.length?null:{label:r("extension_wallet_details_text_receive"),className:"coin-flow__receive",items:(c||[]).map(({name:O,amount:h,icon:y,nftId:g,brc20Coin:D,brc20sCoin:P,protocolName:R})=>({isNFT:!!g||D||P,icon:y||vn,title:Se(h,O),right:R?oe.default.createElement("div",{className:(0,st.default)(T.protocol)},R):null,autoWidth:!!R}))},w=()=>({label:r(ye[n]),items:[{icon:s?.icon||Ce,title:s?.name||t}]}),E=()=>({label:r(ye[n]),items:[{icon:s?.nftCollectionIcon||fs,title:s?.nftCollectionName||r("wallet_extension_title_approve_nft_collection")}]}),C=()=>({label:r(ye[n]),items:(m||[]).map(({nftId:O,icon:h,name:y})=>({isNFT:!!O,icon:h||bn,title:y||r("wallet_extension_title_approve_nft")}))}),k=()=>{let{registerInfo:O}=e;return O?{label:"",items:[{icon:O?.icon||Ce,title:O?.name||t}],title:r("wallet_extension_title_approve_nft")}:null},L=()=>({label:r(ye[n]),items:(d||[]).map(({tokenName:O,num:h,tokenLogo:y})=>(h=Ke(h),{icon:y??t,title:`${h} ${O}`}))}),$=()=>({label:r(ye[n]),items:(d||[]).map(({tokenName:O,num:h,tokenLogo:y})=>(h=Ke(h),{icon:y??t,title:`${h} ${O}`}))}),b=()=>{let{investInfo:O,redeemShowNum:h}=e.investTxData||{},{investName:y,platformName:g,investLogo:D}=O||{},P=null,R="",j="";if(!e.investTxData)return null;let de=e.investTxData.investmentDetailType;if((de==Ne.FARM_LP_TOKEN||de==Ne.FARM_OTHER_TOKEN)&&(R=T.flowRightToken,j=T.flowRightApply),h&&d&&d.length){let ao=Ke(d[0]?.num);P=oe.default.createElement("div",{className:(0,st.default)(T["coin-flow__invest-apply-right"],j)},oe.default.createElement("div",{className:T["coin-flow__invest-apply-num"]},oe.default.createElement(et.Text,{ellipsis:{tooltip:!0},className:T["coin-flow__invest-apply-num__tooltip"]},ao)),oe.default.createElement("div",{className:(0,st.default)(T["coin-flow__invest-apply-token"],R)},d[0]?.tokenName))}return{label:r(ye[n]),items:[{icon:oe.default.createElement(rt,{logo:D}),title:y??t,right:P,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},g??i)}]}},B=()=>f?{label:r(ye[n]),items:[{isNFT:!1,icon:f.investInfo.investLogo.middleLogo[0]||Ce,title:f.investInfo.investName,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},f.investInfo.poolId?`ID: ${f.investInfo.poolId}`:"")}]}:null,ne=()=>f?{label:r(ye[n]),items:[{isNFT:!1,icon:f.investInfo.investLogo.middleLogo[0]||Ce,title:f.investInfo.investName,subTitle:oe.default.createElement("div",{className:T["coin-flow__invest-platform-name"]},p?`ID: ${p}`:"")}]}:null,Z=()=>{let O;return a===S.PENDING?O=oe.default.createElement("div",{className:T["coin-flow__claim"]},r("wallet_extension_subtitle_claimwith"),oe.default.createElement(_e,{title:r("wallet_extension_card_ntfy_claim_text"),placement:_e.DIRECTION.bottomLeft},oe.default.createElement("span",{className:`okds-information-circle ${T["coin-flow__claim__icon"]}`}))):O=r(ye[n]),{label:O,items:(d||[]).map(({tokenName:h,num:y,tokenLogo:g})=>(y=Se(y),{icon:g??t,title:`${y} ${h}`,className:"coin-flow__receive"}))}},G=()=>m&&m.length>0?{label:r("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:O,amount:h,icon:y,nftId:g,protocolName:D,include:P})=>({isNFT:!!g,icon:y||Dn(g),title:Ke(h,O),right:D?oe.default.createElement("div",{className:(0,st.default)(T.protocol)},D):null,autoWidth:!!D,includeAssets:P}))}:null,Xe=()=>m&&m.length>0?{label:r("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:O,amount:h,icon:y,nftId:g,protocolName:D})=>({isNFT:!!g,icon:y||Dn(g),title:Ke(h,O),right:D?oe.default.createElement("div",{className:(0,st.default)(T.protocol)},D):null,autoWidth:!!D}))}:null,xe=()=>null,Re={[o.BRC30_INSCRIBE]:N,[o.BRC20_INSCRIBE]:N,[o.BRC20_DEPLOY]:N,[o.ORDINAL_NFT]:N,[o.ORDINAL_TEXT]:N,[o.BRC20_MINT]:N,[o.BRC20_TRADE]:N,[o.BRC30_TRADE]:N,[o.BRC20_RECEIVE]:A,[o.BRC30_RECEIVE]:A,[o.RUNES_SWEEP]:N,[o.CANCEL_AUTHORIZATION]:w,[o.AUTHORIZATION]:w,[o.NFT_CANCEL_AUTHORIZATION]:E,[o.NFT_AUTHORIZATION]:E,[o.CANCEL_NFT]:C,[o.REGISTRATION]:k,[o.EARN_BRC30_APPLY]:L,[o.DAPP_APPLY]:$,[o.EARN_BRC30_REDEEM]:B,[o.DAPP_REDEEM]:b,[o.EARN_BRC30_CLAIM]:ne,[o.DAPP_CLAIM]:Z,[o.BTC_NFT_BULK_SEND]:xe,[o.BTC_NFT_BULK_RECEIVE]:xe,[o.BRC20_SEND]:G,[o.BRC30_SEND]:G,[o.DEFI_MINT]:b,[o.DEFI_REPAY]:$,default:Xe};return Re[n]?Re[n]():I.includes(n)?Xe():null},[e])}var Sn=us;function go({className:e,label:t,children:i}){return ee.default.createElement("div",{className:(0,Kt.default)(t?T["coin-flow__label"]:"",e)},ee.default.createElement("div",{className:T["coin-flow__label-text"]},t),ee.default.createElement("div",null,i))}function xs({className:e,label:t,children:i,isExpand:n,setExpand:a}){return ee.default.createElement("div",{className:(0,Kt.default)(t?T["coin-flow__label__overflow"]:"",e)},ee.default.createElement("div",{className:T["coin-flow__label-text"]},t),ee.default.createElement("div",null,n?i:i.slice(0,2)),ee.default.createElement($t,{className:T["coin-flow__label__expand"],side:n?$t.SIDE.TOP:$t.SIDE.BOTTOM,onClick:()=>{a(!n)}}))}function wo({data:e}){let{txType:t}=e,i=Sn(e),n=yn(e),[a,s]=(0,ee.useState)(!1);if(!i&&!n||t===o.CANCEL_NFT&&i.items.length===0)return null;let c=!i||!n,m=f=>{if(!f)return null;let{items:p,label:d,...I}=f,N=e?.investmentPath;return f?.isNewInclude?ee.default.createElement(go,{...I,label:d},ee.default.createElement(Ct,{recordData:f,isNewInclude:f?.isNewInclude})):t===o.DAPP_APPLY||t===o.DAPP_REDEEM?ee.default.createElement(go,{...I,label:d},p.map((A,w)=>ee.default.createElement(Ct,{jumpInfo:A.subTitle?N:void 0,...A,key:w,hasPlus:p.length>=2&&w!==p.length-1,label:d}))):p?.length>2?ee.default.createElement(xs,{...I,label:d,isExpand:a,setExpand:s},p.map((A,w)=>ee.default.createElement(Ct,{...A,key:w}))):ee.default.createElement(go,{...I,label:d},p?.map((A,w)=>ee.default.createElement(Ct,{jumpInfo:A.subTitle?N:void 0,...A,key:w})))};return ee.default.createElement("div",{className:(0,Kt.default)(T["coin-flow"],{[T["coin-flow__hidden-label"]]:c})},m(i),m(n))}var Bn=wo;wo.propTypes={data:Ln.default.object};wo.defaultProps={data:{}};l();_();var le=u(v()),Fn=u(li());qe();H();Ko();l();_();var Ie=u(v());H();l();_();var jt={"tx-detail-info__add-address":"_tx-detail-info__add-address_psmhd_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_psmhd_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_psmhd_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_psmhd_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_psmhd_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_psmhd_1"};function Ts({address:e,network:t}){let[i,n]=(0,Ie.useState)(!1),[a,s]=(0,Ie.useState)({}),[c,m]=(0,Ie.useState)(""),f=bi(()=>{m(Vt.TYPE.ADD),s({address:e,network:t}),n(!0)}),p=I=>{n(!1),setTimeout(()=>{m(Vt.TYPE.EDIT),s({...I,network:t}),n(!0)})},d=()=>{n(!1),s({}),m("")};return Ie.default.createElement(Ie.default.Fragment,null,Ie.default.createElement("div",{className:jt["tx-detail-info__add-address"]},Ie.default.createElement(_e,{className:jt["tx-detail-info__add-address__tooltip"],title:i?null:r("wallet_extension_history_pop_tap_to_add"),type:_e.TYPES.neutral,placement:_e.DIRECTION.bottomRight},Ie.default.createElement(ke,{className:`${jt["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:f}))),Ie.default.createElement(Vt,{visible:i,type:c,data:a,onClose:d,onChangeToEdit:p}))}var zt=Ts;l();_();var ge={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function Ns(e,t){let i=e||[{address:t}];return[...new Set(i.map(({address:n})=>n))]}function Cs({data:e}){let{inAdrList:t,txType:i,mainCoinId:n,coinId:a,okexAccount:s,txStatus:c}=e,[,m]=Ut(a),p=Pt({coinId:+n})?.localType,[d,I]=le.default.useState(!0),N=Ht(p),A=xi(),w=Ns(t,s),E=(0,Fn.useCreation)(()=>w.map(C=>{let k=!1,L;(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.BRC20_RECEIVE||i===o.BRC20_SEND||i===o.BRC20_INSCRIBE||i===o.BRC20_MINT||i===o.BRC20_DEPLOY||i===o.ORDINAL_NFT||i===o.ORDINAL_TEXT||i===o.BRC20_TRADE||i===o.BRC30_TRADE||i===o.RUNES_SWEEP)&&(L=N(C),k=!L),i===o.REDEEM&&c===S.SUCCESS&&(L={address:C,name:s});let b=Object.values(A).find(Z=>!De(Z[C]))?.[C],B=b?Mt(r,b,m?.symbol):r("wallet_extension_popup_title_receiving_address_copied"),ne=b?r(At[yt[b]]):"";return{address:C,canAdd:k,msg:B,tag:ne,tag2:L}}),[t,i,N,A,m,r]);return!E||E.length===0?null:le.default.createElement("div",{className:ge.address},le.default.createElement("div",{className:ge["address-type"]},r("wallet_extension_mid_text_from")),E.map(C=>le.default.createElement(le.default.Fragment,null,le.default.createElement("div",{className:ge["address-content"]},le.default.createElement("div",{className:ge["address-string"]},C.address),le.default.createElement("div",{className:ge["address-right"]},le.default.createElement(tt,{label:C.label,value:C.address,message:C.msg}),C.canAdd&&le.default.createElement(zt,{address:C.address,network:p}))),le.default.createElement("div",{className:ge["address-container"]},C.tag&&le.default.createElement(fe,{className:ge["address-tag"]},C?.tag),C?.tag2?.name&&le.default.createElement(fe,{className:ge["address-tag"]},C?.tag2?.name)))),le.default.createElement("div",{className:d?ge.fold:ge.unfold,onClick:()=>{I(!d)}}))}var Rn=Cs;l();_();var re=u(v());l();_();var On={loaderContainer:"_loaderContainer_1dvk5_1"};var Is=()=>re.default.createElement(se.Space,{space:54,direction:se.DIRECTION.vertical,className:On.loaderContainer},re.default.createElement(se.Space,{space:30,direction:se.DIRECTION.vertical},re.default.createElement(se.Space,{space:12,direction:se.DIRECTION.vertical},re.default.createElement(be.Input,{active:!0,style:{width:"45px",height:"12px"}}),re.default.createElement(be.Input,{active:!0,style:{width:"178px",height:"32px"}})),re.default.createElement(se.Space,{space:12,direction:se.DIRECTION.vertical},re.default.createElement(be.Input,{active:!0,style:{width:"45px",height:"12px"}}),re.default.createElement(be.Input,{active:!0,style:{width:"178px",height:"32px"}}))),re.default.createElement(se.Space,{space:30,direction:se.DIRECTION.vertical},re.default.createElement(se.Space,{space:12,direction:se.DIRECTION.vertical},re.default.createElement(be.Input,{active:!0,style:{width:"45px",height:"12px"}}),re.default.createElement(be.Input,{active:!0,style:{width:"250px",height:"32px"}})),re.default.createElement(se.Space,{space:12,direction:se.DIRECTION.vertical},re.default.createElement(be.Input,{active:!0,style:{width:"45px",height:"12px"}}),re.default.createElement(be.Input,{active:!0,style:{width:"250px",height:"32px"}})))),Pn=Is;l();_();var ae=u(v());H();Ko();l();_();var Ve={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};function gs({data:e}){let{to:t,txType:i,contractInfo:n,mainCoinId:a,coinId:s}=e,[,c]=Ut(s),f=Pt({coinId:+a})?.localType,p=Ht(f),d=Ti(f),{label:I,toAddress:N,msg:A,tags:w,canAdd:E}=(0,ae.useMemo)(()=>{let C,k,L=!1,$=[];if(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.REDEEM||[o.BRC20_INSCRIBE,o.BRC20_MINT,o.ORDINAL_NFT,o.ORDINAL_TEXT,o.BRC20_DEPLOY,o.BRC20_RECEIVE,o.BRC20_SEND,o.BRC20_TRADE,o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY,o.BRC30_SEND,o.BRC30_RECEIVE,o.EARN_BRC30_CLAIM,o.BRC30_INSCRIBE,o.BRC30_TRADE,o.RUNES_SWEEP].includes(i)){let Z=p(t);L=!Z,C=r("wallet_extension_mid_text_to"),Z?.name&&$.push(Z.name);let G=it(e);G&&$.push(G),k=t}else{let{address:Z,name:G}=n||{};C=i===o.REGISTRATION?r("wallet_extension_item_register_address"):r("wallet_extension_mid_text_interaction_address"),$.push(G),i===o.AUTHORIZATION||i===o.CANCEL_AUTHORIZATION||i===o.NFT_AUTHORIZATION||i===o.NFT_CANCEL_AUTHORIZATION?k=t:k=Z}let b=d[k],B=b?r(At[yt[b]]):"",ne=b?Mt(r,b,c?.symbol):r("wallet_extension_popup_title_receiving_address_copied");return $.unshift(B),{label:C,toAddress:k,tags:$,canAdd:L,msg:ne}},[i,d,p,t,r,n]);return i===o.ZK_REGISTER||!N?null:ae.default.createElement(ae.default.Fragment,null,ae.default.createElement("div",{className:Ve["address-to"]},ae.default.createElement("div",{className:Ve["address-type"]},I),ae.default.createElement("div",{className:Ve["address-content"]},ae.default.createElement("div",{className:Ve["address-string"]},N),ae.default.createElement("div",{className:Ve["address-right"]},ae.default.createElement(tt,{value:N,message:A}),E&&ae.default.createElement(zt,{address:N,network:f}))),ae.default.createElement("div",{className:Ve["address-container"]},w.map(C=>C&&ae.default.createElement(fe,{className:Ve["tx-clipboard__tag"]},C)))))}var kn=gs;l();_();var W=u(v()),er=u(Ae());qe();H();co();l();_();var Be=u(v()),Un=u(Pe()),gt=u(Vo());H();l();_();var Le={"retina-border-basic":"_retina-border-basic_1n7t6_1",retinaBorderBasic:"_retina-border-basic_1n7t6_1","tx-hash__inner":"_tx-hash__inner_1n7t6_29",txHashInner:"_tx-hash__inner_1n7t6_29","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1n7t6_33",txHashInnerWrap:"_tx-hash__inner-wrap_1n7t6_33","tx-hash__vertical":"_tx-hash__vertical_1n7t6_74",txHashVertical:"_tx-hash__vertical_1n7t6_74","tx-hash__icon":"_tx-hash__icon_1n7t6_80",txHashIcon:"_tx-hash__icon_1n7t6_80","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1n7t6_85",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1n7t6_85","tx-hash__message":"_tx-hash__message_1n7t6_98",txHashMessage:"_tx-hash__message_1n7t6_98","tx-hash__tag":"_tx-hash__tag_1n7t6_102",txHashTag:"_tx-hash__tag_1n7t6_102"};function Eo({className:e,label:t,value:i,message:n,tag:a,url:s,showExplorerUrl:c}){let[m,f]=Oi(),p=()=>{m||(f(i),$o.success({title:n||r("wallet_receive_toast_address_copied"),desc:Be.default.createElement("div",{className:Le["tx-hash__message"]},i)}))},d=()=>{!c||globalThis.platform.openTab({url:s})};return Be.default.createElement("div",{className:(0,Un.default)(Le["tx-hash"],e)},Be.default.createElement("div",{className:Le["tx-hash__inner"]},Be.default.createElement("div",{className:Le[c?"tx-hash__inner-wrap":""],onClick:d},t,a&&Be.default.createElement("div",{className:Le["tx-hash__tag"]},a)),Be.default.createElement("div",{className:Le["tx-hash__vertical"]}),Be.default.createElement("div",{className:Le["tx-hash__icon"],onClick:p},Be.default.createElement(ke,{className:`okx-wallet-plugin-copy-1 ${Le["okx-wallet-plugin-copy-1"]}`}))))}var Xt=Eo;Eo.propTypes={label:gt.default.any,value:gt.default.string,message:gt.default.string,className:gt.default.string};Eo.defaultProps={label:"",value:"",className:"",message:""};l();_();var qt=u(v());H();function ws(e){let{txType:t,approveInfo:i}=e,{amount:n,decimalNum:a}=i||{},s=(0,qt.useMemo)(()=>n==="115792089237316195423570985008687907853269984665640564039457584007913129639935"?r("wallet_extension_mid_text_unlimited"):J(n,{decimals:a}),[n]);return t!==o.AUTHORIZATION?null:qt.default.createElement(X,{label:r("wallet_extension_mid_text_approved_amount"),value:s})}var Mn=ws;l();_();var Gn=u(v());H();co();function Es({txType:e,mainCoinId:t,confirmedCount:i}){return e===o.ZK_REGISTER&&t===mt?null:Gn.default.createElement(X,{label:r("wallet_extension_mid_text_block_confirmation"),value:i})}var Hn=Es;l();_();var Jt=u(v());H();l();_();var Vn=u(v());Pr();function ho(){let e=Ii(),t=Ci();return(0,Vn.useCallback)(i=>{try{let n=i??`type: ${String(i)}`;Ro.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:n,coinIdType:typeof i,coinsReady:e,coinsMapSize:Object.keys(t??{}).length,coinExisted:i!=null?t?.[i]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(n)}]},level:"info"})}catch(n){console.log(n)}},[e,t])}function hs({mainCoinId:e}){let{coin:t}=Me(e,!1),i=ho();return(0,Jt.useEffect)(()=>{setTimeout(()=>{t?.coinId||i(e)},1500)},[t,e,i]),Jt.default.createElement(X,{label:r("wallet_extension_mid_text_network"),value:t.chainName})}var $n=hs;l();_();var Qt=u(v()),Wn=u(Ae());H();co();po();var As=[mt,Uo];function ys({mainCoinId:e,txStatus:t,feeRebate:i,feeRebateUsd:n,serviceCharge:a,chainSymbol:s,serviceChargeUsd:c,feeName:m,feeDecimalNum:f,txType:p}){let d=As.includes(e),{coin:I}=Me(e,!1),N=(0,Wn.useSelector)(St),A,w;if(p===o.DAPP_UNISAT||p===o.ZK_REGISTER&&e===mt)return null;d?(A=f,w=m):(A=I.decimals,w=s);let C=J(i||a||0,{symbol:w,decimals:A||0});if(t!==S.PENDING){let k=n||c,{usdToThisRate:L}=N,$=Et(k,L);C+=` (${ri($,{useApproximate:!1,symbol:N.symbol})})`}return Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement(X,{label:i?r("wallet_extension_sui_desc_network_fee_refund"):r("wallet_extension_mid_text_network_fee"),value:C}))}var Zn=ys;l();_();var Yn=u(v());H();function vs({txType:e,investTxData:t}){if(!t||!t.lpTokenInfo||[Ne.FARM_LP_TOKEN,Ne.FARM_OTHER_TOKEN].includes(t?.investmentDetailType))return null;let i;if(e===o.DAPP_APPLY?i="wallet_extension_info_receive":e===o.DAPP_REDEEM&&(i="wallet_extension_info_pay"),!i)return null;let{num:n,tokenName:a}=t.lpTokenInfo;return Yn.default.createElement(X,{label:r(i),value:J(n,{symbol:a})})}var Kn=vs;l();_();var qn=u(v());H();l();_();qe();H();var Ds="okx-wallet-plugin-lock-1",bs="okx-wallet-plugin-enrollment",jn=(e={})=>{let{txType:t,assetChange:i=[],poolLogo:n}=e;if(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION||t===o.DAPP_NFT||t===o.CONTRACTCALL||t===o.CANCEL_NFT||t===o.NFT_CANCEL_AUTHORIZATION)return[e.contractIcon||No(e)];if(t===o.NFT_AUTHORIZATION)return[e.contractIcon||Ds];if(t===o.ZK_REGISTER)return[bs];if(t===o.EARN_BRC30_DEPLOY)return[n];let a=i.map(s=>{let{coinImgUrl:c}=s||{};return c||Hi(s,e)});return a.reverse(),a.length===0?[No(e)]:a},eo=(e={})=>{let{txType:t,approveSymbol:i,nftCollectionName:n}=e;return Zt(t,{symbol:i,collection:n},e)};function Ss(e){let t=it(e)||z(e.to);return`${r("wallet_extension_history_list_send_to")}   ${t}`}function Ls(e){let t=z(e.from);return`${r("wallet_extension_history_list_receive_from")}   ${t}`}function Bs(e){return e.contractName||z(e.to)}function Fs(e){return z(e.from)}function Rs(e){return e.poolId?`Pool ID: ${e.poolId}`:""}function Os(e){return z(e.from)}function Ps(e){return`${r("wallet_extension_history_list_receive_from")}   ${e.okexAccount}`}function ks(e){let{contractName:t,contractAddress:i}=e;return t||z(i)||""}function Us(e,t){return[o.TRANS_OUT,o.SEND_NFT,o.BRC20_SEND,o.BRC20_RECEIVE,o.BRC30_TRADE,o.BRC30_SEND].includes(e)?Ss(t):[o.TRANS_IN,o.RECEIVE_NFT,o.BRC30_RECEIVE].includes(e)?Ls(t):e===o.CANCEL_NFT?Bs(t):e===o.ZK_REGISTER?Fs(t):[o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY].includes(e)?Rs(t):e===o.BRC30_INSCRIBE?Os(t):e===o.REDEEM?Ps(t):ks(t)}var zn=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:a}=e,s=Us(n,e);if(s&&i.push(s),a===S.PENDING){let c=Oe(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(c)}return i},Xn=(e={})=>{let{assetChange:t=[],txType:i,repeatTxType:n,coinId:a}=e,{baseCoin:s}=Me(a,!0),c=Ot(s.coinId);return t.map(f=>{let{direction:p,coinAmount:d,coinSymbol:I}=f||{};if(De(d))return null;let N=null;return(d!=="0"||c&&(i===o.TRANS_IN||i===o.TRANS_OUT)&&n!==Y.CANCELING&&n!==Y.SPEEDING_CANCEL)&&(N=J(d)),i===o.CANCEL_NFT?{coinAmount:"",symbol:I}:{direction:p,coinAmount:N,symbol:I}}).filter(Boolean)};function Ms(e){let{txType:t}=e,i=eo(e);return t===o.ZK_REGISTER&&(i=r("wallet_extension_history_text_change_pubkey")),qn.default.createElement(X,{label:r("wallet_extension_info_text_type"),value:i})}var Jn=Ms;l();_();var Qn={"tx-detail-info":"_tx-detail-info_7des1_1",txDetailInfo:"_tx-detail-info_7des1_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_7des1_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_7des1_5","tx-detail-info__status":"_tx-detail-info__status_7des1_8",txDetailInfoStatus:"_tx-detail-info__status_7des1_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_7des1_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_7des1_20",spin:"_spin_7des1_1","tx-detail-info__network":"_tx-detail-info__network_7des1_23",txDetailInfoNetwork:"_tx-detail-info__network_7des1_23","tx-detail-info__to-name":"_tx-detail-info__to-name_7des1_33",txDetailInfoToName:"_tx-detail-info__to-name_7des1_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_7des1_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_7des1_43","tx-detail-info__add-address":"_tx-detail-info__add-address_7des1_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_7des1_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_7des1_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_7des1_54"};function Gs({memo:e,mainCoinId:t}){return De(e)?null:W.default.createElement(X,{label:t===Mo?r("wallet_extension_import_desc_comment"):r("wallet_extension_text_memocontent"),value:W.default.createElement(Tt,{text:e||"--",maxWidth:"260px"})})}function Hs({mev:e}){return De(e)?null:W.default.createElement(X,{label:r("wallet_extension_ton_order_header_mev"),value:W.default.createElement(Tt,{text:e||"--",maxWidth:"260px"})})}function Vs({data:e}){let t=(0,er.useSelector)(bt),{txTime:i,txHash:n,investTxData:a,txHash1:s,txHash2:c,explorerUrl:m,explorerUrl1:f,explorerUrl2:p,showExplorerUrl:d}=e;return W.default.createElement("div",{className:Qn["tx-detail-info"]},W.default.createElement(X,{label:r("wallet_extension_mid_text_time"),value:Oe(i,{format:"yyyyMMddHHmmss",locale:t})}),W.default.createElement(Jn,{...e}),W.default.createElement(Kn,{...e}),W.default.createElement(Zn,{...e}),W.default.createElement($n,{...e}),!s&&n&&W.default.createElement(X,{label:r("wallet_extension_mid_text_transaction_hash"),value:W.default.createElement(Xt,{showExplorerUrl:d,label:z(n),value:n,url:m,message:r("wallet_extension_popup_title_transaction_hash_copied")})}),s&&W.default.createElement(X,{label:r("extension_wallet_details_item_transaction_hash1"),value:W.default.createElement(W.default.Fragment,null,W.default.createElement(Xt,{showExplorerUrl:d,label:z(s),value:s,url:f,message:r("wallet_extension_popup_title_transaction_hash_copied")}))}),c&&W.default.createElement(X,{label:r("extension_wallet_details_item_transaction_hash2"),value:W.default.createElement(W.default.Fragment,null,W.default.createElement(Xt,{showExplorerUrl:d,label:z(c),value:c,url:p,message:r("wallet_extension_popup_title_transaction_hash_copied")}))}),W.default.createElement(Hn,{...e}),a?.validateName&&W.default.createElement(X,{label:r("extension_wallet_history_text_validator"),value:z(a?.validateName)}),W.default.createElement(Mn,{...e}),W.default.createElement(Hs,{...e}),W.default.createElement(Gs,{...e}))}var tr=Vs;l();_();var je={"retina-border-basic":"_retina-border-basic_1m2sh_1",retinaBorderBasic:"_retina-border-basic_1m2sh_1","tx-detail":"_tx-detail_1m2sh_29",txDetail:"_tx-detail_1m2sh_29","metax-ok-navigator":"_metax-ok-navigator_1m2sh_34",metaxOkNavigator:"_metax-ok-navigator_1m2sh_34","tx-detail__inner":"_tx-detail__inner_1m2sh_40",txDetailInner:"_tx-detail__inner_1m2sh_40","tx-detail__underline":"_tx-detail__underline_1m2sh_45",txDetailUnderline:"_tx-detail__underline_1m2sh_45","tx-detail__loading":"_tx-detail__loading_1m2sh_80",txDetailLoading:"_tx-detail__loading_1m2sh_80"};l();_();var ze=u(v()),or=u(Pe());H();l();_();var lt={"tx-detail-status":"_tx-detail-status_xprxj_1",txDetailStatus:"_tx-detail-status_xprxj_1","tx-detail-icon":"_tx-detail-icon_xprxj_5",txDetailIcon:"_tx-detail-icon_xprxj_5","tx-detail-loading":"_tx-detail-loading_xprxj_12",txDetailLoading:"_tx-detail-loading_xprxj_12","tx-detail-loader":"_tx-detail-loader_xprxj_17",txDetailLoader:"_tx-detail-loader_xprxj_17","tx-detail-text":"_tx-detail-text_xprxj_21",txDetailText:"_tx-detail-text_xprxj_21","tx-detail-failed":"_tx-detail-failed_xprxj_31",txDetailFailed:"_tx-detail-failed_xprxj_31"};var $s={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled","tx-detail-withdraw":"wallet_extension_status_tag_withdraw"},Ws={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function Zs({className:e,data:t}){if(!t)return ze.default.createElement(ze.default.Fragment,null);let{txStatus:i,isShowPending:n,repeatTxType:a}=t,s="";i===S.CONFIRMING||i===S.SUCCESS?i===S.SUCCESS&&a===Y.SPEEDING_CANCEL||a===Y.CANCELING?s="tx-detail-canceled":s="tx-detail-completed":i===S.PENDING?(n&&a===Y.CONFIRMING&&(s="tx-detail-pending"),!n&&a===Y.CONFIRMING&&(s="tx-detail-waiting"),a===Y.SPEEDING&&(s="tx-detail-speeding"),a===Y.CANCELING&&(s="tx-detail-canceling"),a===Y.SPEEDING_CANCEL&&(s="tx-detail-speedingcancel")):i===S.ERROR?s="tx-detail-failed":i===S.WITHDRAWING&&(s="tx-detail-withdraw");let c=Ws[s]||"";return ze.default.createElement("div",{className:(0,or.default)(lt["tx-detail-status"],{[lt["tx-detail-failed"]]:s==="tx-detail-failed"},e)},ze.default.createElement(ke,{className:`${lt["tx-detail-icon"]} ${c}`}),!c&&ze.default.createElement(Je.Circle,{size:Je.SIZE.md,className:lt["tx-detail-loading"],loaderClassName:lt["tx-detail-loader"]}),ze.default.createElement("div",null,r($s[s])))}var ir=Zs;l();_();function Ks({params:e,onRefresh:t,onClose:i,visible:n}){let a=(0,M.useRef)(""),s=(0,M.useRef)(null),[c,m]=(0,M.useState)(),[f,p]=(0,M.useState)(!1),d=()=>{if(!e)return;let{coinId:w,address:E,orderType:C,orderId:k}=e;p(!0),Jo({coinId:w,txId:a.current,address:E,orderType:C,orderId:k}).then(L=>{e&&!Oo(L)&&m({...L,address:E})}).catch(()=>{}).finally(()=>{p(!1)})};(0,M.useEffect)(()=>{e?(a.current=e.txId,d(),s.current=d):(a.current="",m(null))},[e]);let I=()=>{s.current&&a.current&&s.current()},N=xt("wallet-transaction"),A=xt("wallet-tx-confirm",{onError:I,pollingInterval:10*1e3});return(0,M.useEffect)(()=>{(N&&c?.orderTxIdList?.includes(N.data?.txId)||A&&A.data?.txId===a.current&&A.data?.confirmedCount<=A.data?.totalConfirm)&&d()},[N,A]),M.default.createElement(he.Action,{isFull:!0,titleCenter:!0,visible:n,onClose:i,title:c?M.default.createElement(ir,{data:c,className:je["tx-detail__status"]}):M.default.createElement(M.default.Fragment,null)},M.default.createElement("div",{className:je["tx-detail"]},c&&!f&&M.default.createElement(M.default.Fragment,null,M.default.createElement("div",{className:je["tx-detail__underline"]}),M.default.createElement(Pi,{message:c.failReason}),M.default.createElement("div",{className:je["tx-detail__inner"]},M.default.createElement(Bn,{data:c})," ",M.default.createElement("div",{className:je["tx-detail__underline"]}),c&&M.default.createElement(Rn,{data:c}),c&&M.default.createElement(kn,{data:c}),M.default.createElement("div",{className:je["tx-detail__underline"]}),M.default.createElement(tr,{data:c}),M.default.createElement(zi,{data:c,onRefresh:w=>{a.current=w,d(),t&&t()}}))),f&&M.default.createElement(Pn,null)))}var Ao=Ks;l();_();l();_();var io=u(v());l();_();var ve=u(v()),nr=u(Ae()),rr=u(ni());l();_();H();function js(e,t,i){if(e===S.PENDING&&!t)return r("wallet_extension_history_list_status_waiting");if(e===S.PENDING&&t){if(i===Y.CONFIRMING)return"";if(i===Y.SPEEDING)return r("wallet_extension_send_status_speedingup");if(i===Y.CANCELING)return r("wallet_extension_send_status_canceling");if(i===Y.SPEEDING_CANCEL)return r("wallet_extension_send_status_canceling")}return""}var to=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===S.SUCCESS&&(n===Y.CANCELING||n===Y.SPEEDING_CANCEL)?r("wallet_extension_send_status_canceled"):t===S.CONFIRMING||t===S.SUCCESS?"":t===S.ERROR?r("wallet_extension_history_status_failed"):t===S.WITHDRAWING?r("wallet_extension_status_tag_withdraw"):js(t,i,n)},oo=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===S.SUCCESS&&(n===Y.CANCELING||n===Y.SPEEDING_CANCEL)?ut.CANCELED:t===S.CONFIRMING||t===S.SUCCESS?"":t===S.ERROR?ut.FAILED:t===S.PENDING&&!i?ut.WAITING:ut.PENDING};var zs=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,rr.useHistory)(),a=(0,nr.useSelector)(Dt),s=jn(e),c=Xn(e),m=eo(e),f=zn(e,a),p=oo(e),d=to(e),I=Gi(e),N=Vi(e),A=Wt(f,c),w=ve.default.createElement(F.Label,{className:"tx-history-ml4",type:p,text:d,data:e}),E=e?.dexOrderId;return ve.default.createElement(F.ItemContainer,{onClick:()=>{E&&n.push(`${vt}/${e.dexOrderId}`),t()}},ve.default.createElement(F.Row,{assets:c,align:A},ve.default.createElement(F.Info,{icons:s,title:m,details:f,label:w,data:e}),ve.default.createElement(F.Assets,{assets:c,isValuelessNftTxType:N})),I&&ve.default.createElement(F.NFTs,{data:e}),!E&&ve.default.createElement(F.Actions,{data:e,onRepeat:i}))},sr=(0,ve.memo)(zs);var Xs=({data:e={},onClick:t,onRepeat:i})=>io.default.createElement(sr,{data:e,onClick:t,onRepeat:i}),_t=(0,io.memo)(Xs);l();_();var q=u(v()),wt=u(Ae());H();l();_();var yo=u(v()),_r=u(Pe());l();_();var lr={root:"_root_17ca3_1"};function qs({className:e}){return yo.default.createElement("div",{className:(0,_r.default)(lr.root,e)},yo.default.createElement(Je.Circle,{size:Je.SIZE.md}))}var no=qs;l();_();var at=u(v());var Js=({date:e,list:t,onClick:i})=>at.default.createElement(F.List,null,at.default.createElement(F.Date,null,e),t.map((n,a)=>at.default.createElement(_t,{data:n,key:a,onClick:()=>{i(n)}}))),ar=(0,at.memo)(Js);l();_();var so=u(v());l();_();var ro=u(v());H();l();_();var cr={dialogContainer:"_dialogContainer_1av5q_1"};var mr=({onClose:e,visible:t,onClick:i,options:n})=>{let a=(s,c)=>{let{label:m,image:f}=s||{};return ro.default.createElement(xo.Coin,{symbol:m,icon:f,keyword:c,onClick:()=>{i(s)}})};return ro.default.createElement(he,{isFull:!0,onClose:e,visible:t,title:r("wallet_transfer_multichain_coin_maintitle_select_network"),noMargin:!0,containerClassName:cr.dialogContainer,alignBottom:!0,maskClosable:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300}},ro.default.createElement(xo,{searchable:{offsetTop:"0px",keyword:"chainName",placeholder:r("wallet_extension_input_search_network")},dataSource:n,renderItem:a,emptyText:r("wallet_extension_text_noresults")}))};var vo=({visible:e,setVisible:t,handleSelectNetwork:i,options:n,children:a})=>so.default.createElement(so.default.Fragment,null,a,so.default.createElement(mr,{visible:e,onClose:()=>t(!1),onClick:i,options:n}));l();_();var ur=u(v()),xr=u(Ae());l();_();var dr=u(v()),pr=u(Ae());var fr=(e="coinId")=>{let t=(0,pr.useSelector)(ci),[i]=qo(t);return{options:(0,dr.useMemo)(()=>(i||[]).map(a=>{let{chainName:s}=a;return{label:s,value:a[e],...a}}),[t])}};var Tr=({explorerUrl:e})=>{let[t,i]=ur.default.useState(!1),n=(0,xr.useSelector)(Bt),{account:a}=fi(),{options:s}=fr(),c=n?.mainCoinId;return{visible:t,setVisible:i,gotoExplore:()=>{if(!c)i(!0);else{let p=s.find(d=>d.coinId===c)?.localType;globalThis.open(`${e?.[c]}${a?.[p]}`)}},handleSelectNetwork:p=>{let d=p.coinId;i(!1),globalThis.open(`${e?.[d]}${a?.[p.localType]}`)},options:s}};l();_();var Do={"tx-history-extra":"_tx-history-extra_1fqw0_1",txHistoryExtra:"_tx-history-extra_1fqw0_1",list:"_list_1fqw0_4",explore:"_explore_1fqw0_7"};var Qs=({pendingList:e,completedList:t,isLoading:i,onRepeat:n,onClick:a,onContainer:s,explorerUrl:c})=>{let m=(0,wt.useSelector)(Ft),f=(0,wt.useSelector)(ii),{init:p}=(0,wt.useSelector)(Bt),d=(0,wt.useSelector)(oi),[I,N]=(0,q.useState)({}),[A,w]=(0,q.useState)(0),{visible:E,setVisible:C,gotoExplore:k,handleSelectNetwork:L,options:$}=Tr({explorerUrl:c});return f?q.default.createElement(F.Loading,{top:160}):i||!e?null:!i&&e.length===0&&t.length===0?q.default.createElement(vo,{visible:E,setVisible:C,handleSelectNetwork:L,options:$},q.default.createElement(F.Empty,{top:72,onButtonClick:k,buttonText:r("wallet_extension_history_btn_check_in_explorer"),description:p?r("wallet_extension_history_emptystate_no_transactions_day",{num:ei}):r("wallet_extension_history_emptystate_no_transactions_range")})):q.default.createElement(F.ListContainer,{onContainer:s,className:"tx-history-extra"},q.default.createElement(F.Dialogs,{data:I,type:A,onConfirm:()=>{N({}),w(0),n()},onCancel:()=>{w(0)}}),e.length>0?q.default.createElement(q.default.Fragment,null,q.default.createElement(F.PendingTag,null),q.default.createElement("div",{className:Do.list},e.map((b,B)=>q.default.createElement(_t,{data:b,key:B,onClick:()=>{a(b)},onRepeat:ne=>{N(b),w(ne)}})))):null,t.map(({date:b,list:B},ne)=>q.default.createElement(ar,{date:b,list:B,key:ne,onClick:a})),!d&&q.default.createElement(vo,{visible:E,setVisible:C,handleSelectNetwork:L,options:$},q.default.createElement(Ue,{category:Ue.CATEGORY.fill,type:Ue.TYPE.gray,size:Ue.SIZE.md,className:Do.explore,onClick:k},r("wallet_extension_history_btn_check_in_explorer"))),m&&q.default.createElement(no,null))},Nr=(0,q.memo)(Qs);var el={VirtualItem:_t,HistoryList:Nr};l();_();l();_();l();_();var ce=u(v()),So=u(Ae()),Sr=u(ni());l();_();var $e=u(v());l();_();var lo=u(v());l();_();var Fe=u(v()),Ar=u(Ae());l();_();H();var tl="okx-wallet-plugin-report-centre",Cr="okx-wallet-plugin-pointer-up",Ir="okx-wallet-plugin-pointer-down",ol="okx-wallet-plugin-lock-1",il="okx-wallet-plugin-swap-1",nl="okx-wallet-plugin-mint-nft",rl="okx-wallet-plugin-report-centre",sl="okx-wallet-plugin-supply",ll="okx-wallet-plugin-claim",_l="okx-wallet-plugin-enrollment",al="okx-wallet-plugin-mint",cl="okx-wallet-plugin-mint",ml="okx-wallet-plugin-coin-inscribe-brc20",dl="okx-wallet-plugin-pointer-down",pl="okx-wallet-plugin-pointer-up",fl="okx-wallet-plugin-quick",gr=(e={})=>{let{txType:t}=e,i=[];return t===o.TRANS_OUT&&i.push(Cr),t===o.PERPETUAIL&&i.push(dl),t===o.WITHDRAW&&i.push(pl),t===o.QUICK_WITHDRAW&&i.push(fl),t===o.TRANS_IN&&i.push(Ir),(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION)&&i.push(ol),(t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT||t===o.GAS_STATION||t===o.DEX_CROSS_CHAIN_SWAP||t===o.BRC20_TRADE||t===o.BRC30_TRADE||t===o.RUNES_SWEEP)&&i.push(il),t===o.MINT_NFT&&i.push(nl),(t===o.CONTRACTCALL||t===o.DAPP_NFT)&&i.push(rl),t===o.DAPP_APPLY&&i.push(sl),(t===o.DAPP_REDEEM||t===o.DAPP_CLAIM||t===o.EARN_BRC30_CLAIM||t===o.EARN_BRC30_APPLY||t===o.EARN_BRC30_REDEEM)&&i.push(ll),(t===o.REGISTRATION||t===o.ZK_REGISTER)&&i.push(_l),(t===o.BRC20_RECEIVE||t===o.BRC30_RECEIVE||t===o.DEFI_MINT)&&i.push(Ir),(t===o.BRC20_INSCRIBE||t===o.BRC30_INSCRIBE)&&i.push(ml),(t===o.BRC20_MINT||t===o.ORDINAL_NFT||t===o.ORDINAL_TEXT||t===o.BRC20_DEPLOY)&&i.push(al),(t===o.BRC20_SEND||t===o.BRC30_SEND||t===o.DEFI_REPAY)&&i.push(Cr),t===o.EARN_BRC30_DEPLOY&&i.push(cl),i.length||i.push(tl),i},wr=(e={})=>{let{txType:t,coinSymbol:i}=e;return Zt(t,{symbol:i},e)},Er=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:a}=e;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_TRADE||n===o.BRC30_SEND||n===o.RUNES_SWEEP){let s=it(e)||z(e.to),c=`${r("wallet_extension_history_list_send_to")}  ${s}`;i.push(c)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC20_RECEIVE||n===o.BRC20_MINT||n===o.ORDINAL_NFT||n===o.ORDINAL_TEXT||n===o.BRC20_INSCRIBE||n===o.BRC20_DEPLOY||n===o.BRC30_RECEIVE||n===o.RUNES_ETCH){let s=z(e.from),c=`${r("wallet_extension_history_list_receive_from")}   ${s}`;i.push(c)}else if(n===o.BRC30_INSCRIBE){let s=z(e.to);i.push(s)}else if(n===o.ZK_REGISTER)i.push(z(e.from));else{let{contractName:s,contractAddress:c}=e,m=s||z(c)||"";i.push(m)}if(a===S.PENDING){let s=Oe(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(s)}return i},hr=(e={})=>{let t=[],{direction:i,coinAmount:n,coinSymbol:a,txType:s,repeatTxType:c,coinId:m}=e,{baseCoin:f}=Me(m,!0),p=Ot(f.coinId);if(s===o.AUTHORIZATION||s===o.CANCEL_AUTHORIZATION||s===o.REGISTRATION)return t;let d=null;return(n!=="0"||p&&(s===o.TRANS_IN||s===o.TRANS_OUT)&&c!==Y.CANCELING&&c!==Y.SPEEDING_CANCEL)&&(d=J(n)),t.push({direction:i,coinAmount:d,symbol:a}),!e?.brc20Type&&e?.ordinalNftName&&e?.ordinalNftDirection&&e?.ordinalNftAmount&&t.push({direction:e?.ordinalNftDirection,coinAmount:e?.ordinalNftAmount,symbol:e?.ordinalNftName}),t};var ul=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,Ar.useSelector)(Dt),a=gr(e),s=wr(e),c=Er(e,n),m=hr(e),f=Wt(c,m),p=oo(e),d=to(e),I=Fe.default.createElement(F.Label,{className:"tx-history-ml4",type:p,text:d,data:e});return Fe.default.createElement(F.ItemContainer,{onClick:t},Fe.default.createElement(F.Row,{assets:m,align:f},Fe.default.createElement(F.Info,{icons:a,title:s,details:c,label:I,data:e}),Fe.default.createElement(F.CoinAssets,{assets:m})),Fe.default.createElement(F.Actions,{data:e,onRepeat:i}))},yr=(0,Fe.memo)(ul);var xl=({data:e={},onRepeat:t,onClick:i})=>lo.default.createElement(yr,{data:e,onClick:i,onRepeat:t}),_o=(0,lo.memo)(xl);var Tl=({completedList:e,onClick:t})=>$e.default.createElement($e.default.Fragment,null,e.map(({date:i,list:n},a)=>$e.default.createElement(F.List,{key:a},$e.default.createElement(F.Date,null,i),n.map((s,c)=>$e.default.createElement(_o,{data:s,key:c,onClick:()=>{t(s)}}))))),vr=(0,$e.memo)(Tl);l();_();var we=u(v());l();_();var Dr={root:"_root_1otry_1"};var Nl=({pendingList:e,onRepeat:t,onClick:i})=>{let[n,a]=(0,we.useState)({}),[s,c]=(0,we.useState)(0);return e.length===0?null:we.default.createElement(we.default.Fragment,null,we.default.createElement(F.Dialogs,{data:n,type:s,onConfirm:()=>{a({}),c(0),t()},onCancel:()=>{c(0)}}),we.default.createElement("div",{className:Dr.root},e.map((m,f)=>we.default.createElement(_o,{data:m,key:f,onRepeat:p=>{a(m),c(p)},onClick:()=>{i(m)}}))))},br=(0,we.memo)(Nl);l();_();var bo={loading:"_loading_arfpq_1",scrollLoading:"_scrollLoading_arfpq_7"};H();var Cl=({txList:e,isLoading:t,onRepeat:i,txDetailData:n,setTxDetailData:a})=>{let s=(0,So.useSelector)(bt),c=(0,So.useSelector)(Ft),m=(0,Sr.useHistory)(),[f,p]=(0,ce.useMemo)(()=>Mi(e,s,!0),[e,s]);if(!t&&f.length===0&&p.length===0)return ce.default.createElement(F.Empty,{description:r("wallet_transaction_history_subtitle_no_records")});if(t)return ce.default.createElement(F.Loading,{top:0,className:bo.loading});if(!Array.isArray(e))return null;let d=I=>{I?.dexOrderId?m.push(`${vt}/${I.dexOrderId}`):a(I)};return ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("div",{className:"coin-history__list"},ce.default.createElement(br,{pendingList:f,onRepeat:i,onClick:d}),ce.default.createElement(vr,{completedList:p,onClick:d}),c&&ce.default.createElement(no,{className:bo.scrollLoading})),ce.default.createElement(Ao,{visible:!!n,params:n,onRefresh:i,onClose:()=>{a(null)}}))},Lr=(0,ce.memo)(Cl);var Il={TxList:Lr};l();_();var ue=u(v()),Br=u(Ae());qe();function CT({scrollContainer:e,selector:t=".tx-history-item-container",index:i=15},n){let a=(0,ue.useRef)(null),s=(0,ue.useRef)(null),c=(0,Br.useSelector)(ti),m=()=>{if(a.current)if(s.current){let{bottom:E}=a.current.getBoundingClientRect(),{top:C}=s.current.getBoundingClientRect();C>=E&&n()}else n()},f=xt("wallet-transaction",{onError:m}),[p,d]=(0,ue.useState)(!1),[I,N]=(0,ue.useState)(!1),[A,w]=(0,ue.useState)(0);(0,ue.useEffect)(()=>{f&&N(!0)},[f]),(0,ue.useLayoutEffect)(()=>{let E;if(e){let C=e.querySelectorAll(t);E=Po(()=>{let{bottom:k}=e.getBoundingClientRect(),{top:L}=s.current.getBoundingClientRect();d(L>=k)},200),s.current=C[i],s.current?(E(),e.addEventListener("scroll",E)):d(!0),a.current=e}else d(!0);return()=>{e&&(e.removeEventListener("scroll",E),s.current=null)}},[A,e,t,i,c]),(0,ue.useEffect)(()=>{p&&I&&(n&&n(),d(!1),N(!1),w(E=>{let C=E+1;return C>=1e6&&(C=1),C}))},[p,I])}export{Mi as a,Ao as b,Il as c,el as d,CT as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-AW5ZFGBU.js.map
