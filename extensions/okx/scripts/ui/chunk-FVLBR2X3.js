import{a as Zt,b as Kt,c as Jt,d as ft,e as eo,f as fe}from"./chunk-IHQQQ2WB.js";import{a as Rt}from"./chunk-MYMNOJ3U.js";import{a as de}from"./chunk-TIYSFPAO.js";import{a as pe}from"./chunk-2KZZYSI5.js";import{a as Qe,b as Oe,c as to}from"./chunk-BPTVBJLP.js";import{a as Ee,b as dt,c as be,d as J,f as _t,g as Ue,h as Ve}from"./chunk-IHZLSNJE.js";import{a as w}from"./chunk-TCK4KH7A.js";import{b as d}from"./chunk-3VL5K7XK.js";import{a as M}from"./chunk-ADUNEEQT.js";import{a as L,b as B}from"./chunk-GKGUF4PB.js";import{a as Ht}from"./chunk-D3O4RZKN.js";import{a as Ut}from"./chunk-Y6YYFXOD.js";import{d as Fe,e as Yt,f as ct,g as Xt,h as zt,i as $t,j as ut,k as pt,l as jt}from"./chunk-3VQZ6PSK.js";import{a as qt}from"./chunk-HBTXCGIK.js";import{g as Lt,h as Bt,i as Dt,j as De,m as H,n as P}from"./chunk-Y6TYNJA3.js";import{a as Gt}from"./chunk-APHOZCCG.js";import{J as Wt,l as Vt,n as Qt,t as Ot}from"./chunk-D6BE4A4F.js";import{e as lt,f as Ft}from"./chunk-HTIBXKUW.js";import{b as l,d as O}from"./chunk-RCA3QBWG.js";import{a as at,f as ue}from"./chunk-SSTSMCPU.js";import{$a as mt,Ga as rt,Ha as nt,Na as Pt,Qa as st,lb as At}from"./chunk-LF7H3MNC.js";import{l as N}from"./chunk-7BIQTKIW.js";import{k as it}from"./chunk-KCCATSGJ.js";import{a as Te}from"./chunk-YYAHGUV5.js";import{H as j,N as Nt,O as It,c as K,o as G,q as tt,r as Be,y as ot}from"./chunk-TDPA2BUG.js";import{F as Pe,M as wt,e as Mt,j as re,pa as Ae,x as xt}from"./chunk-BJO2AFCW.js";import{D as Le,M as ne,l as Q,n as Ct}from"./chunk-OIAB2YVD.js";import{T as $,ca as ie}from"./chunk-VXVCGVBA.js";import{a as h}from"./chunk-DAL2TMJA.js";import{f,m as o,o as r}from"./chunk-JEQEC2HU.js";o();r();var ht=f(h()),kt=f(O());o();r();var gt={root:"_root_1ezdn_1",error:"_error_1ezdn_10",skeleton:"_skeleton_1ezdn_13"};var hr=({className:e,loading:t,amount:n,currency:i})=>{let m=n&&i?ue(n,{needBillionMillionUnit:!1}):"--";return ht.default.createElement(M,{loading:t,height:16,className:(0,kt.default)(e,gt.skeleton)},ht.default.createElement("div",{className:(0,kt.default)(e,gt.root)},l("swaptrade_trade_title_balance_amt",{num:m,symbol:i})))};o();r();var ro=f(h()),Ge=f(Te());o();r();var We=f(h()),qe=f(O());o();r();var ve={root:"_root_11r3h_1",item:"_item_11r3h_8",active:"_active_11r3h_23",skeleton:"_skeleton_11r3h_27"};var oo=({className:e="",loading:t,tabList:n})=>We.default.createElement(M,{loading:t,height:32,className:(0,qe.default)(e,ve.skeleton)},We.default.createElement("div",{className:(0,qe.default)(e,ve.root)},n.map(i=>We.default.createElement("div",{key:i.name,className:(0,qe.default)(ve.item,i.active&&ve.active),onClick:i.onClick},i.name))));var Vr=({className:e="",loading:t,mode:n})=>{let i=(0,Ge.useHistory)(),s=(0,Ge.useLocation)(),{search:m}=s,a=H(Bt),c=H(Lt),p=[{name:l("swaptrade_market_item_buy"),active:n==="buy",onClick:()=>{P.set(rt,a),i.replace(a+pt(ct(ut(m))))}},{name:l("swaptrade_market_tab_item_sell"),active:n==="sell",onClick:()=>{P.set(rt,c),i.replace(c+pt(ct(ut(m))))}}];return ro.default.createElement(oo,{className:e,loading:t,tabList:p})};o();r();var _e=f(h()),no=f(O());o();r();var St={root:"_root_lbs5i_1","root-tg":"_root-tg_lbs5i_10",rootTg:"_root-tg_lbs5i_10"};var Rr=({children:e})=>{let t=Ut(),n=()=>globalThis.document.querySelector(".main-container-wrapper").clientWidth-46,[i,s]=(0,_e.useState)(n()),m=()=>{s(n())};return(0,_e.useEffect)(()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]),_e.default.createElement("div",{className:(0,no.default)(St.root,{[St.rootTg]:t}),style:{width:i}},e)};o();r();var he=f(h());o();r();var b=f(h()),ee=f(O());Ae();o();r();var se=f(h());o();r();var Me={root:"_root_g60mi_1",select:"_select_g60mi_11",body:"_body_g60mi_14",item:"_item_g60mi_18",name:"_name_g60mi_34",check:"_check_g60mi_43"};var zo=({name:e,onClick:t,checked:n})=>se.default.createElement("div",{className:Me.item,onClick:t},se.default.createElement("span",{className:Me.name},e),n?se.default.createElement(Be.Circle,{checked:!0,className:Me.check}):null),$o=({visible:e,setVisible:t})=>{let{isSm:n}=Gt(),{memeSellStore:i}=d(),{isInputPercent:s,setIsInputPercent:m,fromToken:a,setInputSellValue:c}=i,p=[{key:"percent-mode",name:l("swaptrade_meme_order_option_percentage"),onClick:()=>{m(!0),c(""),t(!1)},checked:s},{key:"number-mode",name:a?.tokenSymbol||"",onClick:()=>{m(!1),c(""),t(!1)},checked:!s}];return se.default.createElement(G.Action,{onClose:()=>{t(!1)},visible:e,windowStyle:{borderTopLeftRadius:n?16:6,borderTopRightRadius:n?16:6},hideCloseBtn:n},se.default.createElement("div",{className:Me.body},p.map(_=>se.default.createElement(zo,{key:_.key,..._}))))},io=N($o);o();r();var ge={"input-container":"_input-container_fyhvp_1",inputContainer:"_input-container_fyhvp_1",suffix:"_suffix_fyhvp_4","mode-text":"_mode-text_fyhvp_7",modeText:"_mode-text_fyhvp_7"};var Ho=N(()=>{let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:n}=w(),{inputBuyValue:i,setInputBuyValue:s,toToken:m}=e,{inputSellValue:a,setInputSellValue:c,isInputPercent:p,fromToken:_}=t,[g,y]=(0,b.useMemo)(()=>n?[a,c]:[i,s],[n,i,s,a,c]),k=A=>A===`${1e-12}`?At().slice(1):A,S=A=>{let Ie=A;n&&p&&A>100||(n&&p&&A==="100."&&(Ie="100"),y(Ie))},[,E]=(0,b.useTransition)(),x=A=>{E(()=>{let Ie=k(A),vt=Ft(Ie);!wt(vt)&&S(vt)})},[I,T]=(0,b.useState)(!1),[z,U]=(0,b.useMemo)(()=>n?p?[b.default.createElement("div",{key:"meme-swap-percentage-suffix",className:(0,ee.default)("flex items-center",ge.suffix)},b.default.createElement("span",{className:(0,ee.default)(ge.modeText)},l("swaptrade_meme_order_option_percentage")),b.default.createElement($,{className:(0,ee.default)("okx-defi-dex-market-sort-down"),style:{fontSize:12,cursor:"pointer"},onClick:()=>T(!0)})),2]:[b.default.createElement("div",{key:"meme-swap-default-suffix",className:(0,ee.default)("flex items-center",ge.suffix)},b.default.createElement("span",{className:(0,ee.default)(ge.modeText)},_?.tokenSymbol||""),b.default.createElement($,{className:(0,ee.default)("okx-defi-dex-market-sort-down"),style:{fontSize:12,cursor:"pointer"},onClick:()=>T(!0)})),Math.min(mt,Number(_?.decimals)),Number.MAX_SAFE_INTEGER]:[null,Math.min(mt,Number(m?.decimals))],[n,p,_,m]),[V,et]=(0,b.useState)(null);return(0,b.useEffect)(()=>{Mt(re(V,"focus"))&&V.focus()},[p,V]),b.default.createElement(b.default.Fragment,null,b.default.createElement(tt.Number,{size:tt.SIZE.xl,onRef:A=>{et(A)},useReactTransition:!0,className:(0,ee.default)(ge.inputContainer),value:g,inputMode:"decimal",autoComplete:"off",spellCheck:"false",onChange:x,suffix:z,precision:U}),b.default.createElement(io,{visible:I,setVisible:T}))}),so=Ho;o();r();var me=f(h()),Ye=f(O());o();r();var xe={select:"_select_9f8r3_1",skeleton:"_skeleton_9f8r3_4","select-item":"_select-item_9f8r3_8",selectItem:"_select-item_9f8r3_8",selected:"_selected_9f8r3_25"};var Ro=()=>{let{memeConfigStore:e,memeBuyStore:t,memeSellStore:n,memeQuoteStore:i}=d(),{config:s,initLoading:m}=e,{isSellRoute:a,isBuyRoute:c}=w(),{selectBuyValue:p,setSelectBuyValue:_}=t,{selectSellValue:g,setSelectSellValue:y}=n,[k,S]=(0,me.useMemo)(()=>a?[g,y]:[p,_],[a,p,_,g,y]),E=(0,me.useMemo)(()=>{if(m)return[{label:"",key:"meme_custom1"},{label:"",key:"meme_custom2"},{label:"",key:"meme_custom3"},{label:"",key:"meme_custom4"}];if(!s)return[];let{defaultBuyAmountList:T,defaultSellPercentList:z}=s;return a?[...z.map((U,V)=>({value:U,key:`meme_custom1${V+1}`,label:V<2?`${Number(U)*100}%`:l("swaptrade_card_swap_btn_all")})),{value:Ve,label:l("swaptrade_dialog_modal_custom")}]:[...T.map((U,V)=>({value:U,label:U,key:`meme_custom1${V+1}`})),{value:Ve,label:l("swaptrade_dialog_modal_custom")}]},[a,s]),x=Qe(),I=T=>{c&&k===Ve&&P.set(Ue,""),T?.value&&(S(T.value),x())};return me.default.createElement("div",{className:(0,Ye.default)("flex items-center",xe.select)},E.map(T=>me.default.createElement(M,{loading:i?.initLoading,height:88,className:(0,Ye.default)(xe.skeleton),key:T?.key},me.default.createElement("div",{className:(0,Ye.default)(xe.selectItem,{[xe.selected]:T.value===k}),onClick:()=>{I(T)}},T.label))))},mo=N(Ro);var Zo=N(({className:e})=>{let{memeBuyStore:t,memeSellStore:n}=d(),{selectBuyValue:i}=t,{selectSellValue:s}=n,{isSellRoute:m}=w(),a=(0,he.useMemo)(()=>m?s===_t:i===_t,[m,i,s]);return he.default.createElement("div",{className:e},he.default.createElement(mo,null),a&&he.default.createElement(so,null))}),ii=Zo;o();r();function ao(){let e=de(Qt),{memeQuoteStore:t,memeAccountStore:n,memeConfigStore:i}=d(),{computedQuoteIsError:s,computedQuoteErrorMsg:m,computedQuoteLiquidityError:a,computedQuoteIsHoneypot:c,computedQuoteNetworkError:p}=t,{computedNonsupportChain:_}=n,{config:g}=i,{nativeTokenInfo:y}=g||{},{chainName:k}=y||{};return _?(e({type:"switch_wallet"}),{title:l("swaptrade_adjustslip_modal_title_wrongnetwork"),desc:l("swaptrade_card_alert_switch_wallet_to_match",{chainName:k}),type:K.TYPE.warn}):a?(e({type:"no_liquidity"}),{title:l("swap_title_quote_server_error"),desc:l("swaptrade_trade_error_desc_insufficient_liquidity"),type:K.TYPE.error}):c?{title:l("swap_title_quote_server_error"),desc:l("swaptrade_quote_error_malicious_token"),type:K.TYPE.error}:s?{title:l("swap_title_quote_server_error"),desc:m||l("swaptrade_quote_error_no_update"),type:K.TYPE.error}:p?{title:l("swap_title_quote_server_error"),desc:l("swaptrade_quote_server_error_content"),type:K.TYPE.error}:null}o();r();var we=f(h());o();r();var Tt=f(h());o();r();var R=f(h());ne();o();r();function ke(){let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:n}=w();return n?t.computedSellNumber:e.computedBuyNumber}o();r();Ae();ne();function lo(){let e=ke(),{fromToken:t}=fe();return Pe(t.amountNum)||new Q.BigNumber(e).gt(t.amountNum)}function co(){let{memeQuoteStore:e,memeAccountStore:t}=d(),n=ke(),i=(0,R.useCallback)(()=>new Q.BigNumber(n).gt(0)?"":J,[n]),s=(0,R.useCallback)(()=>e.computedCustomQuoteLoading?J:e.computedQuoteIsInvalid?J:"",[e.computedQuoteIsInvalid,e.computedCustomQuoteLoading]),{computedNonsupportChain:m}=t,a=(0,R.useCallback)(()=>m?J:"",[m]),c=lo(),p=(0,R.useCallback)(()=>c?be:"",[c]),[_,g]=(0,R.useState)(J);return(0,R.useEffect)(()=>{let y=[a,i,s,p],k;for(let S=0;S<y.length;S++){let E=y[S]();if(E){k=E;break}}g(k||Ee)},[i,p,s,g,a]),_}o();r();var xo=f(h());o();r();var Xe=f(h());function uo(e){let[t,n]=(0,Xe.useState)(!1);return{runPreconditions:(0,Xe.useCallback)(async()=>{n(!0);try{await e.reduce(async(s,m)=>{let a=await s;return m(a)},Promise.resolve())}finally{n(!1)}},[e]),loading:t}}o();r();var _o=f(h());o();r();var po=f(h());function fo(){let{memeSwapStore:e,sendTransactionStore:t}=d(),{getJitoTxData:n}=e,{signSolanaTransactionWithMeme:i}=t;return{onSolanaSign:(0,po.useCallback)(async m=>{try{let a=await n(m),c=await i(m,a);return B.info(L.MEME_SWAP_SIGN_SUCCESS,{data:{...m,unsignedTxArray:a,signedTransactions:c}}),{...m,signedTransactions:c,txArray:a}}catch(a){throw a?.message!=="Expected String"&&j.error(l("swaptrade_home_toast_initiation_error")),B.error(L.MEME_SWAP_SIGN_ERROR,{data:{error:a,data:m}}),new Error(a?.error_message)}},[n,i])}}function go(){let{memeConfigStore:e,memeSwapStore:t}=d(),{onSolanaSign:n}=fo();return(0,_o.useCallback)(async(s={})=>{let{signedTransactions:m,txArray:a}=await n(s),c=await t.onSolanaSwap({data:s,signedTransactions:m,txArray:a}),{config:p}=e,{nativeTokenInfo:_}=p||{},{tokenContractAddress:g}=_||{},{calldataParams:y}=s,{fromAmount:k,fromTokenAddress:S}=y||{};return S===g&&P.set(Ue,k),{...s,broadcastRes:c}},[e,t,n])}o();r();var ze=f(h());ne();function ho(){let{memeQuoteStore:e,memeAccountStore:t}=d(),{computedGetRouterList:n,computedGetEstimateGasFee:i,computedGetQuoteFrom:s,computedGetQuoteTo:m,computedGetQuoteFromAmount:a,computedGetQuoteToAmount:c,computedPriorityFeeInfo:p,computedQuoteTraceData:_,priorityFee:g,slippage:y}=e,k=t.getAddressByChainId(s.chainId),S=t.computedAccountId,E=(0,ze.useMemo)(()=>({dexRouterList:n,priorityFee:g?.value,slippage:y?.value,estimateGasFee:i,chainId:s.chainId,fromTokenAddress:s.tokenContractAddress,fromAmount:a,toTokenAddress:m.tokenContractAddress,toAmount:c,userWalletAddress:k,enableJito:!!p?.enableJito,customPriorityFee:g.type==="custom"}),[n,g.value,g.type,y?.value,i,s.chainId,s.tokenContractAddress,a,m.tokenContractAddress,c,k,p?.enableJito]);return(0,ze.useCallback)(async()=>{B.info(L.MEME_SWAP_GET_CALLDATA_PARAMS,{data:E});let[I,T]=await Le(Kt(E));if(I||!T.data?.unsignedTx)throw j.error(I?.error_message||l("swaptrade_home_toast_initiation_error")),B.error(L.MEME_SWAP_GET_CALLDATA_ERROR,{data:{error:I,params:E,res:T}}),new Error(I?.error_message);return{unsignedTx:T.data.unsignedTx,calldataParams:{...E,traceData:_},walletId:S}},[_,E,S])}o();r();var yt=f(h());Ae();ne();function ko(){let{memeQuoteStore:e,memeAccountStore:t,memeSwapStore:n}=d(),{computedGetQuoteFrom:i}=e,{usePreExecuteFn:s}=it.hooks,{TxToastCheckTypeEnum:m}=it.global,a=s(),c=i.isNativeToken?"":i.tokenContractAddress,p=t.getAddressByChainId(i.chainId),_=Rt(i.chainId,c),g=n.getSolanaUnsignedTx,y=(0,yt.useCallback)(S=>{let E=g(S);return{checkTypes:[m.TX_ANALYZE],from:p,chainId:i.chainId,coinId:_?.coinId,simulateTransactionParamList:E.map(x=>({transaction:x.data,sigVerify:!1,replaceRecentBlockhash:!0}))}},[g,m.TX_ANALYZE,_?.coinId,i.chainId,p]);return(0,yt.useCallback)(async(S={})=>{let E=y(S),[x,I]=await Le(a(E));if(x)throw j.error(x?.error_message||l("swaptrade_home_toast_initiation_error")),B.error(L.MEME_SWAP_PRE_EXECUTE_ERR,{error:x,data:{executeParams:E,data:S}}),new Error(x?.error_message);let T=re(I,`${m.TX_ANALYZE}`,{});if(!T.result){let z=T.msg||re(xt(T.simulateTransactionResultList,U=>!Pe(U.msg)),"msg",l("swaptrade_home_toast_initiation_error"));throw j.error(z),B.error(L.MEME_SWAP_PRE_EXECUTE_RESULT_ERR,{data:{error:T,...S,executeParams:E}}),new Error(z)}return B.info(L.MEME_SWAP_PRE_EXECUTE_RESULT,{data:{...S,executeParams:E}}),S},[a,y])}o();r();var C=f(h());o();r();var So="RISK_ACCEPT_KEY";function yo(){return P.get(So)}function To(){return P.set(So,1)}function Eo(e,t,n=20){if(n<0||n>100)throw new Error("Percentage should be between 0 and 100");let i=new at.BigNumber(e),s=new at.BigNumber(t);if(i.isZero())throw new Error("The 'from' value cannot be zero to calculate percentage difference.");let a=i.minus(s).div(i).times(100);return{isDifferenceLarge:a.gte(n),percentageDifference:a.toFixed(2)}}function bo({checked:e,setChecked:t}){return C.default.createElement("div",null,C.default.createElement("p",null,l("swaptrade_modal_toast_desc_risk_reminder")),C.default.createElement(Be,{checked:e,onChange:n=>{t(n.target.checked)}},l("swaptrade_confirmation_checkbox_aware_risk")))}function vo(){let[e,t]=(0,C.useState)(!1);(0,C.useEffect)(()=>{let s=yo();t(!!s)},[]);let n=(0,C.useRef)(null),i=(0,C.useCallback)(()=>e?Promise.resolve(!0):new Promise((s,m)=>{n.current=G.tip({infoType:G.Tip.INFO_TYPE.success,title:l("swaptrade_modal_toast_title_risk_reminder"),children:C.default.createElement(bo,{checked:e,setChecked:t}),confirmText:l("commonall_text_btn_confirm"),confirmBtnProps:{disabled:!0},cancelText:l("commonall_text_btn_cancel"),onConfirm:()=>{To(),n.current?.destroy(),s(!0)},onClose:()=>{n.current?.destroy(),n.current=null,t(!1),m(new Error("Risk prompt closed"))},onCancel:()=>{t(!1),m(new Error("Risk prompt closed"))}})}),[e]);return(0,C.useEffect)(()=>{n.current&&n.current?.update({children:C.default.createElement(bo,{checked:e,setChecked:t}),confirmBtnProps:{disabled:!e}})},[e]),i}o();r();var Se=f(h());function Mo(){let e=de(Ot),{memeQuoteStore:t}=d(),n=(0,Se.useCallback)(()=>Eo(t.computedFromTokenValue,t.computedToTokenValue,20),[t.computedFromTokenValue,t.computedToTokenValue]);return(0,Se.useCallback)(()=>{try{let{isDifferenceLarge:s,percentageDifference:m}=n();return s?new Promise((a,c)=>{e({popup_type:"valuedifference"});let p=G.tip({infoType:G.Tip.INFO_TYPE.success,title:l("swaptrade_modal_title_crossvalue_deviation"),children:Se.default.createElement("div",null,Se.default.createElement("p",null,l("swaptrade_modal_desc_crossvalue_deviation",{value:m}))),confirmText:l("swaptrade_confirmation_btn_continue_swap"),cancelText:l("commonall_text_btn_cancel"),onConfirm:()=>{p.destroy(),a(!0)},onClose:()=>{c(new Error("Value diff prompt closed"))},onCancel:()=>{c(new Error("Value diff prompt closed"))}})}):Promise.resolve(!0)}catch(s){throw j.error(l("swaptrade_home_toast_initiation_error")),B.error(L.MEME_SWAP_VALUE_DIFF_ERROR,{error:s,data:{"memeModeCommonDexInfo.fromTokenPrice":t.computedFromTokenValue,"memeModeSingleChainSwapInfo.toTokenPrice":t.computedToTokenValue}}),s}},[t.computedFromTokenValue,t.computedToTokenValue,n])}function wo(){let e=vo(),t=Mo(),n=ho(),i=ko(),s=go(),{memeSwapStore:m}=d(),{runPreconditions:a,loading:c}=uo([e,t,n,i,s]),{setIsSwapLoading:p}=m;return(0,xo.useEffect)(()=>{p(c)},[p,c]),{onSwap:a,loading:c}}function Ko(){let{memeBuyStore:e,memeSellStore:t}=d(),{isSellRoute:n}=w();return(0,Tt.useCallback)(()=>n?l(dt,{token:t.computedSellTokenSymbol}):l(Ee,{token:e.computedBuyTokenSymbol}),[n,e.computedBuyTokenSymbol,t.computedSellTokenSymbol])}function Co(){let e=de(),t=co(),{fromToken:n}=fe(),i=Ko(),{onSwap:s}=wo(),{memeCommonStore:{setAddFundsVisible:m}}=d();return(0,Tt.useCallback)(()=>({[Ee]:{disabled:!1,btnTxt:()=>i(),onClick:()=>{e({button_name:"confirm"}),s()}},[dt]:{disabled:!1,btnTxt:()=>i(),onClick:()=>{e({button_name:"confirm"}),s()}},[be]:{disabled:!1,btnTxt:()=>l(be,{token:n.symbol}),onClick:()=>{m(!0)}},[J]:{disabled:!0,btnTxt:()=>i(),onClick:()=>{}}}),[n.symbol,i,s,m])()[t]||{}}o();r();var Et={"btn-loading":"_btn-loading_1r7dd_1",btnLoading:"_btn-loading_1r7dd_1",btn:"_btn_1r7dd_1"};var Tm=N(({loading:e})=>{let t=ao(),{btnTxt:n,...i}=Co();return we.default.createElement(M,{height:56,loading:e,active:!0,className:Et.btnLoading},we.default.createElement(we.default.Fragment,null,we.default.createElement(ie,{className:Et.btn,category:ie.CATEGORY.fill,type:ie.TYPE.primary,size:ie.SIZE.xl,block:!0,...i,disabled:i.disabled||!!t},n?.())))});o();r();var W=f(h()),je=f(O());o();r();var $e=f(h());function No({userUniqueId:e,computedAccountId:t,chainId:n,debouncedFetchPositionList:i,positionList:s,fromToken:m,setFromToken:a,toToken:c,setToToken:p}){let{isSellRoute:_}=w(),g=Qe(),y=(0,$e.useMemo)(()=>!s||s?.length===0,[s]),k=S=>{if(_?S?.tokenContractAddress!==m?.tokenContractAddress&&a(S):S?.tokenContractAddress!==c?.tokenContractAddress&&p(S),g(),Pt()){let x=document.querySelector("#meme-swap-container");x&&x.scrollTo({top:0,behavior:"smooth"});return}window.scrollTo({top:0,behavior:"smooth"})};return(0,$e.useEffect)(()=>{e&&t&&n&&i({chainId:n,accountId:t,userUniqueId:e})},[n,t,e]),{isEmptyData:y,handleSelect:k}}o();r();var bt=f(h()),Po=f(O());o();r();var Io={"empty-container":"_empty-container_1jq1y_1",emptyContainer:"_empty-container_1jq1y_1"};var Jo=()=>{let e=()=>bt.default.createElement(ot.State,{type:ot.State.TYPE.noResult,title:l("swaptrade_general_emptystate_no_assets")});return bt.default.createElement("div",{className:(0,Po.default)("flex justify-content-center align-items-center",Io.emptyContainer)},e())},Ao=Jo;o();r();var ae={"my-position":"_my-position_115ho_1",myPosition:"_my-position_115ho_1",line:"_line_115ho_4","title-part":"_title-part_115ho_9",titlePart:"_title-part_115ho_9",title:"_title_115ho_9","chain-logo":"_chain-logo_115ho_19",chainLogo:"_chain-logo_115ho_19",container:"_container_115ho_22"};var er=N(()=>{let{memeConfigStore:e,memePositionStore:t,memeAccountStore:n,memeCommonStore:i,memeBuyStore:s,memeSellStore:m}=d(),{config:a}=e,c=a?.nativeTokenConfig,p=a?.solanaChainLogo,_=c?.chainId,{fetchPositionList:g,positionList:y,initState:k}=t,{computedAccountId:S}=n,{userUniqueId:E}=i,{setToToken:x,toToken:I}=s,{setFromToken:T,fromToken:z}=m,U=Zt(g,300),{isEmptyData:V,handleSelect:et}=No({userUniqueId:E,computedAccountId:S,chainId:_,debouncedFetchPositionList:U,positionList:y,setToToken:x,toToken:I,setFromToken:T,fromToken:z});if(!E)return null;let A=(0,W.useMemo)(()=>V?W.default.createElement(Ao,null):W.default.createElement("div",{className:ae.container},W.default.createElement(to,{key:_,isMyPosition:!0,normalList:y,selectToken:et})),[V,z?.tokenContractAddress,I?.tokenContractAddress,y]);return k&&W.default.createElement("div",{className:(0,je.default)(ae.myPosition)},W.default.createElement("div",{className:ae.line}),W.default.createElement("div",{className:(0,je.default)("flex items-center justify-between",ae.titlePart)},W.default.createElement("span",{className:ae.title},l("swaptrade_meme_order_title_my_positions")),W.default.createElement(Ht,{src:p,size:24,className:(0,je.default)(ae.chainLogo)})),A)}),na=er;o();r();var Bo=f(h());o();r();var Lo={alert:"_alert_12652_1"};var ga=({info:e})=>{if(e){let{title:t,desc:n,type:i}=e;return Bo.default.createElement(K,{className:Lo.alert,title:t,desc:n,type:i,closable:!1})}return null};o();r();o();r();var Z=f(h()),Do=f(Te()),Ce=f(O());o();r();var te={content:"_content_1mhlc_1",left:"_left_1mhlc_7",right:"_right_1mhlc_14","right-text":"_right-text_1mhlc_29",rightText:"_right-text_1mhlc_29","right-icon":"_right-icon_1mhlc_30",rightIcon:"_right-icon_1mhlc_30",skeleton:"_skeleton_1mhlc_33","right-skeleton":"_right-skeleton_1mhlc_37",rightSkeleton:"_right-skeleton_1mhlc_37"};var Fo=({className:e="",rightLoading:t,initLoading:n,type:i="market",currency:s,amount:m,mode:a})=>{let c=(0,Do.useHistory)(),p={market:l("swaptrade_modal_dialog_option_market"),fast:l("swaptrade_modal_dialog_option_fast5x"),turbo:l("swaptrade_modal_dialog_option_turbo10x")},_=`${H(De)}?tab=${a}`,g=m&&s?`${ue(m,{needBillionMillionUnit:!1})} ${s}`:"--";return Z.default.createElement(M,{loading:n,height:16,className:(0,Ce.default)(e,te.skeleton)},Z.default.createElement("div",{className:(0,Ce.default)(e,te.content)},Z.default.createElement("div",{className:te.left},l("swaptrade_modal_dialog_title_priority")),Z.default.createElement(M,{loading:t,height:16,className:te.rightSkeleton},Z.default.createElement("div",{className:te.right,onClick:()=>{c.push(_)}},i in p?Z.default.createElement(It,{size:Nt.SIZE.sm},p[i]):null,Z.default.createElement("div",{className:(0,Ce.default)("ml-4","content-primary",te.rightText)},g),Z.default.createElement($,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Ce.default)("ml-4","content-secondary",te.rightIcon)})))))};o();r();var oe=f(h()),He=f(O());o();r();var Y=f(h()),Uo=({stop:e})=>{let t=(0,Y.useRef)(null);(0,Y.useEffect)(()=>{t.current?.beginElement()},[]),(0,Y.useEffect)(()=>{e?t.current?.endElement():t.current?.beginElement()},[e]);let n=["rotate(","-90"," ","8"," ","8",")"].join("");return Y.default.createElement("svg",{id:"progressSvg",width:"16",height:"16",viewBox:"0 0 16 16"},Y.default.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#A3A3A3",style:{stroke:"#A3A3A3"},strokeWidth:"3",fill:"none"}),Y.default.createElement("circle",{id:"progressCircle",cx:"8",cy:"8",r:"5",stroke:"var(--okd-color-border-primary)",strokeWidth:"3",fill:"none",strokeDasharray:"31.4",strokeDashoffset:"31.4",transform:n},Y.default.createElement("animate",{ref:t,attributeName:"stroke-dashoffset",from:"31.4",to:"0",dur:"5s",fill:"remove",begin:"indefinite"})))};o();r();var le={content:"_content_jq5p6_1",left:"_left_jq5p6_7",right:"_right_jq5p6_14","right-text":"_right-text_jq5p6_29",rightText:"_right-text_jq5p6_29","right-icon":"_right-icon_jq5p6_30",rightIcon:"_right-icon_jq5p6_30",skeleton:"_skeleton_jq5p6_33","right-skeleton":"_right-skeleton_jq5p6_37",rightSkeleton:"_right-skeleton_jq5p6_37",amount:"_amount_jq5p6_41"};var tr=({className:e="",initLoading:t,rightLoading:n,circleLoading:i,tokenAmount:s,price:m,tokenSymbol:a})=>{let{getUsd:c}=Oe(),p=s&&m&&a?`${ue(s,{needBillionMillionUnit:!1})} ${a}(${c(m)})`:"--";return oe.default.createElement(M,{loading:t,height:16,className:(0,He.default)(e,le.skeleton)},oe.default.createElement("div",{className:(0,He.default)(e,le.content)},oe.default.createElement("div",{className:le.left},l("swaptrade_modal_label_quote")),oe.default.createElement(M,{loading:n,height:16,className:le.rightSkeleton},oe.default.createElement("div",{className:le.right},oe.default.createElement(Uo,{stop:i}),oe.default.createElement("div",{className:(0,He.default)("ml-4 content-primary",le.amount)},p)))))},Vo=N(tr);o();r();var X=f(h()),Qo=f(Te()),ye=f(O());ne();o();r();var q={content:"_content_1al0i_1",left:"_left_1al0i_7",right:"_right_1al0i_14","right-text":"_right-text_1al0i_29",rightText:"_right-text_1al0i_29","right-icon":"_right-icon_1al0i_30",rightIcon:"_right-icon_1al0i_30",skeleton:"_skeleton_1al0i_33","right-skeleton":"_right-skeleton_1al0i_37",rightSkeleton:"_right-skeleton_1al0i_37",warning:"_warning_1al0i_41","warning-text":"_warning-text_1al0i_44",warningText:"_warning-text_1al0i_44"};var Oo=({className:e="",initLoading:t,rightLoading:n,percent:i,isSafeMoonToken:s=0,tokenSymbol:m="",tokenTax:a="",mode:c})=>{let p=(0,Qo.useHistory)(),_=i?`${lt(Q.mul(i,100),{needZero:!1})}`:"--",g=s===1&&!n&&Q.gt(a,0)&&Q.lt(i,a),y=g?lt(Q.mul(a,100),{needZero:!1}):"--",k=`${H(De)}?tab=${c}`;return X.default.createElement(M,{loading:t,height:16,className:(0,ye.default)(e,q.skeleton)},X.default.createElement("div",{className:(0,ye.default)(e,q.root)},X.default.createElement("div",{className:q.content},X.default.createElement("div",{className:q.left},l("swaptrade_extension_header_title_slippage_tolerance")),X.default.createElement(M,{loading:n,height:16,className:q.rightSkeleton},X.default.createElement("div",{className:q.right,onClick:()=>{p.push(k)}},X.default.createElement("div",{className:(0,ye.default)("content-primary",q.rightText,{[q.warning]:g})},_),X.default.createElement($,{iconName:"okx-defi-dex-arrow-right-1",className:(0,ye.default)("ml-4","content-secondary",q.rightIcon)})))),g?X.default.createElement("div",{className:(0,ye.default)("mt-16",q.warningText)},l("swaptrade_modal_alert_error_trade_tax",{token:m,num:y})):null))};var Sl={PriorityFee:Fo,Quote:Vo,Slippage:Oo};o();r();var v=f(h()),Wo=f(Te()),Ne=f(O());ne();o();r();var D={root:"_root_1f7aw_1",chain:"_chain_1f7aw_9",content:"_content_1f7aw_13",symbol:"_symbol_1f7aw_18","token-select":"_token-select_1f7aw_34",tokenSelect:"_token-select_1f7aw_34",copy:"_copy_1f7aw_44",address:"_address_1f7aw_50",data:"_data_1f7aw_58",price:"_price_1f7aw_63",split:"_split_1f7aw_74",cap:"_cap_1f7aw_81",skeleton:"_skeleton_1f7aw_92"};function or(e){let t=e,n=t.getBoundingClientRect().width,i=document.createRange();return i.setStart(t,0),i.setEnd(t,t.childNodes.length),i.getBoundingClientRect().width-n>1}var Ql=({className:e="",loading:t,mode:n,item:i})=>{let s=(0,Wo.useHistory)(),{getUsd:m}=Oe(),a=`${H(Dt)}?tab=${n}`,c=i?.price?m(i?.price):"--",p=i?.marketCap?m(new Q.BigNumber(i?.marketCap).toFixed(2)):"--",_=(0,v.useRef)(null),[g,y]=(0,v.useState)(!1);(0,v.useEffect)(()=>{!g&&p&&_.current&&or(_.current)&&y(!0)},[g,p,_.current]);let k={display:g?"block":"flex"},S={marginTop:g?"4px":"0"};return v.default.createElement(M,{loading:t||!i?.tokenSymbol,height:86,className:(0,Ne.default)(e,D.skeleton)},v.default.createElement("div",{className:(0,Ne.default)(e,D.root)},v.default.createElement("div",{className:D.chain},v.default.createElement(qt,{tokenSrc:i?.tokenLogoUrl??st(),chainSrc:i?.chainLogoUrl??st(),chainSize:14,tokenSize:34,className:(0,Ne.default)("boxCurrency")})),v.default.createElement("div",{className:D.content},v.default.createElement("div",{className:"flex items-center justify-start"},v.default.createElement("span",{className:D.symbol,onClick:()=>{s.push(a)}},i?.tokenSymbol||"--"),v.default.createElement($,{className:(0,Ne.default)("okx-defi-dex-arrow-down-sincere",D.tokenSelect),style:{fontSize:12},onClick:()=>{s.push(a)},a11yText:"select"})),v.default.createElement("div",{className:D.address},Wt(i?.tokenContractAddress,8,8)||"--"),v.default.createElement("div",{className:D.data,style:k},v.default.createElement("div",{className:D.price},l("swaptrade_trade_label_price_numvalue",{value:c})),g?null:v.default.createElement("div",{className:D.split}),v.default.createElement("div",{className:D.cap,ref:_,style:S},l("swaptrade_trade_label_mcap_numvalue",{value:p}))))))};o();r();var F=f(h());ne();o();r();var ce={body:"_body_t1th5_1","sub-title":"_sub-title_t1th5_4",subTitle:"_sub-title_t1th5_4",content:"_content_t1th5_11"};var tc=()=>{let[e,t]=(0,F.useState)(!1);(0,F.useEffect)(()=>{P.get(nt)||t(!0)},[]);let n=()=>{t(!e),P.set(nt,!0),setTimeout(()=>{Ct.trigger("MEME_MODE_USER_GUIDE")},200)};return F.default.createElement(G.Action,{confirmBtnProps:{size:ie.SIZE.lg},confirmText:l("commonall_text_btn_ok_active"),onConfirm:n,onClose:n,visible:e,hideCloseBtn:!0,title:l("swaptrade_trade_bttmsheet_header_meme_mode"),titleCenter:!0,windowStyle:{borderTopLeftRadius:16,borderTopRightRadius:16}},F.default.createElement("div",{className:ce.body},F.default.createElement("div",{className:ce.subTitle},l("swaptrade_trade_bttmsheet_title_nofee")),F.default.createElement("p",{className:ce.content},l("swaptrade_trade_bttmsheet_desc_nofee")),F.default.createElement("div",{className:ce.subTitle},l("swaptrade_trade_bttmsheet_title_nocustody")),F.default.createElement("p",{className:ce.content},l("swaptrade_trade_bttmsheet_desc_nocustody")),F.default.createElement("p",{className:ce.content},l("swaptrade_trade_bttmsheet_text_solana"))))};o();r();var mc=()=>{let e=pe();return()=>{Vt({button_name:"to_meme",business_type:"meme",tab_name:"meme",chain:e?.chainName,wallet_address:e?.userWalletAddress})}};o();r();function fc(e){let{memeSellStore:t,memeBuyStore:n,memeQuoteStore:i}=d(),{isSellRoute:s}=w(),m=s?t.computedSellNumberIsValid:n.computedBuyNumberIsValid;return!e&&m||i.initLoading}o();r();var Re=f(h());o();r();function qo(){let{memeQuoteStore:e}=d();return e?.slippage?.value}function Mc(){let{memeQuoteStore:e}=d(),{fetchMemeQuote:t,cleanMemeQuoteTimer:n}=e,{fromToken:i,toToken:s}=fe(),m=ke(),a=qo(),c=(0,Re.useMemo)(()=>({chainId:i.chainId,fromTokenAddress:i?.tokenContractAddress,toTokenAddress:s?.tokenContractAddress,amount:m,slippage:a}),[m,i.chainId,i?.tokenContractAddress,s?.tokenContractAddress,a]);(0,Re.useEffect)(()=>(t(c),()=>{n()}),[c,t,n])}o();r();var Ze=f(h());var rr=e=>!e?.tokenContractAddress&&e?.tokenContractAddress!=="",nr=(e,t)=>e&&t&&t.price&&t.tokenContractAddress===e?.tokenContractAddress,ir=e=>e.chainId&&e.accountId&&e.userUniqueId&&e.walletId,Pc=(e,t)=>{let[n,i]=(0,Ze.useState)(null),s=pe();return(0,Ze.useEffect)(()=>{async function m(){if(!rr(t)&&!nr(t,e)&&!!ir(s))if(t?.tokenContractAddress){let a=await Jt({inputContent:t?.tokenContractAddress,...s});if(a)i(a);else{let c=await ft(s);i(c)}}else{let a=await ft(s);i(a)}}m()},[t?.tokenContractAddress,s.chainId,s.accountId,s.userUniqueId,s.walletId]),n};o();r();Ae();var Uc=()=>{let{memeConfigStore:e}=d();return re(e,"config.nativeTokenInfo",null)};o();r();var Go=f(h());var qc=()=>{let{memeConfigStore:e,memeQuoteStore:t}=d();(0,Go.useEffect)(()=>{let n=String(e?.config?.priorityFeeMaxValue),{marketFee:i="",fastFee:s="",turboFee:m=""}=t?.computedPriorityFeeInfo||{},a={market:i,fast:s,turbo:m},c={value:t?.priorityFee?.value,type:t?.priorityFee?.type,config:a,max:n};t?.priorityFee?.type!=="custom"&&(c.value=a[t?.priorityFee?.type]),t.setPriorityFee(c)},[e?.config?.priorityFeeMaxValue,t?.computedPriorityFeeInfo])};o();r();var Yo=f(h());var $c=()=>{let{memeConfigStore:e,memeQuoteStore:t}=d();(0,Yo.useEffect)(()=>{let{min:n="",max:i="",slippageList:[s="",m="",a=""]=[]}=e?.config?.slippageConfig||{},c={low:s,medium:m,high:a},p={value:t?.slippage?.value,type:t?.slippage?.type,config:c,min:n,max:i};t?.slippage?.type!=="custom"&&(p.value=c[t?.slippage?.type]),t.setSlippage(p)},[e?.config?.slippageConfig])};o();r();var Ke=f(h());var Jc=(e,t)=>{let[n,i]=(0,Ke.useState)(null),s=pe(),{chainId:m,accountId:a,userUniqueId:c,walletId:p,userWalletAddress:_,businessType:g}=s;return(0,Ke.useEffect)(()=>{async function y(){if(e&&m&&a&&c&&p&&_){let k=await eo({tokenAddress:e,chainId:m,accountId:a,userUniqueId:c,walletId:p,userWalletAddress:_,businessType:g},t);i(k)}}y()},[e,m,a,c,p,_,g]),n};o();r();var Je=f(h()),Xo=f(Te());var iu=e=>{let[t,n]=(0,Je.useState)(null),i=(0,Xo.useHistory)(),{queryParams:s}=w(),m=s?.get("inputChain"),a=s?.get("inputCurrency"),c=s?.get("outputChain"),p=s?.get("outputCurrency");return(0,Je.useEffect)(()=>{if(!s)return;let k=$t(s),S=Xt(e);Fe(e,k)?n(k):Fe(e,S)?n(S):n(Yt())},[e==="buy"?c:m,e==="buy"?p:a]),{tokenPair:t,setTokenPair:k=>{Fe(e,k)&&(zt(e,k),jt(i,i.location.pathname,k))}}};export{Mc as a,Pc as b,Uc as c,qc as d,$c as e,Jc as f,iu as g,hr as h,Vr as i,Rr as j,ii as k,ao as l,Tm as m,na as n,ga as o,Sl as p,Ql as q,tc as r,mc as s,fc as t};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-FVLBR2X3.js.map
