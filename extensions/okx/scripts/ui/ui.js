import{h as Es,i as vu}from"./chunk-LOUEI5YG.js";import{a as xa}from"./chunk-IDSBMBZH.js";import{j as _s}from"./chunk-O6DJUTCL.js";import{a as Ag,b as yu,g as _u}from"./chunk-S63Q6H3Z.js";import{K as Ss}from"./chunk-PZ22JJSS.js";import{e as bs}from"./chunk-TRO37MRM.js";import{a as fu,v as du}from"./chunk-F32BOQER.js";import{A as wu,a as gu}from"./chunk-V3JNXBKP.js";import{a as Zr}from"./chunk-B2DCIJZ7.js";import{a as Et}from"./chunk-5JA7QTRT.js";import"./chunk-ZVGQRWB5.js";import{a as ai}from"./chunk-4IOXOTFG.js";import{a as Ku,b as Gu}from"./chunk-WOS6R5F6.js";import{a as Lu}from"./chunk-EUUYJCYJ.js";import{a as cu,d as pu}from"./chunk-HLX5DVID.js";import{a as Nu}from"./chunk-4SU5YWS7.js";import"./chunk-7IVF337O.js";import{b as ys}from"./chunk-HLSBUBGA.js";import{c as Ts}from"./chunk-6MUVD4VB.js";import{g as bu}from"./chunk-IV6GJDJI.js";import"./chunk-6AXFJWFY.js";import{a as _e}from"./chunk-SF2UJFOJ.js";import{a as Kl}from"./chunk-K77FV23O.js";import{i as vs}from"./chunk-B4VYECZS.js";import"./chunk-67Z572PX.js";import"./chunk-O2BGLKEM.js";import{c as Ta,d as Gl,e as $l,f as Vl}from"./chunk-2ILOCZTU.js";import{a as qu}from"./chunk-5D6FMALX.js";import{a as Eu,c as St,d as rt,e as Tu}from"./chunk-WNBXIYVP.js";import"./chunk-BPSSG62G.js";import{e as Du}from"./chunk-ZDO7TFIW.js";import"./chunk-MTJW726U.js";import"./chunk-I3X2I3EE.js";import{b as Ru,c as Mu}from"./chunk-4JU7MQBN.js";import{a as Iu}from"./chunk-25SZ52UW.js";import"./chunk-SGHBHZD2.js";import"./chunk-DAXYD52J.js";import"./chunk-3VDT32YX.js";import{a as oi}from"./chunk-RNBNCNHM.js";import{a as ef}from"./chunk-ZUBJ4HSQ.js";import{f as Ps}from"./chunk-NRDSUSOX.js";import{d as Yt}from"./chunk-OLBL2ESK.js";import{c as Ju,i as Qu}from"./chunk-WFHUBXJH.js";import{a as xs,b as Cs}from"./chunk-YL2OEBEM.js";import"./chunk-UBREW6HU.js";import"./chunk-33LBA2KN.js";import{a as ju}from"./chunk-ETLDBC7Y.js";import{a as Da}from"./chunk-NPTEYWCZ.js";import{a as zu,b as Zu}from"./chunk-BYUE2OWP.js";import{a as uu}from"./chunk-4JK7UGBW.js";import{h as su,o as lu}from"./chunk-RYU3O6YH.js";import"./chunk-QIXX6RE5.js";import"./chunk-ZLXZXLBF.js";import"./chunk-3SFQGMQT.js";import{a as Xu}from"./chunk-PCTAUYQN.js";import{a as Fu,b as Hu}from"./chunk-ZW25VTKR.js";import{d as hu,i as mu}from"./chunk-OZL64JKT.js";import"./chunk-SF4X4VPT.js";import"./chunk-EUVFIXQT.js";import{a as ps,b as hs}from"./chunk-WJQMDYRJ.js";import"./chunk-OANAR4PZ.js";import"./chunk-DY3DHSF2.js";import{a as nt,b as Ce,c as zt,d as en,e as $u,f as Vu}from"./chunk-LZKLGZM5.js";import{g as Au}from"./chunk-DM55GZK5.js";import{a as ou,d as au}from"./chunk-OVX2PTCV.js";import"./chunk-Y57SQLFF.js";import{a as de}from"./chunk-C6D3UGMF.js";import"./chunk-VHMLJAAA.js";import"./chunk-DS7KEGTF.js";import"./chunk-GWV4SS46.js";import"./chunk-EOU2NWJ4.js";import{a as Yu}from"./chunk-HVTBGIF3.js";import{f as Uu}from"./chunk-R7FTGP7E.js";import"./chunk-X4NIGZMX.js";import"./chunk-NZ4SV4UK.js";import{a as Su,b as si}from"./chunk-OOOTT4G3.js";import{a as Ia}from"./chunk-AVQA7GPY.js";import"./chunk-YFSBCNC7.js";import{s as ds}from"./chunk-OFUXQTAD.js";import"./chunk-AJGKE3VO.js";import"./chunk-NRCRSATA.js";import{b as Bu,c as Wu}from"./chunk-LANQTZFO.js";import"./chunk-NZHMCNZN.js";import"./chunk-CBDQQ72I.js";import{$ as pl,$a as ql,A as js,B as Fs,C as Hs,D as Ks,E as Gs,F as $s,Fa as Al,G as Vs,H as Ys,I as Vr,J as zs,K as Js,Ka as Rl,L as Xs,M as Zs,N as Qs,O as el,P as tl,Pa as Ml,Q as rl,R as nl,Ra as kl,S as il,Sa as Il,T as ol,Ta as Dl,U as al,V as sl,W as ll,Wa as Yr,X as ul,Y as fl,Z as dl,Za as Nl,_ as cl,_a as Ll,a as fe,aa as hl,ab as Bl,b as Kr,ba as ml,bb as Wl,c as Gr,ca as gl,cb as Ul,d as Os,da as wl,db as jl,e as $r,ea as yl,eb as Fl,f as As,fa as ii,fb as Hl,g as Rs,ga as _l,h as Ms,ha as bl,i as ks,ia as vl,k as Is,l as Ds,m as Ns,ma as Sl,oa as El,pa as Tl,qa as xl,ra as Cl,sa as Pl,ta as Ol,u as Ls,v as qs,w as Bs,x as Ws,y as Us,z as bt}from"./chunk-4HJMB7P7.js";import{b as oe}from"./chunk-A2W6OJDL.js";import"./chunk-U7RD3Z4E.js";import"./chunk-CJVER5MJ.js";import{b as Yl,c as zl,d as Jl,e as zr}from"./chunk-S5IEFQ34.js";import{o as Xr}from"./chunk-XHNZXPBB.js";import{C as gs,D as ws,Eb as ru,Ib as nu,Jb as iu,ac as we,eb as Xl,fb as Zl,mb as vt,nb as Ql,ob as eu,qb as Ye,u as gt,w as Na,yb as tu,z as ms}from"./chunk-ZTS7374H.js";import"./chunk-QXE433GW.js";import{Ca as es,Da as qg,Ea as Hr,Fa as is,G as $a,Ga as Bg,H as Va,Ja as as,Ka as ss,La as ls,Oa as us,R as Ya,Ra as fs,S as za,T as Ja,V as kg,a as Pa,c as La,e as qa,f as Ba,g as Wa,h as Ua,i as ja,j as Fa,ja as Xa,k as Ha,la as Za,ma as Ig,n as Ka,na as wt,o as Ga,oa as ri,pa as Qa,qa as Dg}from"./chunk-EY7FXYAJ.js";import{b as os,d as ke,f as Vt}from"./chunk-B26CCOB3.js";import"./chunk-RRPGPABV.js";import"./chunk-D2RJYC6D.js";import"./chunk-VMA4KAKW.js";import{b as Qr,d as xu,f as Cu,g as Pu,i as Ou}from"./chunk-XJYCT5UP.js";import{b as ku}from"./chunk-XIAMW27T.js";import"./chunk-QYHQY2ME.js";import"./chunk-FT7VATMT.js";import{a as ye}from"./chunk-YYAHGUV5.js";import"./chunk-QJGSL63Z.js";import"./chunk-7ZE3XWQE.js";import{c as cs,d as _t}from"./chunk-42AETIVN.js";import"./chunk-DKCCIZ3Q.js";import{a as Jr}from"./chunk-C77R5D6K.js";import{c as li}from"./chunk-HBMVMNWX.js";import{Ab as Ea,Bb as Ht,Cb as Xn,Oc as ts,Qc as jr,Tc as rs,Uc as ns,Vc as Fr,Wc as yt,Xc as ni,a as he,b as Ft,c as me,d as $e,dc as Ve,e as Yn,ec as Qn,f as Re,fc as Me,i as zn,kc as Ca,lb as _a,lc as Wr,m as Lr,mc as Ng,n as ma,nc as Lg,o as ga,p as Jn,q as qr,r as wa,s as ya,u as Br,vb as Og,wb as ba,xb as va,y as mt,zb as Sa}from"./chunk-IS2B3ORW.js";import"./chunk-YGSCKFAL.js";import{D as Ma,G as te,H as ka,I as $t,a as Mg,b as Aa,c as Ra,g as ei,k as Ur,o as ge,r as ti,y as xe}from"./chunk-TDPA2BUG.js";import{f as Se,j as la,la as fa,m as Nr,n as ua,pa as ht}from"./chunk-BJO2AFCW.js";import{A as ha,B as Y,M as Ee,l as da,o as ca,u as pa,w as R}from"./chunk-OIAB2YVD.js";import{a as pt}from"./chunk-QHMZGTYF.js";import"./chunk-X5EUMZZI.js";import"./chunk-PJSODKKF.js";import{A as Gt,c as Oa,ca as Te}from"./chunk-VXVCGVBA.js";import{a as Kt}from"./chunk-G6JM4G2M.js";import{a as k}from"./chunk-DAL2TMJA.js";import"./chunk-IEDGM2AY.js";import"./chunk-DAX5D55P.js";import"./chunk-UAZMAR7J.js";import"./chunk-BQF3XODK.js";import"./chunk-I5RKKMWZ.js";import{b as Zn,c as Rg}from"./chunk-FCWFE7QW.js";import"./chunk-4LMFSJNF.js";import"./chunk-P5TEJB3G.js";import"./chunk-AXAVBTOG.js";import"./chunk-SEHRB2F7.js";import"./chunk-IH7OWVTK.js";import"./chunk-RF2WJL7B.js";import"./chunk-K5MXWGTT.js";import"./chunk-OTDALOBJ.js";import"./chunk-JCKY6H7C.js";import"./chunk-6AWMYHRK.js";import{d as $n,g as Z,h as dt,i as Ge,j as Q,w as ct,x as Vn}from"./chunk-5VBNU5MN.js";import{c as x,f as m,h as Ke,l as process,m as a,n as f,o as s}from"./chunk-JEQEC2HU.js";var Jt=x((Zv,ui)=>{"use strict";a();s();!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?ui.exports=Wg:ui.exports=process.nextTick;function Wg(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,l;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(o=new Array(i-1),l=0;l<o.length;)o[l++]=arguments[l];return process.nextTick(function(){e.apply(null,o)})}}});var rf=x((tS,tf)=>{a();s();var Ug={}.toString;tf.exports=Array.isArray||function(e){return Ug.call(e)=="[object Array]"}});var fi=x((iS,nf)=>{a();s();nf.exports=dt().EventEmitter});var Xt=x((di,af)=>{a();s();var tn=$n(),Ie=tn.Buffer;function of(e,t){for(var r in e)t[r]=e[r]}Ie.from&&Ie.alloc&&Ie.allocUnsafe&&Ie.allocUnsafeSlow?af.exports=tn:(of(tn,di),di.Buffer=Tt);function Tt(e,t,r){return Ie(e,t,r)}of(Ie,Tt);Tt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ie(e,t,r)};Tt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ie(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Tt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ie(e)};Tt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return tn.SlowBuffer(e)}});var uf=x((uS,lf)=>{"use strict";a();s();function jg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sf=Xt().Buffer;function Fg(e,t,r){e.copy(t,r)}lf.exports=function(){function e(){jg(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return sf.alloc(0);if(this.length===1)return this.head.data;for(var n=sf.allocUnsafe(r>>>0),i=this.head,o=0;i;)Fg(i.data,n,o),o+=i.data.length,i=i.next;return n},e}()});var ci=x((cS,cf)=>{"use strict";a();s();var ff=Jt();function Hg(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(n||i){t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&ff(df,this,e);return}this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(ff(df,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)})}function Kg(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function df(e,t){e.emit("error",t)}cf.exports={destroy:Hg,undestroy:Kg}});var hi=x((mS,bf)=>{"use strict";a();s();var it=Jt();bf.exports=V;function hf(e){var t=this;this.next=null,this.entry=null,this.finish=function(){lw(t,e)}}var Gg=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:it,xt;V.WritableState=Qt;var mf=Q();mf.inherits=Z();var $g={deprecate:Vn()},gf=fi(),nn=Xt().Buffer,Vg=globalThis.Uint8Array||function(){};function Yg(e){return nn.from(e)}function zg(e){return nn.isBuffer(e)||e instanceof Vg}var wf=ci();mf.inherits(V,gf);function Jg(){}function Qt(e,t){xt=xt||ot(),e=e||{},this.objectMode=!!e.objectMode,t instanceof xt&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){nw(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new hf(this)}Qt.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Qt.prototype,"buffer",{get:$g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var rn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(rn=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(e){return rn.call(this,e)?!0:e&&e._writableState instanceof Qt}})):rn=function(e){return e instanceof this};function V(e){if(xt=xt||ot(),!rn.call(V,this)&&!(this instanceof xt))return new V(e);this._writableState=new Qt(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),gf.call(this)}V.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Xg(e,t){var r=new Error("write after end");e.emit("error",r),it(t,r)}function Zg(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),it(n,o),i=!1),i}V.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=zg(e)&&!n.objectMode;return o&&!nn.isBuffer(e)&&(e=Yg(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Jg),n.ended?Xg(this,r):(o||Zg(this,n,e,r))&&(n.pendingcb++,i=ew(this,n,o,e,t,r)),i};V.prototype.cork=function(){var e=this._writableState;e.corked++};V.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&yf(this,e))};V.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Qg(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=nn.from(t,r)),t}function ew(e,t,r,n,i,o){if(!r){var l=Qg(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else pi(e,t,!1,u,n,i,o);return d}function pi(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function tw(e,t,r,n,i){--t.pendingcb,r?(it(i,n),it(Zt,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),Zt(e,t))}function rw(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function nw(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(rw(r),t)tw(e,r,n,t,i);else{var o=_f(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&yf(e,r),n?Gg(pf,e,r,o,i):pf(e,r,o,i)}}function pf(e,t,r,n){r||iw(e,t),t.pendingcb--,n(),Zt(e,t)}function iw(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function yf(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,pi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new hf(t)}else{for(;r;){var d=r.chunk,h=r.encoding,b=r.callback,T=t.objectMode?1:d.length;if(pi(e,t,!1,T,d,h,b),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}V.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};V.prototype._writev=null;V.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&sw(this,n,r)};function _f(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function ow(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),Zt(e,t)})}function aw(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,it(ow,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Zt(e,t){var r=_f(t);return r&&(aw(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function sw(e,t,r){t.ending=!0,Zt(e,t),r&&(t.finished?it(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function lw(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(V.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});V.prototype.destroy=wf.destroy;V.prototype._undestroy=wf.undestroy;V.prototype._destroy=function(e,t){this.end(),t(e)}});var ot=x((yS,xf)=>{"use strict";a();s();var Sf=Jt(),uw=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};xf.exports=ze;var Ef=Q();Ef.inherits=Z();var Tf=gi(),mi=hi();Ef.inherits(ze,Tf);var vf=uw(mi.prototype);for(on=0;on<vf.length;on++)an=vf[on],ze.prototype[an]||(ze.prototype[an]=mi.prototype[an]);var an,on;function ze(e){if(!(this instanceof ze))return new ze(e);Tf.call(this,e),mi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",fw)}function fw(){this.allowHalfOpen||this._writableState.ended||Sf(dw,this)}function dw(e){e.end()}Object.defineProperty(ze.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});ze.prototype._destroy=function(e,t){this.push(null),this.end(),Sf(t,e)}});var _i=x(Pf=>{"use strict";a();s();var yi=Xt().Buffer,Cf=yi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function cw(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function pw(e){var t=cw(e);if(typeof t!="string"&&(yi.isEncoding===Cf||!Cf(e)))throw new Error("Unknown encoding: "+e);return t||e}Pf.StringDecoder=er;function er(e){this.encoding=pw(e);var t;switch(this.encoding){case"utf16le":this.text=_w,this.end=bw,t=4;break;case"utf8":this.fillLast=gw,t=4;break;case"base64":this.text=vw,this.end=Sw,t=3;break;default:this.write=Ew,this.end=Tw;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=yi.allocUnsafe(t)}er.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};er.prototype.end=yw;er.prototype.text=ww;er.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function wi(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function hw(e,t,r){var n=t.length-1;if(n<r)return 0;var i=wi(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=wi(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=wi(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function mw(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD".repeat(r);if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD".repeat(r+1);if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD".repeat(r+2)}}function gw(e){var t=this.lastTotal-this.lastNeed,r=mw(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function ww(e,t){var r=hw(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function yw(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD".repeat(this.lastTotal-this.lastNeed):t}function _w(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function bw(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function vw(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Sw(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Ew(e){return e.toString(this.encoding)}function Tw(e){return e&&e.length?this.write(e):""}});var gi=x((xS,Wf)=>{"use strict";a();s();var Pt=Jt();Wf.exports=F;var xw=rf(),tr;F.ReadableState=Df;var TS=dt().EventEmitter,Mf=function(e,t){return e.listeners(t).length},Ti=fi(),rr=Xt().Buffer,Cw=globalThis.Uint8Array||function(){};function Pw(e){return rr.from(e)}function Ow(e){return rr.isBuffer(e)||e instanceof Cw}var kf=Q();kf.inherits=Z();var bi=ct(),I=void 0;bi&&bi.debuglog?I=bi.debuglog("stream"):I=function(){};var Aw=uf(),If=ci(),Ct;kf.inherits(F,Ti);var vi=["error","close","destroy","pause","resume"];function Rw(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):xw(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Df(e,t){tr=tr||ot(),e=e||{},this.objectMode=!!e.objectMode,t instanceof tr&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Aw,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Ct||(Ct=_i().StringDecoder),this.decoder=new Ct(e.encoding),this.encoding=e.encoding)}function F(e){if(tr=tr||ot(),!(this instanceof F))return new F(e);this._readableState=new Df(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Ti.call(this)}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});F.prototype.destroy=If.destroy;F.prototype._undestroy=If.undestroy;F.prototype._destroy=function(e,t){this.push(null),t(e)};F.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=rr.from(e,t),t=""),n=!0),Nf(this,e,t,!1,n)};F.prototype.unshift=function(e){return Nf(this,e,null,!0,!1)};function Nf(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Dw(e,o);else{var l;i||(l=Mw(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==rr.prototype&&(t=Pw(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Si(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Si(e,o,t,!1):Lf(e,o)):Si(e,o,t,!1))):n||(o.reading=!1)}return kw(o)}function Si(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&sn(e)),Lf(e,t)}function Mw(e,t){var r;return!Ow(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function kw(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}F.prototype.isPaused=function(){return this._readableState.flowing===!1};F.prototype.setEncoding=function(e){return Ct||(Ct=_i().StringDecoder),this._readableState.decoder=new Ct(e),this._readableState.encoding=e,this};var Of=8388608;function Iw(e){return e>=Of?e=Of:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Af(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Iw(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}F.prototype.read=function(e){I("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return I("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ei(this):sn(this),null;if(e=Af(e,t),e===0&&t.ended)return t.length===0&&Ei(this),null;var n=t.needReadable;I("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,I("length less than watermark",n)),t.ended||t.reading?(n=!1,I("reading or ended",n)):n&&(I("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Af(r,t)));var i;return e>0?i=qf(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Ei(this)),i!==null&&this.emit("data",i),i};function Dw(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,sn(e)}}function sn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(I("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Pt(Rf,e):Rf(e))}function Rf(e){I("emit readable"),e.emit("readable"),xi(e)}function Lf(e,t){t.readingMore||(t.readingMore=!0,Pt(Nw,e,t))}function Nw(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(I("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}F.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};F.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,I("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?Pt(o):r.once("end",o),e.on("unpipe",l);function l(_,v){I("onunpipe"),_===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,b())}function u(){I("onend"),e.end()}var d=Lw(r);e.on("drain",d);var h=!1;function b(){I("cleanup"),e.removeListener("close",C),e.removeListener("finish",c),e.removeListener("drain",d),e.removeListener("error",E),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",A),h=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var T=!1;r.on("data",A);function A(_){I("ondata"),T=!1;var v=e.write(_);v===!1&&!T&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Bf(n.pipes,e)!==-1)&&!h&&(I("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,T=!0),r.pause())}function E(_){I("onerror",_),y(),e.removeListener("error",E),Mf(e,"error")===0&&e.emit("error",_)}Rw(e,"error",E);function C(){e.removeListener("finish",c),y()}e.once("close",C);function c(){I("onfinish"),e.removeListener("close",C),y()}e.once("finish",c);function y(){I("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(I("pipe resume"),r.resume()),e};function Lw(e){return function(){var t=e._readableState;I("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Mf(e,"data")&&(t.flowing=!0,xi(e))}}F.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Bf(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};F.prototype.on=function(e,t){var r=Ti.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&sn(this):Pt(qw,this))}return r};F.prototype.addListener=F.prototype.on;function qw(e){I("readable nexttick read 0"),e.read(0)}F.prototype.resume=function(){var e=this._readableState;return e.flowing||(I("resume"),e.flowing=!0,Bw(this,e)),this};function Bw(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Pt(Ww,e,t))}function Ww(e,t){t.reading||(I("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),xi(e),t.flowing&&!t.reading&&e.read(0)}F.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function xi(e){var t=e._readableState;for(I("flow",t.flowing);t.flowing&&e.read()!==null;);}F.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(I("wrapped end"),t.decoder&&!t.ended){var l=t.decoder.end();l&&l.length&&n.push(l)}n.push(null)}),e.on("data",function(l){if(I("wrapped data"),t.decoder&&(l=t.decoder.write(l)),!(t.objectMode&&l==null)&&!(!t.objectMode&&(!l||!l.length))){var u=n.push(l);u||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<vi.length;o++)e.on(vi[o],n.emit.bind(n,vi[o]));return n._read=function(l){I("wrapped _read",l),r&&(r=!1,e.resume())},n};F._fromList=qf;function qf(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Uw(e,t.buffer,t.decoder),r}function Uw(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?jw(e,t):Fw(e,t),n}function jw(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function Fw(e,t){var r=rr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Ei(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Pt(Hw,t,e))}function Hw(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Bf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Ci=x((OS,Ff)=>{"use strict";a();s();Ff.exports=De;var ln=ot(),jf=Q();jf.inherits=Z();jf.inherits(De,ln);function Kw(e){this.afterTransform=function(t,r){return Gw(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Gw(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function De(e){if(!(this instanceof De))return new De(e);ln.call(this,e),this._transformState=new Kw(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r,n){Uf(t,r,n)}):Uf(t)})}De.prototype.push=function(e,t){return this._transformState.needTransform=!1,ln.prototype.push.call(this,e,t)};De.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};De.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};De.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};De.prototype._destroy=function(e,t){var r=this;ln.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Uf(e,t,r){if(t)return e.emit("error",t);r!=null&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var $f=x((MS,Gf)=>{"use strict";a();s();Gf.exports=nr;var Hf=Ci(),Kf=Q();Kf.inherits=Z();Kf.inherits(nr,Hf);function nr(e){if(!(this instanceof nr))return new nr(e);Hf.call(this,e)}nr.prototype._transform=function(e,t,r){r(null,e)}});var Yf=x((Pe,Vf)=>{a();s();Pe=Vf.exports=gi();Pe.Stream=Pe;Pe.Readable=Pe;Pe.Writable=hi();Pe.Duplex=ot();Pe.Transform=Ci();Pe.PassThrough=$f()});var ed=x((US,Qf)=>{a();s();Qf.exports=or;or.default=or;or.stable=Xf;or.stableStringify=Xf;var Ne=[],Je=[];function or(e,t,r){Pi(e,"",[],void 0);var n;for(Je.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,Zf(t),r);Ne.length!==0;){var i=Ne.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function Pi(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ne.push([n,t,e,o])):Je.push([e,t]):(n[t]="[Circular]",Ne.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Pi(e[i],i,r,e);else{var l=Object.keys(e);for(i=0;i<l.length;i++){var u=l[i];Pi(e[u],u,r,e)}}r.pop()}}function $w(e,t){return e<t?-1:e>t?1:0}function Xf(e,t,r){var n=Oi(e,"",[],void 0)||e,i;for(Je.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,Zf(t),r);Ne.length!==0;){var o=Ne.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return i}function Oi(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ne.push([n,t,e,o])):Je.push([e,t]):(n[t]="[Circular]",Ne.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Oi(e[i],i,r,e);else{var l={},u=Object.keys(e).sort($w);for(i=0;i<u.length;i++){var d=u[i];Oi(e[d],d,r,e),l[d]=e[d]}if(n!==void 0)Ne.push([n,t,e]),n[t]=l;else return l}r.pop()}}function Zf(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(Je.length>0)for(var n=0;n<Je.length;n++){var i=Je[n];if(i[1]===t&&i[0]===r){r="[Circular]",Je.splice(n,1);break}}return e.call(this,t,r)}}});var fn=x(Ot=>{"use strict";a();s();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.EthereumProviderError=Ot.EthereumRpcError=void 0;var Vw=ed(),un=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Vw.default(this.serialize(),zw,2)}};Ot.EthereumRpcError=un;var Ai=class extends un{constructor(t,r,n){if(!Yw(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};Ot.EthereumProviderError=Ai;function Yw(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function zw(e,t){if(t!=="[Circular]")return t}});var dn=x(At=>{"use strict";a();s();Object.defineProperty(At,"__esModule",{value:!0});At.errorValues=At.errorCodes=void 0;At.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};At.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});var ki=x(be=>{"use strict";a();s();Object.defineProperty(be,"__esModule",{value:!0});be.serializeError=be.isValidCode=be.getMessageFromCode=be.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var cn=dn(),Jw=fn(),td=cn.errorCodes.rpc.internal,Xw="Unspecified error message. This is a bug, please report it.",Zw={code:td,message:Mi(td)};be.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function Mi(e,t=Xw){if(Number.isInteger(e)){let r=e.toString();if(Ri(cn.errorValues,r))return cn.errorValues[r].message;if(id(e))return be.JSON_RPC_SERVER_ERROR_MESSAGE}return t}be.getMessageFromCode=Mi;function nd(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(cn.errorValues[t]||id(e))}be.isValidCode=nd;function Qw(e,{fallbackError:t=Zw,shouldIncludeStack:r=!1}={}){var n,i;if(!t||!Number.isInteger(t.code)||typeof t.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof Jw.EthereumRpcError)return e.serialize();let o={};if(e&&typeof e=="object"&&!Array.isArray(e)&&Ri(e,"code")&&nd(e.code)){let u=e;o.code=u.code,u.message&&typeof u.message=="string"?(o.message=u.message,Ri(u,"data")&&(o.data=u.data)):(o.message=Mi(o.code),o.data={originalError:rd(e)})}else{o.code=t.code;let u=(n=e)===null||n===void 0?void 0:n.message;o.message=u&&typeof u=="string"?u:t.message,o.data={originalError:rd(e)}}let l=(i=e)===null||i===void 0?void 0:i.stack;return r&&e&&l&&typeof l=="string"&&(o.stack=l),o}be.serializeError=Qw;function id(e){return e>=-32099&&e<=-32e3}function rd(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function Ri(e,t){return Object.prototype.hasOwnProperty.call(e,t)}});var sd=x(pn=>{"use strict";a();s();Object.defineProperty(pn,"__esModule",{value:!0});pn.ethErrors=void 0;var Ii=fn(),od=ki(),J=dn();pn.ethErrors={rpc:{parse:e=>ce(J.errorCodes.rpc.parse,e),invalidRequest:e=>ce(J.errorCodes.rpc.invalidRequest,e),invalidParams:e=>ce(J.errorCodes.rpc.invalidParams,e),methodNotFound:e=>ce(J.errorCodes.rpc.methodNotFound,e),internal:e=>ce(J.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ce(t,e)},invalidInput:e=>ce(J.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>ce(J.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ce(J.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ce(J.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ce(J.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ce(J.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>ar(J.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>ar(J.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>ar(J.errorCodes.provider.unsupportedMethod,e),disconnected:e=>ar(J.errorCodes.provider.disconnected,e),chainDisconnected:e=>ar(J.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ii.EthereumProviderError(t,r,n)}}};function ce(e,t){let[r,n]=ad(t);return new Ii.EthereumRpcError(e,r||od.getMessageFromCode(e),n)}function ar(e,t){let[r,n]=ad(t);return new Ii.EthereumProviderError(e,r||od.getMessageFromCode(e),n)}function ad(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}});var fd=x(re=>{"use strict";a();s();Object.defineProperty(re,"__esModule",{value:!0});re.getMessageFromCode=re.serializeError=re.EthereumProviderError=re.EthereumRpcError=re.ethErrors=re.errorCodes=void 0;var ld=fn();Object.defineProperty(re,"EthereumRpcError",{enumerable:!0,get:function(){return ld.EthereumRpcError}});Object.defineProperty(re,"EthereumProviderError",{enumerable:!0,get:function(){return ld.EthereumProviderError}});var ud=ki();Object.defineProperty(re,"serializeError",{enumerable:!0,get:function(){return ud.serializeError}});Object.defineProperty(re,"getMessageFromCode",{enumerable:!0,get:function(){return ud.getMessageFromCode}});var ey=sd();Object.defineProperty(re,"ethErrors",{enumerable:!0,get:function(){return ey.ethErrors}});var ty=dn();Object.defineProperty(re,"errorCodes",{enumerable:!0,get:function(){return ty.errorCodes}})});var md=x((lE,hd)=>{a();s();var ny={}.toString;hd.exports=Array.isArray||function(e){return ny.call(e)=="[object Array]"}});var Ni=x((dE,gd)=>{a();s();gd.exports=dt().EventEmitter});var sr=x((Li,yd)=>{a();s();var hn=$n(),Le=hn.Buffer;function wd(e,t){for(var r in e)t[r]=e[r]}Le.from&&Le.alloc&&Le.allocUnsafe&&Le.allocUnsafeSlow?yd.exports=hn:(wd(hn,Li),Li.Buffer=Rt);function Rt(e,t,r){return Le(e,t,r)}wd(Le,Rt);Rt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Le(e,t,r)};Rt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Le(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Rt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Le(e)};Rt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return hn.SlowBuffer(e)}});var bd=x((gE,qi)=>{"use strict";a();s();function iy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _d=sr().Buffer,lr=ct();function oy(e,t,r){e.copy(t,r)}qi.exports=function(){function e(){iy(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return _d.alloc(0);if(this.length===1)return this.head.data;for(var n=_d.allocUnsafe(r>>>0),i=this.head,o=0;i;)oy(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();lr&&lr.inspect&&lr.inspect.custom&&(qi.exports.prototype[lr.inspect.custom]=function(){var e=lr.inspect({length:this.length});return this.constructor.name+" "+e})});var Bi=x((_E,Ed)=>{"use strict";a();s();var vd=Ge();function ay(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&vd.nextTick(Sd,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(vd.nextTick(Sd,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function sy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Sd(e,t){e.emit("error",t)}Ed.exports={destroy:ay,undestroy:sy}});var Ui=x((SE,Md)=>{"use strict";a();s();var at=Ge();Md.exports=K;function xd(e){var t=this;this.next=null,this.entry=null,this.finish=function(){xy(t,e)}}var ly=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:at.nextTick,Mt;K.WritableState=fr;var Cd=Object.create(Q());Cd.inherits=Z();var uy={deprecate:Vn()},Pd=Ni(),gn=sr().Buffer,fy=globalThis.Uint8Array||function(){};function dy(e){return gn.from(e)}function cy(e){return gn.isBuffer(e)||e instanceof fy}var Od=Bi();Cd.inherits(K,Pd);function py(){}function fr(e,t){Mt=Mt||st(),e=e||{};var r=t instanceof Mt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){by(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new xd(this)}fr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(fr.prototype,"buffer",{get:uy.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var mn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mn=Function.prototype[Symbol.hasInstance],Object.defineProperty(K,Symbol.hasInstance,{value:function(e){return mn.call(this,e)?!0:this!==K?!1:e&&e._writableState instanceof fr}})):mn=function(e){return e instanceof this};function K(e){if(Mt=Mt||st(),!mn.call(K,this)&&!(this instanceof Mt))return new K(e);this._writableState=new fr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Pd.call(this)}K.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function hy(e,t){var r=new Error("write after end");e.emit("error",r),at.nextTick(t,r)}function my(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),at.nextTick(n,o),i=!1),i}K.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&cy(e);return o&&!gn.isBuffer(e)&&(e=dy(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=py),n.ended?hy(this,r):(o||my(this,n,e,r))&&(n.pendingcb++,i=wy(this,n,o,e,t,r)),i};K.prototype.cork=function(){var e=this._writableState;e.corked++};K.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&Ad(this,e))};K.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function gy(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=gn.from(t,r)),t}Object.defineProperty(K.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function wy(e,t,r,n,i,o){if(!r){var l=gy(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Wi(e,t,!1,u,n,i,o);return d}function Wi(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function yy(e,t,r,n,i){--t.pendingcb,r?(at.nextTick(i,n),at.nextTick(ur,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),ur(e,t))}function _y(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function by(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(_y(r),t)yy(e,r,n,t,i);else{var o=Rd(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Ad(e,r),n?ly(Td,e,r,o,i):Td(e,r,o,i)}}function Td(e,t,r,n){r||vy(e,t),t.pendingcb--,n(),ur(e,t)}function vy(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Ad(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,Wi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new xd(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,h=r.encoding,b=r.callback,T=t.objectMode?1:d.length;if(Wi(e,t,!1,T,d,h,b),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}K.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};K.prototype._writev=null;K.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Ty(this,n,r)};function Rd(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Sy(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),ur(e,t)})}function Ey(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,at.nextTick(Sy,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function ur(e,t){var r=Rd(t);return r&&(Ey(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Ty(e,t,r){t.ending=!0,ur(e,t),r&&(t.finished?at.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function xy(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(K.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});K.prototype.destroy=Od.destroy;K.prototype._undestroy=Od.undestroy;K.prototype._destroy=function(e,t){this.end(),t(e)}});var st=x((xE,Nd)=>{"use strict";a();s();var kd=Ge(),Cy=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Nd.exports=qe;var Id=Object.create(Q());Id.inherits=Z();var Dd=Hi(),Fi=Ui();Id.inherits(qe,Dd);for(ji=Cy(Fi.prototype),wn=0;wn<ji.length;wn++)yn=ji[wn],qe.prototype[yn]||(qe.prototype[yn]=Fi.prototype[yn]);var ji,yn,wn;function qe(e){if(!(this instanceof qe))return new qe(e);Dd.call(this,e),Fi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Py)}Object.defineProperty(qe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Py(){this.allowHalfOpen||this._writableState.ended||kd.nextTick(Oy,this)}function Oy(e){e.end()}Object.defineProperty(qe.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});qe.prototype._destroy=function(e,t){this.push(null),this.end(),kd.nextTick(t,e)}});var $i=x(qd=>{"use strict";a();s();var Gi=sr().Buffer,Ld=Gi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ay(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Ry(e){var t=Ay(e);if(typeof t!="string"&&(Gi.isEncoding===Ld||!Ld(e)))throw new Error("Unknown encoding: "+e);return t||e}qd.StringDecoder=dr;function dr(e){this.encoding=Ry(e);var t;switch(this.encoding){case"utf16le":this.text=Ly,this.end=qy,t=4;break;case"utf8":this.fillLast=Iy,t=4;break;case"base64":this.text=By,this.end=Wy,t=3;break;default:this.write=Uy,this.end=jy;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Gi.allocUnsafe(t)}dr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};dr.prototype.end=Ny;dr.prototype.text=Dy;dr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ki(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function My(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Ki(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Ki(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Ki(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ky(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Iy(e){var t=this.lastTotal-this.lastNeed,r=ky(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Dy(e,t){var r=My(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Ny(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Ly(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function qy(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function By(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Wy(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Uy(e){return e.toString(this.encoding)}function jy(e){return e&&e.length?this.write(e):""}});var Hi=x((kE,zd)=>{"use strict";a();s();var It=Ge();zd.exports=U;var Fy=md(),cr;U.ReadableState=Kd;var ME=dt().EventEmitter,jd=function(e,t){return e.listeners(t).length},Xi=Ni(),pr=sr().Buffer,Hy=globalThis.Uint8Array||function(){};function Ky(e){return pr.from(e)}function Gy(e){return pr.isBuffer(e)||e instanceof Hy}var Fd=Object.create(Q());Fd.inherits=Z();var Vi=ct(),D=void 0;Vi&&Vi.debuglog?D=Vi.debuglog("stream"):D=function(){};var $y=bd(),Hd=Bi(),kt;Fd.inherits(U,Xi);var Yi=["error","close","destroy","pause","resume"];function Vy(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Fy(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Kd(e,t){cr=cr||st(),e=e||{};var r=t instanceof cr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new $y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(kt||(kt=$i().StringDecoder),this.decoder=new kt(e.encoding),this.encoding=e.encoding)}function U(e){if(cr=cr||st(),!(this instanceof U))return new U(e);this._readableState=new Kd(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Xi.call(this)}Object.defineProperty(U.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});U.prototype.destroy=Hd.destroy;U.prototype._undestroy=Hd.undestroy;U.prototype._destroy=function(e,t){this.push(null),t(e)};U.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=pr.from(e,t),t=""),n=!0),Gd(this,e,t,!1,n)};U.prototype.unshift=function(e){return Gd(this,e,null,!0,!1)};function Gd(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Xy(e,o);else{var l;i||(l=Yy(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==pr.prototype&&(t=Ky(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):zi(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?zi(e,o,t,!1):$d(e,o)):zi(e,o,t,!1))):n||(o.reading=!1)}return zy(o)}function zi(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&_n(e)),$d(e,t)}function Yy(e,t){var r;return!Gy(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function zy(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}U.prototype.isPaused=function(){return this._readableState.flowing===!1};U.prototype.setEncoding=function(e){return kt||(kt=$i().StringDecoder),this._readableState.decoder=new kt(e),this._readableState.encoding=e,this};var Bd=8388608;function Jy(e){return e>=Bd?e=Bd:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Wd(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Jy(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}U.prototype.read=function(e){D("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return D("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ji(this):_n(this),null;if(e=Wd(e,t),e===0&&t.ended)return t.length===0&&Ji(this),null;var n=t.needReadable;D("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,D("length less than watermark",n)),t.ended||t.reading?(n=!1,D("reading or ended",n)):n&&(D("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Wd(r,t)));var i;return e>0?i=Vd(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Ji(this)),i!==null&&this.emit("data",i),i};function Xy(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,_n(e)}}function _n(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(D("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?It.nextTick(Ud,e):Ud(e))}function Ud(e){D("emit readable"),e.emit("readable"),Zi(e)}function $d(e,t){t.readingMore||(t.readingMore=!0,It.nextTick(Zy,e,t))}function Zy(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(D("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}U.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};U.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,D("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?It.nextTick(o):r.once("end",o),e.on("unpipe",l);function l(_,v){D("onunpipe"),_===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,b())}function u(){D("onend"),e.end()}var d=Qy(r);e.on("drain",d);var h=!1;function b(){D("cleanup"),e.removeListener("close",C),e.removeListener("finish",c),e.removeListener("drain",d),e.removeListener("error",E),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",A),h=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var T=!1;r.on("data",A);function A(_){D("ondata"),T=!1;var v=e.write(_);v===!1&&!T&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Yd(n.pipes,e)!==-1)&&!h&&(D("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,T=!0),r.pause())}function E(_){D("onerror",_),y(),e.removeListener("error",E),jd(e,"error")===0&&e.emit("error",_)}Vy(e,"error",E);function C(){e.removeListener("finish",c),y()}e.once("close",C);function c(){D("onfinish"),e.removeListener("close",C),y()}e.once("finish",c);function y(){D("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(D("pipe resume"),r.resume()),e};function Qy(e){return function(){var t=e._readableState;D("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&jd(e,"data")&&(t.flowing=!0,Zi(e))}}U.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Yd(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};U.prototype.on=function(e,t){var r=Xi.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&_n(this):It.nextTick(e_,this))}return r};U.prototype.addListener=U.prototype.on;function e_(e){D("readable nexttick read 0"),e.read(0)}U.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!0,t_(this,e)),this};function t_(e,t){t.resumeScheduled||(t.resumeScheduled=!0,It.nextTick(r_,e,t))}function r_(e,t){t.reading||(D("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Zi(e),t.flowing&&!t.reading&&e.read(0)}U.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Zi(e){var t=e._readableState;for(D("flow",t.flowing);t.flowing&&e.read()!==null;);}U.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(D("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(D("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var u=t.push(l);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<Yi.length;o++)e.on(Yi[o],this.emit.bind(this,Yi[o]));return this._read=function(l){D("wrapped _read",l),n&&(n=!1,e.resume())},this};Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});U._fromList=Vd;function Vd(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=n_(e,t.buffer,t.decoder),r}function n_(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?i_(e,t):o_(e,t),n}function i_(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function o_(e,t){var r=pr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Ji(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,It.nextTick(a_,t,e))}function a_(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Yd(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Qi=x((NE,Zd)=>{"use strict";a();s();Zd.exports=Be;var bn=st(),Xd=Object.create(Q());Xd.inherits=Z();Xd.inherits(Be,bn);function s_(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Be(e){if(!(this instanceof Be))return new Be(e);bn.call(this,e),this._transformState={afterTransform:s_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",l_)}function l_(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Jd(e,t,r)}):Jd(this,null,null)}Be.prototype.push=function(e,t){return this._transformState.needTransform=!1,bn.prototype.push.call(this,e,t)};Be.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Be.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Be.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Be.prototype._destroy=function(e,t){var r=this;bn.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Jd(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var rc=x((BE,tc)=>{"use strict";a();s();tc.exports=hr;var Qd=Qi(),ec=Object.create(Q());ec.inherits=Z();ec.inherits(hr,Qd);function hr(e){if(!(this instanceof hr))return new hr(e);Qd.call(this,e)}hr.prototype._transform=function(e,t,r){r(null,e)}});var ic=x((Oe,nc)=>{a();s();Oe=nc.exports=Hi();Oe.Stream=Oe;Oe.Readable=Oe;Oe.Writable=Ui();Oe.Duplex=st();Oe.Transform=Qi();Oe.PassThrough=rc()});var eo=x((HE,ac)=>{a();s();var u_=Zn(),f_=function(){},d_=function(e){return e.setHeader&&typeof e.abort=="function"},c_=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},oc=function(e,t,r){if(typeof t=="function")return oc(e,null,t);t||(t={}),r=u_(r||f_);var n=e._writableState,i=e._readableState,o=t.readable||t.readable!==!1&&e.readable,l=t.writable||t.writable!==!1&&e.writable,u=!1,d=function(){e.writable||h()},h=function(){l=!1,o||r.call(e)},b=function(){o=!1,l||r.call(e)},T=function(y){r.call(e,y?new Error("exited with error code: "+y):null)},A=function(y){r.call(e,y)},E=function(){process.nextTick(C)},C=function(){if(!u){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(l&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},c=function(){e.req.on("finish",h)};return d_(e)?(e.on("complete",h),e.on("abort",E),e.req?c():e.on("request",c)):l&&!n&&(e.on("end",d),e.on("close",d)),c_(e)&&e.on("exit",T),e.on("end",b),e.on("finish",h),t.error!==!1&&e.on("error",A),e.on("close",E),function(){u=!0,e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",c),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",T),e.removeListener("end",b),e.removeListener("error",A),e.removeListener("close",E)}};ac.exports=oc});var dc=x(($E,fc)=>{a();s();var{Duplex:uc}=ic(),sc=eo(),p_=Zn(),lc={},to=class extends uc{constructor(t={}){let r=Object.assign({},t,{objectMode:!0});super(r),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');let r=new ro({parent:this,name:t});return this._substreams[t]=r,h_(this,n=>{r.destroy(n)}),r}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');this._substreams[t]=lc}_read(){}_write(t,r,n){let i=t.name,o=t.data;if(!i)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();let l=this._substreams[i];if(!l)return console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n();l!==lc&&l.push(o),n()}},ro=class extends uc{constructor({parent:t,name:r}){super({objectMode:!0}),this._parent=t,this._name=r}_read(){}_write(t,r,n){this._parent.push({name:this._name,data:t}),n()}};fc.exports=to;function h_(e,t){let r=p_(t);sc(e,{readable:!1},r),sc(e,{writable:!1},r)}});var hc=x((zE,pc)=>{a();s();var m_=Zn(),g_=eo(),no=Rg(),mr=function(){},w_=/^v?\.0/.test(process.version),vn=function(e){return typeof e=="function"},y_=function(e){return!w_||!no?!1:(e instanceof(no.ReadStream||mr)||e instanceof(no.WriteStream||mr))&&vn(e.close)},__=function(e){return e.setHeader&&vn(e.abort)},b_=function(e,t,r,n){n=m_(n);var i=!1;e.on("close",function(){i=!0}),g_(e,{readable:t,writable:r},function(l){if(l)return n(l);i=!0,n()});var o=!1;return function(l){if(!i&&!o){if(o=!0,y_(e))return e.close(mr);if(__(e))return e.abort();if(vn(e.destroy))return e.destroy();n(l||new Error("stream was destroyed"))}}},cc=function(e){e()},v_=function(e,t){return e.pipe(t)},S_=function(){var e=Array.prototype.slice.call(arguments),t=vn(e[e.length-1]||mr)&&e.pop()||mr;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,o){var l=o<e.length-1,u=o>0;return b_(i,l,u,function(d){r||(r=d),d&&n.forEach(cc),!l&&(n.forEach(cc),t(r))})});return e.reduce(v_)};pc.exports=S_});var bc=x((fT,_c)=>{a();s();var T_={}.toString;_c.exports=Array.isArray||function(e){return T_.call(e)=="[object Array]"}});var io=x((pT,vc)=>{a();s();vc.exports=dt().EventEmitter});var wr=x((oo,Ec)=>{a();s();var Sn=$n(),We=Sn.Buffer;function Sc(e,t){for(var r in e)t[r]=e[r]}We.from&&We.alloc&&We.allocUnsafe&&We.allocUnsafeSlow?Ec.exports=Sn:(Sc(Sn,oo),oo.Buffer=Dt);function Dt(e,t,r){return We(e,t,r)}Sc(We,Dt);Dt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return We(e,t,r)};Dt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=We(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Dt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return We(e)};Dt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sn.SlowBuffer(e)}});var xc=x((yT,ao)=>{"use strict";a();s();function x_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Tc=wr().Buffer,yr=ct();function C_(e,t,r){e.copy(t,r)}ao.exports=function(){function e(){x_(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return Tc.alloc(0);if(this.length===1)return this.head.data;for(var n=Tc.allocUnsafe(r>>>0),i=this.head,o=0;i;)C_(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();yr&&yr.inspect&&yr.inspect.custom&&(ao.exports.prototype[yr.inspect.custom]=function(){var e=yr.inspect({length:this.length});return this.constructor.name+" "+e})});var so=x((vT,Oc)=>{"use strict";a();s();var Cc=Ge();function P_(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&Cc.nextTick(Pc,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(Cc.nextTick(Pc,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function O_(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Pc(e,t){e.emit("error",t)}Oc.exports={destroy:P_,undestroy:O_}});var uo=x((TT,Lc)=>{"use strict";a();s();var lt=Ge();Lc.exports=$;function Rc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){$_(t,e)}}var A_=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:lt.nextTick,Nt;$.WritableState=br;var Mc=Object.create(Q());Mc.inherits=Z();var R_={deprecate:Vn()},kc=io(),Tn=wr().Buffer,M_=globalThis.Uint8Array||function(){};function k_(e){return Tn.from(e)}function I_(e){return Tn.isBuffer(e)||e instanceof M_}var Ic=so();Mc.inherits($,kc);function D_(){}function br(e,t){Nt=Nt||ut(),e=e||{};var r=t instanceof Nt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){j_(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Rc(this)}br.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(br.prototype,"buffer",{get:R_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var En;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(En=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(e){return En.call(this,e)?!0:this!==$?!1:e&&e._writableState instanceof br}})):En=function(e){return e instanceof this};function $(e){if(Nt=Nt||ut(),!En.call($,this)&&!(this instanceof Nt))return new $(e);this._writableState=new br(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),kc.call(this)}$.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function N_(e,t){var r=new Error("write after end");e.emit("error",r),lt.nextTick(t,r)}function L_(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),lt.nextTick(n,o),i=!1),i}$.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&I_(e);return o&&!Tn.isBuffer(e)&&(e=k_(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=D_),n.ended?N_(this,r):(o||L_(this,n,e,r))&&(n.pendingcb++,i=B_(this,n,o,e,t,r)),i};$.prototype.cork=function(){var e=this._writableState;e.corked++};$.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&Dc(this,e))};$.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function q_(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Tn.from(t,r)),t}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B_(e,t,r,n,i,o){if(!r){var l=q_(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else lo(e,t,!1,u,n,i,o);return d}function lo(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function W_(e,t,r,n,i){--t.pendingcb,r?(lt.nextTick(i,n),lt.nextTick(_r,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),_r(e,t))}function U_(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function j_(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(U_(r),t)W_(e,r,n,t,i);else{var o=Nc(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Dc(e,r),n?A_(Ac,e,r,o,i):Ac(e,r,o,i)}}function Ac(e,t,r,n){r||F_(e,t),t.pendingcb--,n(),_r(e,t)}function F_(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Dc(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,lo(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Rc(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,h=r.encoding,b=r.callback,T=t.objectMode?1:d.length;if(lo(e,t,!1,T,d,h,b),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}$.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};$.prototype._writev=null;$.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&G_(this,n,r)};function Nc(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function H_(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),_r(e,t)})}function K_(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,lt.nextTick(H_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function _r(e,t){var r=Nc(t);return r&&(K_(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function G_(e,t,r){t.ending=!0,_r(e,t),r&&(t.finished?lt.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function $_(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty($.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});$.prototype.destroy=Ic.destroy;$.prototype._undestroy=Ic.undestroy;$.prototype._destroy=function(e,t){this.end(),t(e)}});var ut=x((PT,Uc)=>{"use strict";a();s();var qc=Ge(),V_=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Uc.exports=Ue;var Bc=Object.create(Q());Bc.inherits=Z();var Wc=po(),co=uo();Bc.inherits(Ue,Wc);for(fo=V_(co.prototype),xn=0;xn<fo.length;xn++)Cn=fo[xn],Ue.prototype[Cn]||(Ue.prototype[Cn]=co.prototype[Cn]);var fo,Cn,xn;function Ue(e){if(!(this instanceof Ue))return new Ue(e);Wc.call(this,e),co.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Y_)}Object.defineProperty(Ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y_(){this.allowHalfOpen||this._writableState.ended||qc.nextTick(z_,this)}function z_(e){e.end()}Object.defineProperty(Ue.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Ue.prototype._destroy=function(e,t){this.push(null),this.end(),qc.nextTick(t,e)}});var go=x(Fc=>{"use strict";a();s();var mo=wr().Buffer,jc=mo.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function J_(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function X_(e){var t=J_(e);if(typeof t!="string"&&(mo.isEncoding===jc||!jc(e)))throw new Error("Unknown encoding: "+e);return t||e}Fc.StringDecoder=vr;function vr(e){this.encoding=X_(e);var t;switch(this.encoding){case"utf16le":this.text=nb,this.end=ib,t=4;break;case"utf8":this.fillLast=eb,t=4;break;case"base64":this.text=ob,this.end=ab,t=3;break;default:this.write=sb,this.end=lb;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=mo.allocUnsafe(t)}vr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};vr.prototype.end=rb;vr.prototype.text=tb;vr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function ho(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Z_(e,t,r){var n=t.length-1;if(n<r)return 0;var i=ho(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=ho(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=ho(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Q_(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function eb(e){var t=this.lastTotal-this.lastNeed,r=Q_(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function tb(e,t){var r=Z_(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function rb(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function nb(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function ib(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function ob(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function ab(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function sb(e){return e.toString(this.encoding)}function lb(e){return e&&e.length?this.write(e):""}});var po=x((DT,ep)=>{"use strict";a();s();var qt=Ge();ep.exports=j;var ub=bc(),Sr;j.ReadableState=zc;var IT=dt().EventEmitter,$c=function(e,t){return e.listeners(t).length},vo=io(),Er=wr().Buffer,fb=globalThis.Uint8Array||function(){};function db(e){return Er.from(e)}function cb(e){return Er.isBuffer(e)||e instanceof fb}var Vc=Object.create(Q());Vc.inherits=Z();var wo=ct(),N=void 0;wo&&wo.debuglog?N=wo.debuglog("stream"):N=function(){};var pb=xc(),Yc=so(),Lt;Vc.inherits(j,vo);var yo=["error","close","destroy","pause","resume"];function hb(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):ub(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function zc(e,t){Sr=Sr||ut(),e=e||{};var r=t instanceof Sr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new pb,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Lt||(Lt=go().StringDecoder),this.decoder=new Lt(e.encoding),this.encoding=e.encoding)}function j(e){if(Sr=Sr||ut(),!(this instanceof j))return new j(e);this._readableState=new zc(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),vo.call(this)}Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});j.prototype.destroy=Yc.destroy;j.prototype._undestroy=Yc.undestroy;j.prototype._destroy=function(e,t){this.push(null),t(e)};j.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Er.from(e,t),t=""),n=!0),Jc(this,e,t,!1,n)};j.prototype.unshift=function(e){return Jc(this,e,null,!0,!1)};function Jc(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,yb(e,o);else{var l;i||(l=mb(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Er.prototype&&(t=db(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_o(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?_o(e,o,t,!1):Xc(e,o)):_o(e,o,t,!1))):n||(o.reading=!1)}return gb(o)}function _o(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Pn(e)),Xc(e,t)}function mb(e,t){var r;return!cb(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function gb(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}j.prototype.isPaused=function(){return this._readableState.flowing===!1};j.prototype.setEncoding=function(e){return Lt||(Lt=go().StringDecoder),this._readableState.decoder=new Lt(e),this._readableState.encoding=e,this};var Hc=8388608;function wb(e){return e>=Hc?e=Hc:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Kc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=wb(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}j.prototype.read=function(e){N("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return N("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?bo(this):Pn(this),null;if(e=Kc(e,t),e===0&&t.ended)return t.length===0&&bo(this),null;var n=t.needReadable;N("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,N("length less than watermark",n)),t.ended||t.reading?(n=!1,N("reading or ended",n)):n&&(N("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Kc(r,t)));var i;return e>0?i=Zc(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&bo(this)),i!==null&&this.emit("data",i),i};function yb(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Pn(e)}}function Pn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(N("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?qt.nextTick(Gc,e):Gc(e))}function Gc(e){N("emit readable"),e.emit("readable"),So(e)}function Xc(e,t){t.readingMore||(t.readingMore=!0,qt.nextTick(_b,e,t))}function _b(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(N("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}j.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};j.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,N("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?qt.nextTick(o):r.once("end",o),e.on("unpipe",l);function l(_,v){N("onunpipe"),_===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,b())}function u(){N("onend"),e.end()}var d=bb(r);e.on("drain",d);var h=!1;function b(){N("cleanup"),e.removeListener("close",C),e.removeListener("finish",c),e.removeListener("drain",d),e.removeListener("error",E),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",A),h=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var T=!1;r.on("data",A);function A(_){N("ondata"),T=!1;var v=e.write(_);v===!1&&!T&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Qc(n.pipes,e)!==-1)&&!h&&(N("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,T=!0),r.pause())}function E(_){N("onerror",_),y(),e.removeListener("error",E),$c(e,"error")===0&&e.emit("error",_)}hb(e,"error",E);function C(){e.removeListener("finish",c),y()}e.once("close",C);function c(){N("onfinish"),e.removeListener("close",C),y()}e.once("finish",c);function y(){N("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(N("pipe resume"),r.resume()),e};function bb(e){return function(){var t=e._readableState;N("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&$c(e,"data")&&(t.flowing=!0,So(e))}}j.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Qc(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};j.prototype.on=function(e,t){var r=vo.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Pn(this):qt.nextTick(vb,this))}return r};j.prototype.addListener=j.prototype.on;function vb(e){N("readable nexttick read 0"),e.read(0)}j.prototype.resume=function(){var e=this._readableState;return e.flowing||(N("resume"),e.flowing=!0,Sb(this,e)),this};function Sb(e,t){t.resumeScheduled||(t.resumeScheduled=!0,qt.nextTick(Eb,e,t))}function Eb(e,t){t.reading||(N("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),So(e),t.flowing&&!t.reading&&e.read(0)}j.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function So(e){var t=e._readableState;for(N("flow",t.flowing);t.flowing&&e.read()!==null;);}j.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(N("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(N("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var u=t.push(l);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<yo.length;o++)e.on(yo[o],this.emit.bind(this,yo[o]));return this._read=function(l){N("wrapped _read",l),n&&(n=!1,e.resume())},this};Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});j._fromList=Zc;function Zc(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Tb(e,t.buffer,t.decoder),r}function Tb(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?xb(e,t):Cb(e,t),n}function xb(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function Cb(e,t){var r=Er.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function bo(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,qt.nextTick(Pb,t,e))}function Pb(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Qc(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Eo=x((qT,np)=>{"use strict";a();s();np.exports=je;var On=ut(),rp=Object.create(Q());rp.inherits=Z();rp.inherits(je,On);function Ob(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function je(e){if(!(this instanceof je))return new je(e);On.call(this,e),this._transformState={afterTransform:Ob.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Ab)}function Ab(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){tp(e,t,r)}):tp(this,null,null)}je.prototype.push=function(e,t){return this._transformState.needTransform=!1,On.prototype.push.call(this,e,t)};je.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};je.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};je.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};je.prototype._destroy=function(e,t){var r=this;On.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function tp(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var sp=x((UT,ap)=>{"use strict";a();s();ap.exports=Tr;var ip=Eo(),op=Object.create(Q());op.inherits=Z();op.inherits(Tr,ip);function Tr(e){if(!(this instanceof Tr))return new Tr(e);ip.call(this,e)}Tr.prototype._transform=function(e,t,r){r(null,e)}});var up=x((Ae,lp)=>{a();s();Ae=lp.exports=po();Ae.Stream=Ae;Ae.Readable=Ae;Ae.Writable=uo();Ae.Duplex=ut();Ae.Transform=Eo();Ae.PassThrough=sp()});var dp=x((GT,Co)=>{a();s();var fp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);fp?(To=new Uint8Array(16),Co.exports=function(){return fp(To),To}):(xo=new Array(16),Co.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),xo[t]=r>>>((t&3)<<3)&255;return xo});var To,xo});var hp=x((YT,pp)=>{a();s();var cp=[];for(xr=0;xr<256;++xr)cp[xr]=(xr+256).toString(16).substr(1);var xr;function Rb(e,t){var r=t||0,n=cp;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}pp.exports=Rb});var gp=x((XT,mp)=>{a();s();var Mb=dp(),kb=hp();function Ib(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||Mb)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||kb(i)}mp.exports=Ib});var _p=x((ex,yp)=>{a();s();var wp=up().Duplex,Db=ct().inherits,Nb=gp();yp.exports=Xe;Db(Xe,wp);function Xe(){wp.call(this,{objectMode:!0}),this._payloads={}}Xe.prototype.send=function(e){throw new Error('StreamProvider - does not support synchronous RPC calls. called: "'+e.method+'"')};Xe.prototype.sendAsync=function(e,t){let r=e.id,n=Nb();if(e.id=n,Array.isArray(e)&&e.length===0)return t(null,[]);this._payloads[n]=[t,r],this.push(e)};Xe.prototype.isConnected=function(){return!0};Xe.prototype._onResponse=function(e){let t=e.id,r=this._payloads[t];if(!r)throw new Error(`StreamProvider - Unknown response id for response: ${e}`);delete this._payloads[t];let n=r[0];e.id=r[1],setTimeout(function(){n(null,e)})};Xe.prototype._read=Lb;Xe.prototype._write=function(e,t,r){this._onResponse(e),r()};function Lb(){}});a();s();a();s();Ft();globalThis.setupSentry=async()=>await Ta();globalThis.setupSentry();globalThis.sentry=he;globalThis.Sentry=he;a();s();(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";function e(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}function t(c,y){for(var _=0;_<y.length;_++){var v=y[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}function r(c,y,_){return y&&t(c.prototype,y),_&&t(c,_),c}function n(c,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),y&&o(c,y)}function i(c){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},i(c)}function o(c,y){return o=Object.setPrototypeOf||function(v,M){return v.__proto__=M,v},o(c,y)}function l(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function u(c,y){return y&&(typeof y=="object"||typeof y=="function")?y:l(c)}function d(c,y){for(;!Object.prototype.hasOwnProperty.call(c,y)&&(c=i(c),c!==null););return c}function h(c,y,_){return typeof Reflect<"u"&&Reflect.get?h=Reflect.get:h=function(M,L,g){var O=d(M,L);if(!!O){var P=Object.getOwnPropertyDescriptor(O,L);return P.get?P.get.call(g):P.value}},h(c,y,_||c)}var b=function(){function c(){e(this,c),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(c,[{key:"addEventListener",value:function(_,v){_ in this.listeners||(this.listeners[_]=[]),this.listeners[_].push(v)}},{key:"removeEventListener",value:function(_,v){if(_ in this.listeners){for(var M=this.listeners[_],L=0,g=M.length;L<g;L++)if(M[L]===v){M.splice(L,1);return}}}},{key:"dispatchEvent",value:function(_){var v=this;if(_.type in this.listeners){for(var M=function(B){setTimeout(function(){return B.call(v,_)})},L=this.listeners[_.type],g=0,O=L.length;g<O;g++)M(L[g]);return!_.defaultPrevented}}}]),c}(),T=function(c){n(y,c);function y(){var _;return e(this,y),_=u(this,i(y).call(this)),_.listeners||b.call(l(_)),Object.defineProperty(l(_),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(_),"onabort",{value:null,writable:!0,configurable:!0}),_}return r(y,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(v){v.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,v)),h(i(y.prototype),"dispatchEvent",this).call(this,v)}}]),y}(b),A=function(){function c(){e(this,c),Object.defineProperty(this,"signal",{value:new T,writable:!0,configurable:!0})}return r(c,[{key:"abort",value:function(){var _;try{_=new Event("abort")}catch{typeof document<"u"?document.createEvent?(_=document.createEvent("Event"),_.initEvent("abort",!1,!1)):(_=document.createEventObject(),_.type="abort"):_={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(_)}},{key:"toString",value:function(){return"[object AbortController]"}}]),c}();typeof Symbol<"u"&&Symbol.toStringTag&&(A.prototype[Symbol.toStringTag]="AbortController",T.prototype[Symbol.toStringTag]="AbortSignal");function E(c){return c.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof c.Request=="function"&&!c.Request.prototype.hasOwnProperty("signal")||!c.AbortController}function C(c){typeof c=="function"&&(c={fetch:c});var y=c,_=y.fetch,v=y.Request,M=v===void 0?_.Request:v,L=y.AbortController,g=y.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,O=g===void 0?!1:g;if(!E({fetch:_,Request:M,AbortController:L,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:O}))return{fetch:_,Request:P};var P=M;(P&&!P.prototype.hasOwnProperty("signal")||O)&&(P=function(ue,H){var pe;H&&H.signal&&(pe=H.signal,delete H.signal);var He=new M(ue,H);return pe&&Object.defineProperty(He,"signal",{writable:!1,enumerable:!1,configurable:!0,value:pe}),He},P.prototype=M.prototype);var B=_,ee=function(ue,H){var pe=P&&P.prototype.isPrototypeOf(ue)?ue.signal:H?H.signal:void 0;if(pe){var He;try{He=new DOMException("Aborted","AbortError")}catch{He=new Error("Aborted"),He.name="AbortError"}if(pe.aborted)return Promise.reject(He);var xg=new Promise(function(Cg,Pg){pe.addEventListener("abort",function(){return Pg(He)},{once:!0})});return H&&H.signal&&delete H.signal,Promise.race([xg,B(ue,H)])}return B(ue,H)};return{fetch:ee,Request:P}}(function(c){if(!!E(c)){if(!c.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var y=C(c),_=y.fetch,v=y.Request;c.fetch=_,c.Request=v,Object.defineProperty(c,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:A}),Object.defineProperty(c,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:T})}})(typeof self<"u"?self:globalThis)});a();s();var zf=m(pt()),Jf=m(Yf());var ir=class extends Jf.Duplex{constructor(r){super({objectMode:!0});Ke(this,"onMessage",r=>{if(f.Buffer.isBuffer(r)){let n=f.Buffer.from(r);this.push(n)}else this.push(r)});Ke(this,"onDisconnect",()=>{let{lastError:r}=zf.default.runtime;r&&typeof this.opts.port=="function"?this.init():this.destroy()});this.opts={port:r},this.init()}init(){this.removePortListener(),this.port=typeof this.opts.port=="function"?this.opts.port():this.opts.port,this.port.onMessage.addListener(this.onMessage),this.port.onDisconnect.addListener(this.onDisconnect)}removePortListener(){this.port&&(this.port.onMessage.removeListener(this.onMessage),this.port.onDisconnect.removeListener(this.onDisconnect))}_read(){}_write(r,n,i){try{if(f.Buffer.isBuffer(r)){let o=r.toJSON();o._isBuffer=!0,this.port.postMessage(o)}else this.port.postMessage(r)}catch{return i(new Error("PortDuplexStream - disconnected"))}return i()}};a();s();var dd=m(fd()),cd=m(Ag());var Di=class{constructor(t){this.connectionStream=t,this.notificationChannel=new cd.default,this.requests=new Map,this.connectionStream.on("data",this.handleResponse.bind(this)),this.connectionStream.on("end",this.close.bind(this))}onNotification(t){this.notificationChannel.addListener("notification",r=>{t(r)})}close(){this.notificationChannel.removeAllListeners()}handleResponse(t){let{id:r,result:n,error:i,method:o,params:l}=t,u=this.requests.get(r);if(!(o&&l&&r)){if(o&&l&&!r){this.notificationChannel.emit("notification",t);return}if(!!u){if(i){let d=new dd.EthereumRpcError(i.code,i.message,i.data);d.stack=i.stack,this.requests.delete(r),u(d);return}this.requests.delete(r),typeof u=="function"&&u(null,n)}}}},ry=e=>{let t=new Di(e);return new Proxy(t,{get:(r,n)=>r[n]?r[n]:(...i)=>{let o=i[i.length-1],l=i.slice(0,-1),u=xa();r.requests.set(u,o),r.connectionStream.write({jsonrpc:"2.0",method:n,params:l,id:u})}})},pd=ry;a();s();var mc=m(dc()),gc=m(hc()),E_=()=>{};function wc(e){let t=new mc.default;return(0,gc.default)(e,t,e,r=>{r&&E_(r)}),t}Wr();a();s();a();s();var G=m(pt());mt();Wr();var gr=class{reload(){G.default.runtime.reload()}openTab(t){return new Promise((r,n)=>{G.default.tabs.create(t).then(i=>{let o=me();return o?n(o):r(i)}).catch(i=>{n(i)})})}openWindow(t){return new Promise((r,n)=>{G.default.windows.create(t).then(i=>{let o=me();return o?n(o):(this.lastOkPopupId=i.id,r(i))}).catch(i=>{n(i)})})}closeWindow(t){return new Promise((r,n)=>{G.default.windows.remove(t).then(()=>{let i=me();return i?n(i):r()}).catch(i=>{n(i)})})}focusLastOkPopup(){this.lastOkPopupId&&this.getAllWindows().then(t=>{t.some(r=>r.id===this.lastOkPopupId)?this.focusWindow(this.lastOkPopupId):this.lastOkPopupId=""}).catch(()=>{})}async focusCurrentWindow(){let r=(await this.currentTab())?.windowId;await this.focusWindow(r)}focusWindow(t){return new Promise((r,n)=>{G.default.windows.update(t,{focused:!0}).then(()=>{let i=me();return i?n(i):r()}).catch(i=>{n(i)})})}updateWindowPosition(t,r,n){return new Promise((i,o)=>{G.default.windows.update(t,{left:r,top:n}).then(()=>{let l=me();return l?o(l):i()}).catch(l=>{o(l)})})}getLastFocusedWindow(t){return new Promise((r,n)=>{G.default.windows.getLastFocused(t).then(i=>{let o=me();return o?n(o):r(i)}).catch(i=>{n(i)})})}closeCurrentWindow(){return G.default?.windows?.getCurrent?G.default.windows.getCurrent().then(t=>G.default.windows.remove(t.id)):Promise.resolve()}getVersion(){return G.default.runtime.getManifest().version}openExtensionInBrowser(t=null,r=null){let n=G.default.runtime.getURL("/home.html");r&&(n+=`?${r}`),t&&(n+=`#${t}`),this.openTab({url:n}),Me()!==Jn&&window.close()}async openExtensionInPopup(t=null,r=null,n=!0){let i=G.default.runtime.getURL("/notification.html");r&&(i+=`?${r}`),t&&(i+=`#${t}`);let o=0,l=0;try{let d=await this.getLastFocusedWindow();l=d.top,o=Math.max(d.left+(d.width-360),0)}catch{let{screenX:h,screenY:b,outerWidth:T}=window;l=Math.max(b,0),o=Math.max(h+(T-360),0)}let u=await Ca();this.openWindow({url:i,type:"popup",width:u?.width||360,height:700,top:l,left:o}),Me()!==Jn&&n&&window.close()}getPlatformInfo(){return new Promise((t,r)=>{try{G.default.runtime.getPlatformInfo().then(n=>{t(n)}).catch(n=>{r(n)})}catch(n){r(n)}})}getAllWindows(){return new Promise((t,r)=>{G.default.windows.getAll().then(n=>{let i=me();return i?r(i):t(n)}).catch(n=>{r(n)})})}getActiveTabs(){return new Promise((t,r)=>{G.default.tabs.query({active:!0}).then(n=>{let i=me();return i?r(i):t(n)}).catch(n=>{r(n)})})}currentTab(){return new Promise((t,r)=>{G.default.tabs.getCurrent().then(n=>{let i=me();i?r(i):t(n)}).catch(n=>{r(n)})})}closeTab(t){return new Promise((r,n)=>{G.default.tabs.remove(t).then(()=>{let i=me();i?n(i):r()}).catch(i=>{n(i)})})}getCpuInfoName(){return new Promise((t,r)=>{try{G.default.system.cpu.getInfo(n=>{t(n.modelName)})}catch(n){r(n)}})}setPanelBehavior(t){return new Promise((r,n)=>{try{chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:t}),r()}catch(i){n(i)}})}setSidepanelPath(t){return new Promise((r,n)=>{t?chrome.sidePanel.setOptions({path:t},()=>{r()}):n()})}openSidepanelWithWindowId(t){return new Promise((r,n)=>{t?chrome.sidePanel.open({windowId:t},()=>{r()}):n()})}async openSidepanel(t){let n=(await this.getLastFocusedWindow())?.id;t&&await this.setSidepanelPath(`sidepanel.html#${t}`),await this.openSidepanelWithWindowId(n),t&&await this.setSidepanelPath("sidepanel.html")}};var yc=gr;mt();var Sg=m(Pa()),Eg=m(_p()),sa=m(pt());a();s();a();s();var _g=m(k());ht();var bg=m(Pa()),vg=m(Mg()),Gn=m(pt());Ee();a();s();var bp="SET_ACTIVE_TAB";function Po(e={},t){let r={...e};switch(t.type){case bp:return t.value;default:return r}}function vp(e){return{type:bp,value:e}}a();s();ht();Yn();var Sp=async()=>{try{let{authMap:e}=await $e.get("authMap"),{data:t}=await $e.get("data"),r=la(t,"TransactionController.transactions");return{authMap:e,evmTransactions:r}}catch{return{}}};fs();a();s();var Rn=m(Xa());Ig();a();s();ri();Vt();Ft();a();s();function An(e){return typeof e=="string"?e:typeof e>"u"?"Undefined error":e instanceof DOMException?`Error Name: ${e.name}, Message: ${e.message}, Code: ${e.code}`:`Error Object: ${JSON.stringify(e,["message","arguments","type","name"])}`}var qb=wt({name:"balanceSlice",initialState:{balanceMap:{}},reducers:{setBalance:(e,t)=>{e.balanceMap=t.payload}}}),{actions:Bb,reducer:Wb}=qb;function Ep(e){he.captureEvent({message:"STORE_WARN_indexeddb_error",exception:{values:[{type:"STORE_WARN_indexeddb_error",value:e}]},level:"error"})}var Tp=()=>async e=>{(await _t.balance).liveQuery().subscribe((r,n)=>{if(n)Ep(`subscribe balance error, ${An(n)}`),ke().fallbackBalancesData();else{if(!r||r.filter?.(o=>!o).length>0){Ep(`subscribe balance null, ${JSON.stringify(r)}`),ke().fallbackBalancesData();return}let i=r.reduce((o,l)=>(o[l.walletId]=l,o),{});e(Bb.setBalance(i))}})},xp=Wb;a();s();ri();Vt();Ft();var Ub=wt({name:"coins",initialState:{coinsMap:{},ready:!1},reducers:{updateCoinsMap(e,t){e.coinsMap=t.payload,e.ready=!0}}}),{actions:jb,reducer:Fb}=Ub,{updateCoinsMap:Hb}=jb;var Cp=()=>async e=>{(await _t.common_coins).liveQuery().subscribe(async(r,n)=>{if(n)he.captureEvent({message:"STORE_WARN_indexeddb_error",exception:{values:[{type:"STORE_WARN_indexeddb_error",value:`subscribe coins error, ${An(n)}`}]},level:"error"}),ke().fallbackAllCoinsMap();else{r.sort((o,l)=>o.rank-l.rank);let i=r.reduce((o,l)=>(o[String(l.coinId)]=l,o),{});e(Hb(i))}})},Pp=Fb;a();s();var Dp=m(Xa());a();s();kg();function Oo(e={},t){let r={shouldClose:!1,modal:{open:!1,modalState:{name:null,props:{}},previousModalState:{name:null}},sidebar:{transitionName:"",type:"",props:{}},accountDetail:{subview:"transactions"},isLoading:!1,warning:null,requestAccountTabs:{},currentWindowTab:{},showSupportedChainsFlag:!1,...e};switch(t.type){case La:return{...r,forgottenPassword:t.value};case Wa:return{...r,warning:null};case Fa:return{...r,isLoading:!1,warning:null,scrollToBottom:!1,forgottenPassword:!1};case Ha:return{...r,txId:t.id,warning:null,isLoading:!1};case Ka:return t.value.unconfirmedActionsCount>0?{...r,txId:null,warning:null}:{...r,shouldClose:!0,warning:null,txId:null,accountDetail:{subview:"transactions"}};case Ga:return{...r};case qa:return{...r,warning:t.value||"Incorrect password. Try again."};case Ba:return{...r,warning:""};case $a:return{...r,isLoading:!0,loadingMessage:t.value};case Va:return{...r,isLoading:!1};case Ua:return{...r,warning:t.value,isLoading:!1};case ja:return{...r,warning:void 0};case Ya:return{...r,requestAccountTabs:t.value};case za:return{...r,currentWindowTab:t.value};case Ja:return{...r,showSupportedChainsFlag:t.value};default:return r}}a();s();ri();var Kb={mostRecentOverviewPage:fe},Gb="history",$b=wt({name:Gb,initialState:Kb,reducers:{pageChanged:(e,t)=>{let r=t.payload;(r===fe||r.startsWith($r))&&(e.mostRecentOverviewPage=r)}}}),{actions:Vb,reducer:Yb}=$b,Op=Yb;var{pageChanged:Ap}=Vb;a();s();a();s();var Rp={[fu]:du};a();s();var Mp={[cu]:pu,[hu]:mu,[gu]:wu,[yu]:_u};var kp={...Rp,...Mp};a();s();var zb="metamask/send/OPEN_TO_DROPDOWN",Jb="metamask/send/CLOSE_TO_DROPDOWN",Xb="metamask/send/UPDATE_SEND_ERRORS",Zb="metamask/send/RESET_SEND_STATE",Qb="metamask/send/SHOW_GAS_BUTTON_GROUP",ev="metamask/send/HIDE_GAS_BUTTON_GROUP",Ip={toDropdownOpen:!1,gasButtonGroupShown:!0,errors:{}};function Ao(e=Ip,t){switch(t.type){case zb:return{...e,toDropdownOpen:!0};case Jb:return{...e,toDropdownOpen:!1};case Xb:return{...e,errors:{...e.errors,...t.value}};case Qb:return{...e,gasButtonGroupShown:!0};case ev:return{...e,gasButtonGroupShown:!1};case Zb:return{...Ip};default:return e}}a();s();Dg();var Np=(0,Dp.combineReducers)({activeTab:Po,metamask:Jl,appState:Oo,history:Op,send:Ao,nftSend:uu,newDapp:Ps,localeMessages:Gl,importAccount:Kl,coinDetail:Ts,txHistory:bu,balanceSlice:xp,currencySlice:Cs,networksSlice:ws,providerSlice:Zl,coins:Pp,assetsSlice:hs,Nft:lu,addressBookState:_s,batchTransfer:Ss,batchAddAccount:bs,batchImportPrivateKey:vs,bulkRename:Es,commonSend:oi,walletConfig:ou,businessSend:ai,...kp,activityBanners:ys,keyring:Qa});function Ro(e){return(0,Rn.createStore)(Np,e,(0,Rn.applyMiddleware)(Za))}var Lp=()=>e=>{e(gs()),e(Xl()),e(Cp()),e(Tp()),e(ps())};a();s();if((process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"||process.env.ASSETS_BUILD_TYPE==="prepub")&&localStorage.getItem("speedUp")){let t=window.setInterval;window.setInterval=function(r,n,...i){let o=n>=1e3?n/100:n;return t(r,o,...i)}}a();s();Wr();mt();a();s();var Bt=window.history,tv=Bt.pushState,rv=Bt.replaceState,Mo=new Event("locationChange");Bt.pushState=(...e)=>{let t=tv.apply(Bt,e);return window.dispatchEvent(Mo),t};Bt.replaceState=(...e)=>{let t=rv.apply(Bt,e);return window.dispatchEvent(Mo),t};window.addEventListener("popstate",()=>{window.dispatchEvent(Mo)});function ko(e=""){return e.replace(/^#/,"")}function qp(e){window.addEventListener("locationChange",()=>{e(ko(window.location.hash))})}a();s();var nv=[/^(\/wallet-add\/import-with-seed-phrase-and-private-key)/,/^(\/batch-import-private-key\/edit)/,/^(\/wallet\/mnemonic\/backup)/,/^(\/wallet\/mnemonic-privateKey)/,/^(\/wallet\/account\/privateKey)/,/^(\/reset-password)/];function Mn(e,t=nv){for(let n=0;n<t.length;n++){let i=t[n];if(typeof i=="string"&&e.endsWith(i)||typeof i!="string"&&i.test(e))return!0}return!1}function iv(){let e=Me();return e===ma?1:e===ga?2:e===qr?3:0}var Wp=iv(),Io="lastPageDetentionTimeParams",Up=vu(),Ze,Fe,Do="";async function ov(){let e=window.localStorage.getItem(Io);if(window.localStorage.removeItem(Io),e)try{await si(JSON.parse(e))}catch{console.log("Failed to report last page detention time")}let t=window.location.hash;t&&t!==fe&&(Ze=new Date,Fe=ko(t))}function Bp(){if(!Ze||!Fe||!Mn(Fe))return;let e=new Date,t={s:Up,u:Fe,r:Do,d:e.getTime()-Ze.getTime(),p:Wp,e:Ze.toLocaleString(),l:e.toLocaleString()};window.localStorage.setItem(Io,JSON.stringify(t))}function av(e){if(e===fe)return;let t=new Date;Fe&&Ze&&Mn(Fe)&&si({s:Up,u:Fe,r:Do,d:t.getTime()-Ze.getTime(),p:Wp,e:Ze.toLocaleString(),l:t.toLocaleString()}),Ze=t,Do=Fe||"",Fe=e}qp(av),ov(),window.addEventListener("beforeunload",Bp),window.onblur=Bp;a();s();var le=m(k()),ia=m(we()),hg=m(ye()),mg=m(Kt());Ee();Ft();a();s();var ve=m(k()),kn=m(we()),Fp=m(Kt());Ee();zn();var No={fetchConfig:{project:"okx_extension_wallet",site:"okx"}};var Lo=0,lv=1,qo=null;function Hp(){return e=>(No.fetchConfig.locale=e.locale,ve.default.createElement(ha,{localeData:e.localeData,isDev:!0,noRemoteData:!0,fetchConfig:No.fetchConfig},e.children))}var uv=Hp(),fv=Hp(),dv=process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY,jp=(0,ve.createContext)(e=>`[${e}]`),Cr=e=>{let t=window.localStorage.getItem("languageKeyMode"),r=dv&&t==="multilingualMode",n=(0,kn.useSelector)(zr),i=Yl(n),o=(0,kn.useSelector)($l),l=(0,kn.useSelector)(Vl),u=(0,ve.useMemo)(()=>(zl(n,window),qo=qo===Lo?lv:Lo,Object.keys(o).reduce((d,h)=>{let b=o[h].message;return d[h]=r?`${b}${b}${b}`:b,d},{})),[i,o,r]);return(0,ve.useMemo)(()=>{Gt.setConfig({frozenScroll:!1,localeProviderProps:{fetchConfig:{noFetch:!0},isDev:!0,localeData:l}})},[n]),qo===Lo?ve.default.createElement(uv,{localeData:u,locale:i},ve.default.createElement(jp.Provider,{value:Y},e.children)):ve.default.createElement(fv,{localeData:u,locale:i},ve.default.createElement(jp.Provider,{value:Y},e.children))};Cr.propTypes={children:Fp.default.node};Cr.defaultProps={children:void 0};a();s();a();s();var z=m(k());var Kp=m(Oa()),Bo=m(Kt()),Gp=m(pt());Ee();Qn();Wr();mt();ni();Fr();Vt();var Pr=class extends z.PureComponent{constructor(){super(...arguments);Ke(this,"state",{downloadUrl:!1})}renderErrorDetail(r){return z.default.createElement("li",null,z.default.createElement("p",null,r))}renderErrorStack(r,n){return z.default.createElement("li",null,z.default.createElement("span",null,r),z.default.createElement("pre",{className:"error-page__stack"},n))}componentDidMount(){jr(yt.getExtensionVersion).then(({data:r})=>{let n=Ve(),i=Gp.default.runtime.getManifest().version;if(n===wa&&r.edge!==i){this.setState({downloadUrl:"https://microsoftedge.microsoft.com/addons/detail/pbpjkcldjiffchgbbndmhojiacbgflha"});return}r.chrome!==i&&this.setState({downloadUrl:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge?hl=zh-CN"})}).catch(r=>{console.log(r)})}render(){let{error:r}=this.props,{downloadUrl:n}=this.state,o=Me()===Lr?R("wallet_home_subtitle_errortip_error_popup_message"):R("wallet_home_subtitle_errortip_errorpage_message"),l=Ur(),u=xe.State.getImgMap(l),d=`${Jr()}${u[xe.State.TYPE.systemError]}`;return z.default.createElement("div",{className:"error-page"},z.default.createElement("div",{className:"error-page__header"},R("wallet_home_maintitle_errortip_error_page_title"),window.location.hash&&z.default.createElement(oe,{className:"okx-wallet-plugin-close error-page__right",onClick:async()=>{await ke().clearDappData(),window.location.href=window.location.pathname}})),z.default.createElement("div",{className:"error-page__details"},z.default.createElement(xe.State,{type:xe.State.TYPE.systemError,title:n?R("extension_wallet_mid_text_update_latest_version"):o,imgSrc:d,renderButton:()=>z.default.createElement(Te,{category:Te.CATEGORY.fill,type:Te.TYPE.primary,size:Te.SIZE.s,onClick:()=>{globalThis.platform.openTab({url:n})}},R("extension_wallet_mid_btn_goto_store")," ")}),z.default.createElement(Aa,{className:"error-page__accordion",titleClass:"error-page__accordion-title",customHeaderIcon:h=>z.default.createElement(oe,{icon:"okds-arrow-chevron-down-md",size:oe.SIZE.xs,className:(0,Kp.default)("error-page__icon",{"okui-accordion-header-icon-expanded":h})}),title:R("wallet_home_subtitle_errortip_errordetail"),onToggle:h=>{this.setState({expand:h})}}),this.state.expand?z.default.createElement("ul",{className:"error-page__list"},r.message?this.renderErrorDetail(R("wallet_home_subtitle_errortip_errormessage",{errorMessage:r.message})):null,r.code?this.renderErrorDetail(R("wallet_home_subtitle_errortip_errorcode",{errorCode:r.code})):null,r.name?this.renderErrorDetail(R("wallet_home_subtitle_errortip_errorname",{errorName:r.name})):null,r.stack?this.renderErrorStack(R("wallet_home_subtitle_errortip_error_stack"),r.stack):null):null))}};Pr.contextTypes={t:Bo.default.func.isRequired};Pr.propTypes={error:Bo.default.object.isRequired};var Wo=Pr;a();s();var ft=m(k()),tt=m(we()),ug=m(ye()),fg=m(Xr()),dg=m(Oa());ht();Ee();a();s();a();s();var Uo=()=>{};a();s();var cv=document.documentElement,pv={en:"en",zh_CN:"zh-hans",zh_TW:"zh-hant",fr:"fr",ru:"ru",vi:"vi",id:"id",tr:"tr",de:"de",it:"it",pl:"pl",en_IN:"en-in",pt_BR:"pt",pt_PT:"pt-pt",es:"es-es",es_419:"es",cs:"cs",ro:"ro",uk:"uk",ar_EH:"ar"},hv=e=>{cv.setAttribute("lang",pv[e])},$p=hv;a();s();a();s();var Vp=m(k()),Yp=m(ye());ht();Qn();mt();var mv=()=>{let e=(0,Yp.useHistory)();(0,Vp.useEffect)(()=>{if(Ve()!==Br)return Se;if(!rt.isSupported())return Se;let r=()=>{e.push(Vr)};return rt.mount(),rt.onClick(r),rt.show(),()=>{rt.hide(),rt.offClick(r)}},[e])},zp=mv;a();s();var Xp=m(k());ht();Qn();mt();var Jp=e=>{let t=e?"#000000":"#ffffff";St.setBackgroundColor.isSupported()&&St.setBackgroundColor(t),St.setHeaderColor.isSupported()&&St.setHeaderColor(t)},gv=()=>{let e=Tu(St.isDark);(0,Xp.useEffect)(()=>Ve()!==Br?Se:(Eu("theme_changed",()=>{Jp(e)}),Jp(e),Se),[e])},Zp=gv;function jo(){zp(),Zp()}ni();zn();Fr();a();s();var q=m(k()),Dn=m(Xr());a();s();a();s();var Qp=e=>de("allowShowComponent",{..._e,componentName:e,location:window.location.href})?.data;var Fo=m(k()),In=({children:e,componentName:t})=>Qp(t)?Fo.default.createElement(Fo.default.Fragment,null,e):null;Yn();var ae=m(Ng());a();s();var Ho={"wallet-helper":"_wallet-helper_4h5lm_1",walletHelper:"_wallet-helper_4h5lm_1","wallet-helper-enter":"_wallet-helper-enter_4h5lm_11",walletHelperEnter:"_wallet-helper-enter_4h5lm_11"};var wv=[{label:ae.default.development_environment,value:"http://forked-test2-cat20.defi.swim.env"},{label:ae.default.pre_environment,value:"https://beta.okex.org"},{label:ae.default.prod_environment,value:"https://wallet.okex.org"}],yv=[{label:ae.default.normalMode,value:"normalMode"},{label:ae.default.keyMode,value:"keyMode"},{label:ae.default.multilingualMode,value:"multilingualMode"}],_v=()=>{let{width:e}=(0,Dn.useSize)(document.querySelector("body")),[t,r]=(0,q.useState)("https://beta.okex.org");(0,q.useEffect)(()=>{(async()=>{let{envApiDomain:E}=await $e.get("envApiDomain");E&&r(E)})()},[]);let n=()=>{window.location.reload()},i=window.localStorage,o=i.getItem("languageKeyMode")||"normalMode",l=(0,q.useCallback)(E=>{E==="normalMode"?(i.removeItem("languageKeyMode"),gt(!1)):E==="keyMode"?(i.setItem("languageKeyMode",E),gt(!0)):(i.setItem("languageKeyMode",E),gt(!1)),n()},[o]),u=(0,Dn.useUpdate)(),d=()=>{let E=xu()===Qr.LIGHT?Qr.DARK:Qr.LIGHT;Cu(E),u()},h=i.getItem("speedUp")||!1,[b,T]=(0,q.useState)(h);(0,q.useEffect)(()=>{T(h)},[h]);let A=(0,q.useCallback)(()=>{h?(i.removeItem("speedUp"),T(!1)):(i.setItem("speedUp",!0),T(!0)),chrome.runtime.reload()},[h]);return q.default.createElement(In,{componentName:"walletHelper"},q.default.createElement(li.Box,{className:Ho["wallet-helper"]},q.default.createElement($t,{description:q.default.createElement(li.Space,{space:"8px"},q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-slow",tooltip:ae.default.select_language_mode,onClick:()=>{ge.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:q.default.createElement(Yt,{dataSource:yv,renderItem:({label:E,value:C})=>q.default.createElement(Yt.Cell,{title:E,onClick:()=>{l(C)}},o===C&&q.default.createElement(ti.Circle,{checked:!0}))})})}}),q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-fast",tooltip:`${ae.default.current_api_environment}${t}`,onClick:()=>{ge.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:q.default.createElement(Yt,{dataSource:wv,renderItem:({label:E,value:C})=>q.default.createElement(Yt.Cell,{title:E,onClick:async()=>{await $e.set({envApiDomain:C}),n()}},t===C&&q.default.createElement(ti.Circle,{checked:!0}))})})}}),q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-swap",tooltip:ae.default.switchRtl,onClick:()=>{let C=document.documentElement.getAttribute("dir");Zr(C==="rtl"?void 0:"rtl")}}),e>360&&q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-switch",tooltip:ae.default.fullscreenMode,onClick:()=>{let E=document.querySelector("#app");["notification","popup"].includes(E.className)?E.className="fullscreen":E.className="popup"}}),q.default.createElement(oe.IconButton,{style:{color:b?"orange":"unset"},icon:"okx-wallet-plugin-coin-quick-withdraw",tooltip:ae.default.accelerateSetInterval,onClick:A}),q.default.createElement(oe.IconButton,{icon:"okx-wallet-plugin-swap-1",tooltip:ae.default.theme,onClick:()=>{d()}})),trigger:$t.TRIGGER.click,placement:document.documentElement.getAttribute("dir")==="rtl"?$t.DIRECTION.topLeft:$t.DIRECTION.topRight,autoHeight:{marginBottom:50},smartMode:!1},q.default.createElement(oe,{bordered:!0,size:oe.SIZE.lg,className:Ho["wallet-helper-enter"],icon:"okx-wallet-plugin-wrenches"}))))},eh=_v;a();s();a();s();var et=m(k());a();s();var Nn=m(k());Xn();a();s();var Ko={noRadius:"_noRadius_e5d59_1",scale:"_scale_e5d59_15"};var th=()=>Nn.default.createElement(In,{componentName:"EnvAlert"},Nn.default.createElement(Ra,{className:Ko.noRadius,type:"warn",showIcon:!1,title:Nn.default.createElement("div",{className:Ko.scale},`${process.env.ASSETS_BUILD_TYPE}-${process.env.COMMIT_HASH}, API: ${va()} WSS: ${Ea()} STATIC: ${Ht()}`),closable:!1}));a();s();var Ln=m(k()),rh=m(Xr()),Or=m(we());var qn=m(ye());function bv(e){return e}var nh=()=>{let e=(0,Or.useSelector)(bv),t=(0,rh.useLatest)(e),r=(0,qn.useHistory)(),n=(0,Or.useSelector)(vt),i=(0,Or.useSelector)(Ye),o=(0,Or.useSelector)(Mu),l=(0,Ln.useRef)(o),d=(0,qn.useLocation)()?.pathname;return(0,Ln.useEffect)(()=>{if(o!==l.current){if(n&&i&&![fe,Kr].includes(d)){let h=t.current,b={isRpcMode:au(h)?.isRpcMode,permissionsRequestId:Au(h),isNotBackup:iu(h),lastOptType:Ru(h)},T=Nu(b);T&&r.replace(T)}l.current=o}},[d,o,n,i]),null};fs();var Hn=m(we());a();s();a();s();var p=m(k());a();s();var ah=m(k()),X=m(Kt()),vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ev=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Tv=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},xv=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t},Go=(typeof window>"u"||typeof window>"u"?"undefined":vv(window))==="object",Cv=Go?document:{},Pv=["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],$o=function(e){function t(r){Sv(this,t);var n=xv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(n.state={idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null},n.tId=null,n._handleEvent=function(i){var o=n.state,l=o.remaining,u=o.pageX,d=o.pageY,h=o.idle,b=n.props,T=b.timeout,A=b.onAction,E=b.debounce,C=b.throttle,c=b.stopOnIdle;if(E>0?n.debouncedAction(i):C>0?n.throttledAction(i):A(i),!l){if(i.type==="mousemove"&&(i.pageX===u&&i.pageY===d||i.pageX===void 0&&i.pageY===void 0||n.getElapsedTime()<200))return;clearTimeout(n.tId),n.tId=null,h&&!c&&n.toggleIdleState(i),n.setState({lastActive:+new Date,pageX:i.pageX,pageY:i.pageY}),h&&c||(n.tId=setTimeout(n.toggleIdleState,T))}},r.debounce>0&&r.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return r.debounce>0&&(n.debouncedAction=ih(r.onAction,r.debounce)),r.throttle>0&&(n.throttledAction=oh(r.onAction,r.throttle)),r.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(n),n.reset=n._reset.bind(n),n.pause=n._pause.bind(n),n.resume=n._resume.bind(n),n.getRemainingTime=n._getRemainingTime.bind(n),n.getElapsedTime=n._getElapsedTime.bind(n),n.getLastActiveTime=n._getLastActiveTime.bind(n),n.isIdle=n._isIdle.bind(n),n}return Tv(t,ah.Component),Ev(t,[{key:"componentWillMount",value:function(){this._bindEvents()}},{key:"componentDidMount",value:function(){this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(r){r.debounce!==this.props.debounce&&(this.debouncedAction=ih(this.props.onAction,this.props.debounce)),r.throttle!==this.props.throttle&&(this.throttledAction=oh(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents()}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var r=this;if(Go){var n=this.state.eventsBound,i=this.props,o=i.element,l=i.events,u=i.passive,d=i.capture;n||(l.forEach(function(h){o.addEventListener(h,r._handleEvent,{capture:d,passive:u})}),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var r=this;if(Go){var n=this.props,i=n.element,o=n.events,l=n.passive,u=n.capture;this.state.eventsBound&&(o.forEach(function(d){i.removeEventListener(d,r._handleEvent,{capture:u,passive:l})}),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(r){var n=this,i=this.state.idle,o=this.props,l=o.onActive,u=o.onIdle,d=o.stopOnIdle;this.setState({idle:!i},function(){i?d||(n._bindEvents(),l(r)):(d&&(clearTimeout(n.tId),n.tId=null,n._unbindEvents()),u(r))})}},{key:"_reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:this.state.oldDate,remaining:null});var r=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,r)}},{key:"_pause",value:function(){this.state.remaining===null&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"_resume",value:function(){var r=this.state,n=r.remaining,i=r.idle;n!==null&&(this._bindEvents(),i||(this.setState({remaining:null}),this.tId=setTimeout(this.toggleIdleState,n)))}},{key:"_getRemainingTime",value:function(){var r=this.state,n=r.remaining,i=r.idle,o=r.lastActive;if(i)return 0;if(n!==null)return n;var l=this.props.timeout-(+new Date-o);return l<0&&(l=0),l}},{key:"_getElapsedTime",value:function(){var r=this.state.oldDate;return+new Date-r}},{key:"_getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}();function ih(e,t){var r=void 0;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];r&&clearTimeout(r),r=setTimeout(function(){e.apply(void 0,i),r=null},t)}}function oh(e,t){var r=0;return function(){var n=new Date().getTime();if(!(n-r<t))return r=n,e.apply(void 0,arguments)}}$o.propTypes={timeout:X.default.number,events:X.default.arrayOf(X.default.string),onIdle:X.default.func,onActive:X.default.func,onAction:X.default.func,debounce:X.default.number,throttle:X.default.number,element:X.default.oneOfType([X.default.object,X.default.element]),startOnMount:X.default.bool,stopOnIdle:X.default.bool,passive:X.default.bool,capture:X.default.bool},$o.defaultProps={timeout:12e5,element:Cv,events:Pv,onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0};var sh=$o;var se=m(ye());a();s();var ne=m(k()),fh=m(we()),dh=m(ye());Ee();Vt();a();s();var Bn=m(k()),lh=m(ye()),Qe=({preload:e=[],...t})=>((0,Bn.useEffect)(()=>{e.forEach(r=>{typeof r=="function"&&r()})},[e]),Bn.default.createElement(lh.Route,{...t}));a();s();var Vo={dialog:"_dialog_18vnm_1",mask:"_mask_18vnm_6"};a();s();var Wn=m(k()),uh=()=>{let[e,t]=(0,Wn.useState)(0);return(0,Wn.useEffect)(()=>{function r(){let n=window.visualViewport?.height<window?.innerHeight?window?.innerHeight-window.visualViewport?.height:0;t(n)}return window?.visualViewport?.addEventListener("resize",r),()=>{window?.visualViewport?.removeEventListener("resize",r)}},[]),{keyboardHeight:e}};function Ov(e){return e.metamask.needPassword}var Yo=e=>{let[t,r]=(0,ne.useState)(!1),n=(0,fh.useSelector)(Ov),[i]=Wu(Bu.passwordType),o=Ma.useForm(),l=(0,dh.useLocation)(),{onSubmit:u}=Ku({form:o}),d=(0,ne.useCallback)(async()=>{await ke().rejectPassword(),r(!1)},[]);(0,ne.useEffect)(()=>{r(n)},[n]),(0,ne.useEffect)(()=>()=>{t&&d()},[l]);let{keyboardHeight:h}=uh(),b=()=>i===2?ne.default.createElement(Uu,{onPass:async T=>{o.setFieldsValue({password:T}),await u()},onCancel:d,noContent:!0}):ne.default.createElement(ge,{onClose:d,visible:t,title:R("wallet_extension_tg_enter_password"),noMargin:!0,alignBottom:!0,maskClosable:!0,noTopRadius:!1,windowStyle:{padding:"0",overflow:"hidden",bottom:`${h}px`,height:`${600-h}px`,width:"100%",touchAction:"none"},zIndex:40001,className:Vo.dialog,scrollBoxClassName:Vo.mask,transitionProps:{type:"slide",placement:"bottom",timeout:300}},ne.default.createElement(Gu,null));return ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(Qe,{...e}),t&&b())};a();s();var W=m(k()),Mr=m(we()),kr=m(ye()),Zo=m(Kt()),Qo=m(pt());Ee();Ft();a();s();var ch=(e,t)=>{if(t&&t.includes("{")&&!t.includes("first")){let n=/\{(.+?)\}/gi,i={};return t.match(n).forEach((o,l)=>{let u=o.replace("{","").replace("}","");i[`${u}`]=e[l]}),i}let r=["first","second","third","fourth"];return e.filter((n,i)=>i in r).reduce((n,i,o)=>(n[r[o]]=i,n),{})};a();s();var ph=()=>{let e=de("lockPage",{..._e,location:window.location.href});return e?e.data:null};a();s();var hh=m(k());Yn();var mh=()=>{let e=de("changeLocalStorage",{..._e,location:window.location.href});(0,hh.useEffect)(()=>{e&&(e?.data?.windowLocalStorage&&Object.keys(e?.data.windowLocalStorage).forEach(t=>{window.localStorage.setItem(t,e?.data?.windowLocalStorage[t])}),e?.data?.localStorage&&Object.keys(e?.data.localStorage).forEach(t=>{t==="data"||t==="apiDomain"||t==="envApiDomain"||t==="staticDomain"||$e.set({[t]:e?.data?.localStorage[t]})}))},[e])};a();s();var gh=m(k());var wh=()=>{let e=de("resetExtension",{..._e,location:window.location.href});return(0,gh.useMemo)(()=>{if(e){if(!e.data?.needReload)return!1;let r=window.localStorage.getItem("extensionReload");return!r||r!=e?.data.time?e.data.time:!1}return!1},[e])};a();s();var yh=m(k());Xn();var _h=()=>{let e=de("staticDomain");(0,yh.useEffect)(()=>{window.okGlobal||(window.okGlobal={}),e?(window.okGlobal.cdnBaseUrl=`https://${Ht()}`,window.okGlobal.cdnDomainMap=e.data):(window.okGlobal.cdnBaseUrl=`https://${Ht()}`,window.okGlobal.cdnDomainMap={default:"https://static.okx.com",CN:"https://static.coinall.ltd",RU:"https://static.okx.cab",ID:"https://static.okx.cab"})},[e])};a();s();var bh=m(k());var vh=()=>{let e=de("versionExtensionUpdate",{..._e,location:window.location.href});return(0,bh.useMemo)(()=>{if(e){if(!e.data?.needUpdate)return!1;let r=window.localStorage.getItem("versionExtensionUpdate");if(r&&r===e?.data.version&&!e.data?.repeat)return!1;if(_e.version!==e.data.version)return{version:e?.data.version,repeat:e.data?.repeat}}return!1},[e])};a();s();var Sh=[];a();s();var Ar=m(k());function zo(e){let[t,r]=(0,Ar.useState)(!1);return t?Ar.default.createElement(Qe,{...e}):Ar.default.createElement(Yu,{path:e.path,guard:!0,callback:()=>{r(!0)}})}a();s();var Eh=m(k()),Th=m(we());function xh(){return!(0,Th.useSelector)(vt)}var Ch=e=>Eh.default.createElement(Qe,{...e});a();s();a();s();var Jo=()=>{};a();s();var Rr=m(k()),Ph=m(we()),ie=m(Xr());ht();ni();Fr();var Xo=300,Oh=()=>{let e=Fu(),t=(0,Ph.useDispatch)(),r=Ju(e),n=Xu(),i=(0,Rr.useRef)({}),o=(0,Rr.useRef)({}),{data:l,set:u}=zu(Zu.coinTickers),d=Qu();(0,Rr.useEffect)(()=>{t(xs(d))},[t,d]);let h=v=>{u({...l,...v})},b=(0,ie.useMemoizedFn)(async v=>{let M=Nr(v,Xo),L=[];try{(await Promise.all(M.map(O=>{let P={coinIds:O},B={headers:{currency:"usd"}};return rs(yt.postMarketUrl,P,B)})))?.forEach(O=>{Array.isArray(O?.data)&&(L=L.concat(O.data))})}catch{Se()}L.forEach(g=>{g?.coinId&&(o.current[g.coinId]={coinToUSDRate:g?.currencyAmount,coinPriceChangePercent24h:g?.priceChangePercent24h})}),h(o.current)}),{needFetchCoinIds:T,needFetchData:A}=(0,ie.useCreation)(()=>{if(r.length||n.length){let v=r.concat(n).filter(g=>Boolean(g?.coinId));return fa(v,"coinId").reduce((g,O)=>(g.needFetchCoinIds.push(O.coinId),g.needFetchData.push({coinId:O.coinId,baseCoinId:O?.baseCoinId,chainIndex:O?.chainId,tokenAddress:O?.address}),g),{needFetchCoinIds:[],needFetchData:[]})}return{needFetchCoinIds:[],needFetchData:[]}},[r,n]),E=(0,ie.useMemoizedFn)(v=>{if(!v?.length)return;let M=v.reduce((P,B)=>{let{coinId:ee,baseCoinId:jt,chainIndex:ue,tokenAddress:H}=B,pe="";return jt===0?pe=`${ue}`:pe=`${ue}-${H}`,P[ee]=pe,P},{}),L=[],g=Object.entries(M).reduce((P,[B,ee])=>(i.current[B]||(i.current[B]=ee,L.push(B),P.push({channel:en,instId:ee})),P),[]);Nr(g,Xo).forEach(P=>{nt.sendChannel({op:"subscribe",args:P})}),L.length&&b(L)}),{run:C}=(0,ie.useDebounceFn)(E,{wait:200}),{run:c}=(0,ie.useDebounceFn)(()=>{h(o.current)},{wait:1e3}),y=(0,ie.useMemoizedFn)(()=>{b(Object.keys(i.current))}),_=(0,ie.useMemoizedFn)(v=>{if(!v||!Array.isArray(v?.data))return;let{data:M}=v;M[0]?.coinId&&(o.current[M[0]?.coinId]={coinToUSDRate:M[0]?.price,coinPriceChangePercent24h:M[0]?.priceChangePercent24h},c())});Ce(en,{onError:y,onSuccess:_,pollingInterval:30*1e3}),(0,ie.useDeepCompareEffect)(()=>{C(A)},[T]),(0,ie.useUnmount)(()=>{let v=Object.values(i.current).map(L=>({channel:en,instId:L}));Nr(v,Xo).forEach(L=>{nt.sendChannel({op:"unsubscribe",args:L})}),i.current={}})};a();s();var Wt=m(k()),Ah=m(ye());Ee();var Rv=20,Un=[];function Rh(){let e=Ce("dex-across-order-info"),t=(0,Ah.useHistory)();(0,Wt.useEffect)(()=>{if(!e?.data)return;let{dexData:r,type:n}=e.data,{status:i,type:o,orderId:l,fromAmount:u,fromTokenSymbol:d,toAmount:h,toTokenSymbol:b,solanaToast:T,exploreUrl:A,fromChildOrder:E={},swapTradeType:C,isMemeTimeOut:c,chainId:y,fromTokenAddress:_,toTokenAddress:v}=r,{fromAmount:M,toAmount:L}=E,g=null;if(C==="7"){let O=`/dex-swap/meme/${d==="SOL"?"buy":"sell"}?inputChain=${y}&inputCurrency=${_}&outputChain=${y}&outputCurrency=${v}`;if(c?g={type:"warn",titleKey:"wallet_extension_toast_likely_fail",titleParams:{num:M||u,token1:d,token2:b},id:`toast-${l}-${i}`,url:O,urlText:R("wallet_extension_cta_trade_again")}:i==="0"?g={type:"success",titleKey:"wallet_extension_toast_swap_submitted",id:`toast-${l}-${i}`,url:`/dex-swap/order/${l}`,urlText:R("wallet_extension_cta_check_details")}:i==="1"?g={type:"success",titleKey:"wallet_extension_toast_swap_success",titleParams:{fromCount:M||u,fromToken:d,toCount:b,toToken:L||h},id:`toast-${l}-${i}`,url:A,urlText:R("wallet_extension_cta_check_details")}:i==="-1"&&(g={type:"error",titleKey:"wallet_extension_toast_swap_failed",titleParams:{num:M||u,token1:d,token2:b},id:`toast-${l}-${i}`,url:O,urlText:R("wallet_extension_cta_trade_again")}),!g)return;te[g.type]({title:R(g.titleKey,g.titleParams),key:g.id,desc:g.url?Wt.default.createElement(Et,{history:i==="1"?null:t,url:g.url,urlText:g.urlText}):null});return}if(o==="gasStation"&&T==="1"){if(i==="0"?g={type:"success",titleKey:"swaptrade_extension_feedback_toast_transaction_submitted",id:`toast-${l}-${i}`}:i==="-1"?g={type:"error",titleKey:"swaptrade_extension_feedback_toast_fillup_gas_failed",titleParams:{nativeToken:b},id:`toast-${l}-${i}`}:i==="1"&&(g={type:"success",titleKey:"swaptrade_extension_feedback_toast_swapped_successfully",titleParams:{payValue:M||u,paySymbol:d,receiveValue:ef(h,{fixed:6,wipeTailZero:!0}),receiveSymbol:b},id:`toast-${l}-${i}`}),!g)return;te[g.type]({title:R(g.titleKey,g.titleParams),key:g.id})}if(n==="1"&&r&&o==="approve"){if(i==="1"?g={type:"success",titleKey:"swaptrade_extension_notif_desc_token_approved",titleParams:{tokenSymbol:d},url:A,id:`toast-${i}-${l}`}:i==="-1"?g={type:"error",titleKey:"swaptrade_extension_notif_desc_token_not_approved",titleParams:{tokenSymbol:d},url:A,id:`toast-${i}-${l}`}:T==="1"&&(g={type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${T}`}),!g)return;te[g.type]({title:R(g.titleKey,g.titleParams),key:g.id,desc:g.url?Wt.default.createElement(Et,{url:g.url,urlText:R("wallet_transfer_notif_view_on_explorer")}):null})}if((n==="1"||n==="3")&&r&&o!=="approve"&&o!=="register"&&o!=="gasStation"){let O=`${l}_${i}`;if(Un.includes(O))return;let P=()=>{Un.unshift(O),Un=Un.slice(0,Rv)},B=E?.receiveTokenStatus!=="3";if(i==="0"&&E?.status=="0"?(P(),g={type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${i}-${l}`}):i==="1"&&B?(P(),g={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_info",titleParams:{fromTokenAmount:M||u,fromTokenSymbol:d,toTokenAmount:L||h,toTokenSymbol:b},url:A,id:`toast-${i}-${l}`}):i==="-1"&&B?(P(),g={type:"error",titleKey:"swaptrade_extension_notif_desc_swap_fail",url:A,id:`toast-${i}-${l}`}):i==="-2"&&B&&(P(),g={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_canceled",url:A,id:`toast-${i}-${l}`}),!g)return;te[g.type]({title:R(g.titleKey,g.titleParams),key:g.id,desc:g.url?Wt.default.createElement(Et,{url:g.url,urlText:R("wallet_transfer_notif_view_on_explorer")}):null})}},[e])}a();s();var Mh=m(k());Ee();function kh(){let e=Ce("wallet-nft");(0,Mh.useEffect)(()=>{!e||te.success({title:R("wallet_transfer_notif_nft_transaction_success"),key:"toast8"})},[e])}a();s();var Ut={link:"_link_ywwad_1",updateCotainer:"_updateCotainer_ywwad_11",centerImage:"_centerImage_ywwad_14",titleUpdate:"_titleUpdate_ywwad_23",textUpdate:"_textUpdate_ywwad_27",updateMb32:"_updateMb32_ywwad_32"};function Mv({walletId:e,keyringIdentities:t}){let r;return t.find(n=>(r=n.walletIdentities.find(i=>i.walletId===e),r)),r?[...new Set(Object.values(r.account))]:[]}function S(e){let{guard:t}=e,r=(0,Mr.useSelector)(vt),n=(0,Mr.useSelector)(Ye),i=(0,Mr.useSelector)(Ql),o=(0,Mr.useSelector)(eu),l=Ce("login"),u=Ce("wallet-tx-status-toast"),d=Ce("nft-operate"),h=(0,kr.useHistory)(),[b,T]=(0,W.useState)(null),A=Hu();Jo(),(0,W.useEffect)(()=>{if(A){let{initialType:g}=A,{path:O}=e;if(Iu()&&ku(g)&&!Sh.includes(O)){let{location:P}=e||{},{pathname:B,search:ee=""}=P||{};setTimeout(()=>{globalThis.platform.openExtensionInPopup(B+ee||"")},200)}}},[A?.initialType]);let E=ph(),C=wh(),c=vh();_h(),mh(),(0,W.useEffect)(()=>{C&&ge.warn({alignBottom:!1,title:Y("wallet_extension_home_popup_title_update_now"),text:Y("wallet_extension_home_popup_text_update_now"),confirmText:Y("wallet_extension_home_popup_btn_update"),maskClosable:!1,onConfirm:()=>{window.localStorage.setItem("extensionReload",C),Qo.default.runtime.reload()}})},[C]);let[y,_]=(0,W.useState)(!1),[v]=(0,W.useState)(Qo.default.runtime.getManifest().version),M=ju(),L=Pu({dark:"/cdn/assets/imgs/246/F624BDAD9E2C018D.png",light:"/cdn/assets/imgs/246/234578340DAE2A80.png"});return(0,W.useEffect)(()=>{v!==c.version&&!y&&c&&ge.action({mobileWidth:"77.777%",noTopRadius:!1,alignBottom:!1,hideCloseBtn:!0,children:W.default.createElement("div",{className:Ut.updateMb32},W.default.createElement("div",{className:Ut.centerImage},W.default.createElement("img",{src:L,alt:"update"})),W.default.createElement("div",{className:Ut.titleUpdate},Y("wallet_extension_home_popup_title_update_available")),W.default.createElement("div",{className:Ut.textUpdate},Y("wallet_extension_home_popup_text_update_available")),W.default.createElement(ei,{size:ei.SIZE.sm,className:Ut.link,onClick:()=>{globalThis.platform.openTab({url:`https://${M}/help/how-do-i-update-my-okx-wallet-extension-on-google-chrome`})}},Y("wallet_extension_home_popup_link_update_available"))),confirmText:Y("wallet_extension_home_popup_text_ok"),maskClosable:!1,onConfirm:g=>{c.repeat?_(!0):window.localStorage.setItem("versionExtensionUpdate",c.version),g.destroy()}})},[y,c,v]),(0,W.useEffect)(()=>{E&&ge.warn({alignBottom:!1,maskClosable:!1,title:Y("wallet_extension_clearcache_modaltitle_step_locked"),text:Y("wallet_extension_clearcache_modaldesc_step_locked"),confirmText:Y("wallet_extension_btn_general_gotit"),onConfirm:g=>{g.destroy(),h.go(-1)}})},[E]),(0,W.useEffect)(()=>{if(r&&n){b&&Array.isArray(b)&&nt.sendChannel({op:"logout",args:b});let O=Mv({walletId:i,keyringIdentities:o}).map(P=>({token:P}));nt.sendChannel({op:"login",args:O}),T(O)}},[r,n,i]),(0,W.useEffect)(()=>{if(d){let{scene:g,status:O}=d.data;g===21&&O===2&&te.success({title:Y("extension_home_toast_receivecompleted")})}},[d]),(0,W.useEffect)(()=>{if(l){let g=Object.keys(zt).map(O=>({channel:zt[O]}));nt.sendChannel({op:"subscribe",args:g})}},[l]),(0,W.useEffect)(()=>{let O=h.location.pathname.match(Yr);if(u&&!O){let{data:P}=u,{pushToastCode:B,pushToastParams:ee=[],txStatus:jt,url:ue}=P,H;B===20||B===21?H={amount:ee[0],crypto:ee[1]}:B===23?H={num:ee[0],symbol:ee[1]}:H=ch(ee),te[$u[jt]]({title:Y(Vu[B],H),desc:ue?W.default.createElement(Et,{url:ue,urlText:Y("wallet_transfer_notif_view_on_explorer")}):null})}},[u]),(0,W.useEffect)(()=>{let g=new PerformanceObserver(O=>{let P={};O.getEntries().forEach(B=>{P[B.name]=B.startTime}),performance.memory&&(P.memory={totalJSHeapSize:performance.memory?.totalJSHeapSize,usedJSHeapSize:performance.memory?.usedJSHeapSize,jsHeapSizeLimit:performance.memory?.jsHeapSizeLimit}),P["first-contentful-paint"]>1e3&&he.captureEvent({message:`PERFORMANCE_WARN_1s ${h.location.pathname}`,contexts:{report:{info:JSON.stringify(P)}},exception:{values:[{type:`PERFORMANCE_WARN_1s ${h.location.pathname}`,value:"Performance Data"}]},level:"info"})});return g.observe({type:"paint",buffered:!0}),()=>{g.disconnect()}},[h.location.pathname]),Rh(),kh(),Oh(),xh()?W.default.createElement(kr.Redirect,{to:{pathname:Gr}}):n?t?W.default.createElement(zo,{...e}):W.default.createElement(Ch,{...e}):W.default.createElement(kr.Redirect,{to:{pathname:bt}})}S.propTypes={isUnlocked:Zo.default.bool.isRequired,completedOnboarding:Zo.default.bool.isRequired};a();s();var ea=m(k()),Ih=m(we()),Dh=m(ye());function jn(e){return(0,Ih.useSelector)(Ye)?ea.default.createElement(Qe,{...e}):ea.default.createElement(Dh.Redirect,{to:{pathname:bt}})}a();s();var ta=m(k()),Nh=m(we()),Fn=m(ye());function Ir(e){return(0,Nh.useSelector)(Ye)?ta.default.createElement(Fn.Redirect,{to:{pathname:fe}}):ta.default.createElement(Fn.Route,{...e})}a();s();a();s();var w=m(k()),Lh=(0,w.lazy)(()=>import("./dex-DUTSSUEL.js")),kv=()=>import("./new-home-page-OXZ2JCGO.js"),IM=(0,w.lazy)(()=>import("./common-EQQSDIBT.js")),qh=(0,w.lazy)(kv),Bh=(0,w.lazy)(()=>import("./wallet-aggregate-XXPDX7NV.js")),Wh=(0,w.lazy)(()=>import("./ConnectHardware-S6XYSOMS.js")),ra=(0,w.lazy)(()=>import("./ImportSeedPhraseAndPrivateKey-RL4F7CUX.js")),Uh=(0,w.lazy)(()=>import("./WalletMnemonicBackup-5MM2ID7G.js")),jh=(0,w.lazy)(()=>import("./WalletMnemonicBackupLandingPage-VKGOID25.js")),Fh=(0,w.lazy)(()=>import("./WalletList-PDPIHPYQ.js")),Hh=(0,w.lazy)(()=>import("./WalletEdit-JZEKPAMN.js")),Kh=(0,w.lazy)(()=>import("./WalletBackUp-62JX7AJN.js")),Gh=(0,w.lazy)(()=>import("./WalletAccountAddress-MFFBLISJ.js")),$h=(0,w.lazy)(()=>import("./WalletAccountPrivateKey-LLCC6EAK.js")),Vh=(0,w.lazy)(()=>import("./WalletMnemonicAndPrivateKey-R5LKUXRQ.js")),Yh=(0,w.lazy)(()=>import("./LedgerNetworkManage-57N5RWZA.js")),zh=(0,w.lazy)(()=>import("./WalletDetail-PW5C7BKT.js")),Jh=(0,w.lazy)(()=>import("./WalletAccountDetail-ZEJOTR6F.js")),Xh=(0,w.lazy)(()=>import("./CreatePassword-J7XZOYHK.js")),Zh=(0,w.lazy)(()=>import("./VerifyPassword-DS5BMCJB.js")),Qh=(0,w.lazy)(()=>import("./Onboard-UTWQU5CA.js")),em=(0,w.lazy)(()=>import("./InitialCreate-SQYJENYI.js")),tm=(0,w.lazy)(()=>import("./InitialImport-FIU4PBBT.js")),rm=(0,w.lazy)(()=>import("./wallet-add-page-GMYI5WWM.js")),nm=(0,w.lazy)(()=>import("./walletAddImport-VHCAI7RC.js")),im=(0,w.lazy)(()=>import("./Login-IG6LBFBZ.js")),om=(0,w.lazy)(()=>import("./Import-RAF6CXG5.js")),am=(0,w.lazy)(()=>import("./show-supported-chains-7GQYUJLO.js")),sm=(0,w.lazy)(()=>import("./Unlock-BLZOPNNI.js")),lm=(0,w.lazy)(()=>import("./Receive-6VIGSRKD.js")),um=(0,w.lazy)(()=>import("./Lock-VO6HW4O3.js")),fm=(0,w.lazy)(()=>import("./ForgetPassword-LAGOTH7Q.js")),dm=(0,w.lazy)(()=>import("./ResetPassword-TF2RVGL6.js")),cm=(0,w.lazy)(()=>import("./select-network-QMOWUHC7.js")),pm=(0,w.lazy)(()=>import("./select-coin-VS2J5EJD.js")),hm=(0,w.lazy)(()=>import("./SelectNetwork-X6X3V537.js")),mm=(0,w.lazy)(()=>import("./SelectProtocol-HRKBDU74.js")),gm=(0,w.lazy)(()=>import("./SendNft-EW6LYXGY.js")),wm=(0,w.lazy)(()=>import("./SendPageContainer-VSIB33IU.js")),ym=(0,w.lazy)(()=>import("./CoinManage-XT7ATATU.js")),_m=(0,w.lazy)(()=>import("./CustomCrypto-HSH25USP.js")),bm=(0,w.lazy)(()=>import("./Setting-CSZUWGVZ.js")),vm=(0,w.lazy)(()=>import("./Preference-CI4DANXB.js")),Sm=(0,w.lazy)(()=>import("./WalletSafely-UB34VRFG.js")),Em=(0,w.lazy)(()=>import("./DefaultWallet-56DQ6CE4.js")),Tm=(0,w.lazy)(()=>import("./SwitchRandomPassword-BJKM73YL.js")),xm=(0,w.lazy)(()=>import("./AboutWallet-JV47BB3V.js")),Cm=(0,w.lazy)(()=>import("./WalletHistory-R3SYOMPK.js")),Pm=(0,w.lazy)(()=>import("./Selector-HFJ22PGN.js")),Om=(0,w.lazy)(()=>import("./RpcMode-2FCDSSYG.js")),Am=(0,w.lazy)(()=>import("./DappEntry-Y6W2EW7I.js")),Rm=(0,w.lazy)(()=>import("./NetworkManagement-PY27CG2U.js")),Mm=(0,w.lazy)(()=>import("./Form-4KRYCH2V.js")),km=(0,w.lazy)(()=>import("./PermissionsConnect-MXUCZDLM.js")),Im=(0,w.lazy)(()=>import("./Detail-6QY6SRDS.js")),Dm=(0,w.lazy)(()=>import("./NftFilter-GXNCXWDP.js")),Nm=(0,w.lazy)(()=>import("./DAppNetworkManage-WCNTC2RS.js")),Lm=(0,w.lazy)(()=>import("./CoinDetail-PNNPWMGN.js")),qm=(0,w.lazy)(()=>import("./address-YUFKAEXZ.js")),Bm=(0,w.lazy)(()=>import("./ZKSpace-ESSNXUOD.js")),Wm=(0,w.lazy)(()=>import("./ZKSyncLite-FUOGSERI.js")),Um=(0,w.lazy)(()=>import("./Starknet-JKD5YQCB.js")),jm=(0,w.lazy)(()=>import("./CreateAccount-2WSJCJH4.js")),Fm=(0,w.lazy)(()=>import("./ConfirmPay-HBOGEYMP.js")),Hm=(0,w.lazy)(()=>import("./rpc-mode-JO2DSS36.js")),Km=(0,w.lazy)(()=>import("./BatchTransfer-TMCJUYUU.js")),Gm=(0,w.lazy)(()=>import("./Bitcoin-LTLV5N5M.js")),$m=(0,w.lazy)(()=>import("./BatchAddAccount-RLV3ZB3Y.js")),Vm=(0,w.lazy)(()=>import("./BulkRename-3XJUMP5O.js")),Ym=(0,w.lazy)(()=>import("./Edit-QWQ2NQE2.js")),zm=(0,w.lazy)(()=>import("./Confirm-6BNDLXQE.js")),DM=(0,w.lazy)(()=>import("./FractalBTCInscribe-SAUNEFE5.js")),Jm=(0,w.lazy)(()=>import("./FractalBRCFetchLoss-AA2YLUOI.js")),Xm=(0,w.lazy)(()=>import("./ManageUtxo-WXK2NCSW.js")),Zm=(0,w.lazy)(()=>import("./CoinInfo-WXX3ECZO.js")),Qm=(0,w.lazy)(()=>import("./DownloadAddresses-XWFIXV5Q.js")),eg=(0,w.lazy)(()=>import("./GasTracker-BWQH2YEQ.js")),tg=(0,w.lazy)(()=>import("./Advanced-ZP7GJPB6.js")),rg=(0,w.lazy)(()=>import("./PasswordType-MK357H5Q.js"));var ng=({autoLockTimeLimit:e,setLastActiveTime:t})=>{let n=(0,se.useHistory)().location?.state?.noGuard||{},i=p.default.createElement(p.Suspense,null,p.default.createElement(se.Switch,null,p.default.createElement(se.Route,{path:Ns,component:Wh}),p.default.createElement(S,{path:ul,component:ra,exact:!0}),p.default.createElement(Yo,{path:kl,component:Ym,exact:!0}),p.default.createElement(Yo,{path:Il,component:zm,exact:!0}),p.default.createElement(S,{path:ii,guard:!n[ii],component:Uh,exact:!0}),p.default.createElement(S,{path:_l,component:jh,exact:!0}),p.default.createElement(S,{path:cl,component:Fh,exact:!0}),p.default.createElement(S,{path:pl,component:Hh,exact:!0}),p.default.createElement(S,{path:zs,component:Kh,exact:!0}),p.default.createElement(S,{path:yl,guard:!0,component:Vh,exact:!0}),p.default.createElement(se.Route,{path:Hl,component:rg,exact:!0}),p.default.createElement(se.Route,{path:Hs,component:Xh,exact:!0}),p.default.createElement(S,{path:Ks,component:Zh}),p.default.createElement(Ir,{path:Gs,component:ra,exact:!0}),p.default.createElement(se.Route,{path:`${$s}/:type`,component:am}),p.default.createElement(S,{path:hl,component:zh}),p.default.createElement(S,{path:bl,component:Yh}),p.default.createElement(S,{path:ml,component:Jh}),p.default.createElement(S,{path:gl,component:Gh}),p.default.createElement(S,{path:wl,guard:!0,component:$h}),p.default.createElement(se.Route,{path:Nl,component:Bh}),p.default.createElement(S,{path:Bs,component:lm,exact:!0}),p.default.createElement(se.Route,{path:Os,component:um,exact:!0}),p.default.createElement(Ir,{path:bt,component:Qh}),p.default.createElement(Ir,{path:Fs,component:em,exact:!0}),p.default.createElement(Ir,{path:js,component:tm,exact:!0}),p.default.createElement(S,{path:fl,component:rm,exact:!0}),p.default.createElement(S,{path:dl,component:nm,exact:!0}),p.default.createElement(se.Route,{path:ql,component:im,exact:!0}),p.default.createElement(se.Route,{path:Bl,component:om,exact:!0}),p.default.createElement(jn,{path:Gr,exact:!0,component:sm}),p.default.createElement(jn,{path:Ws,component:fm}),p.default.createElement(S,{path:Us,component:dm}),p.default.createElement(S,{path:Ol,component:Hm}),p.default.createElement(S,{path:Al,component:Km}),p.default.createElement(S,{path:Rl,component:$m}),p.default.createElement(S,{path:Ml,component:Jm}),p.default.createElement(S,{path:Dl,component:Vm}),p.default.createElement(S,{path:Ds,component:mm}),p.default.createElement(S,{path:Is,component:hm}),p.default.createElement(S,{path:ll,component:cm}),p.default.createElement(S,{path:sl,component:pm}),p.default.createElement(S,{path:`${Rs}/:nftPath`,component:gm,exact:!0}),p.default.createElement(S,{path:`${As}/:coinId?`,component:wm}),p.default.createElement(S,{path:Vs,component:ym}),p.default.createElement(S,{path:Ys,component:_m}),p.default.createElement(S,{path:Vr,component:bm}),p.default.createElement(S,{path:Js,component:vm}),p.default.createElement(S,{path:Xs,component:Sm}),p.default.createElement(S,{path:Zs,component:Em}),p.default.createElement(S,{path:tl,component:Tm}),p.default.createElement(S,{path:Qs,component:xm}),p.default.createElement(S,{path:vl,component:Cm,exact:!0}),p.default.createElement(S,{path:el,component:Pm}),p.default.createElement(S,{path:rl,component:Om}),p.default.createElement(S,{path:ol,component:Am}),p.default.createElement(S,{path:nl,component:Rm}),p.default.createElement(S,{path:il,component:Mm}),p.default.createElement(S,{path:`${Ms}/:id`,component:km}),p.default.createElement(S,{path:`${Ls}`,component:Im,exact:!0}),p.default.createElement(S,{path:qs,component:Dm,exact:!0}),p.default.createElement(S,{path:`${ks}`,component:Nm}),p.default.createElement(S,{path:$r,component:Lm,exact:!0}),p.default.createElement(S,{path:Wl,component:Zm}),p.default.createElement(S,{path:Ul,component:Qm}),p.default.createElement(S,{path:Sl,component:qm}),p.default.createElement(S,{path:El,component:Bm}),p.default.createElement(S,{path:Tl,component:Wm}),p.default.createElement(S,{path:xl,component:Um}),p.default.createElement(S,{path:Cl,component:jm}),p.default.createElement(S,{path:Pl,component:Fm}),p.default.createElement(S,{path:al,component:Gm}),p.default.createElement(S,{path:Yr},p.default.createElement(p.Suspense,{fallback:p.default.createElement(qu,null)},p.default.createElement(Lh,null))),p.default.createElement(S,{path:Ll,component:Xm}),p.default.createElement(S,{path:jl,component:eg}),p.default.createElement(S,{path:Fl,component:tg}),p.default.createElement(S,{path:[fe,Kr],component:qh})));return e>0?p.default.createElement(sh,{onAction:t,throttle:1e3},i):i};var ig=ng;var og=({isLoading:e})=>{let{autoLockTimeLimit:t=0}=(0,Hn.useSelector)(ru),r=(0,Hn.useDispatch)();return et.default.createElement(et.default.Fragment,null,et.default.createElement(th,null),et.default.createElement(nh,null),et.default.createElement("div",{className:"main-container-wrapper"},e&&et.default.createElement(Lu,null),et.default.createElement(ig,{autoLockTimeLimit:t,setLastActiveTime:()=>{r(us())}})))};var ag=({isLoading:e})=>React.createElement(og,{isLoading:e});a();s();a();s();var Iv=()=>{},sg=Iv;var lg=sg;te.config({duration:3,top:10,left:16,right:16,maxCount:3,placement:te.DIRECTION.top,isInline:!0});var cg=()=>{let e=lg(),t=(0,ug.useHistory)(),r=(0,tt.useDispatch)();jo();let n=(0,tt.useSelector)(E=>E.appState.isLoading),{os:i,browser:o}=(0,tt.useSelector)(E=>E.metamask.browserEnvironment)||{},l=(0,tt.useSelector)(nu),u=(0,tt.useSelector)(tu)?.isoCode||"usd",d=(0,tt.useSelector)(zr),h=process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY,b=()=>{t.listen((E,C)=>{C==="PUSH"&&Ap(E.pathname)})},T=()=>{u||r(Du("usd"))},A=()=>{jr(yt.getCheckCountryLimit).then(E=>{try{let{data:{web3:{limit:C,displayCountryName:c}}}=E;C&&ge.warn({maskClosable:!1,renderFooter:()=>ft.default.createElement("div",null),alignBottom:!1,title:R("wallet_extension_login_title_access_restricted"),text:R("wallet_extension_login_toast_unavailable_inyourregion",{area:c})})}catch{te.error({title:R("wallet_home_toast_network_error")})}}).catch(Se)};return(0,fg.useMount)(()=>{b(),Ou(),Zr(l),T(),A(),$p(d)}),Uo(),ft.default.createElement(ft.default.Fragment,null,ft.default.createElement("div",{className:(0,dg.default)("app-content",{[`os-${i}`]:i,[`browser-${o}`]:o}),style:{height:e}},ft.default.createElement(ag,{isLoading:n})),!!h&&ft.default.createElement(eh,null))};a();s();a();s();var Dr=m(k());Ee();a();s();var na={"error-page":"_error-page_1qj8r_1",errorPage:"_error-page_1qj8r_1","error-page-details":"_error-page-details_1qj8r_13",errorPageDetails:"_error-page-details_1qj8r_13"};var Dv=()=>{let e=Ur(),t=xe.State.getImgMap(e),r=`${Jr()}${t[xe.State.TYPE.noNetwork]}`;return Dr.default.createElement("div",{className:na.errorPage},Dr.default.createElement("div",{className:na.errorPageDetails},Dr.default.createElement(xe.State,{type:xe.State.TYPE.noNetwork,title:R("wallet_extension_tg_empty_title_load_failed"),description:R("wallet_extension_tg_empty_desc_load_failed"),imgSrc:r,renderButton:()=>Dr.default.createElement(Te,{category:Te.CATEGORY.fill,type:Te.TYPE.primary,size:Te.SIZE.s,onClick:()=>{window.location.href=window.location.pathname}},R("wallet_extension_tg_empty_btn_load_failed"))})))},pg=Dv;var Kn=class extends le.PureComponent{constructor(){super(...arguments);Ke(this,"state",{});Ke(this,"isNetworkError",()=>{let{error:r}=this.state;return r instanceof TypeError&&r.message?.toLocaleLowerCase().match(/failed to fetch/)})}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r){he.captureException(r)}render(){let{error:r}=this.state,{store:n}=this.props;if(r){let i=r&&this.isNetworkError();return le.default.createElement(ia.Provider,{store:n},le.default.createElement(Cr,null,i?le.default.createElement(pg,null):le.default.createElement(Wo,{error:r})))}return le.default.createElement(ia.Provider,{store:n},le.default.createElement(hg.HashRouter,null,le.default.createElement(Cr,null,le.default.createElement(ca,{options:cs},le.default.createElement(pa,null,le.default.createElement(cg,null))))))}};Kn.propTypes={store:mg.default.object.isRequired};var gg=Kn;var oa=m(Lg());Og();zn();qg();a();s();async function wg(e){return(await _t.permissions_log).query(e)}Fr();Bg();Xn();Vt();a();s();function yg(e){let t={accountIdentities:e.accountIdentities,keyringIdentities:e.keyringIdentities,selectedWallet:e.selectedWallet};return delete e.accountIdentities,delete e.keyringIdentities,delete e.selectedWallet,t}ka.config({top:16});da.config({returnString:!0,isConvertToZero:!0,exponentialAt:[-40,40]});Gt.setConfig({Dialog:{maskClosable:!0,getContainer:()=>document.querySelector(".main-container-wrapper")},Drawer:{getContainer:()=>document.querySelector(".main-container-wrapper")},[Gt.componentNames.Select]:{bottomSafeSpace:0}});if(process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY){let e=window.localStorage.getItem("languageKeyMode");gt(e==="keyMode")}bg.default.setLevel(process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"?"debug":"warn");function Nv(e){window.getCleanAppState=function(){let t=ua(e.getState());return t.version=globalThis.platform.getVersion(),t.browser=window.navigator.userAgent,t}}var Lv=async()=>Promise.allSettled([Ia(),Da()]);function qv(e){async function t(r){let n=await Gn.default.tabs.get(r),{active:i,id:o,title:l,url:u}=n;if(i===!1)return;let{origin:d,protocol:h}=u?new URL(u):{};!d||d==="null"||e.dispatch(vp({id:o,title:l,origin:d,protocol:h,url:u}))}Gn.default.tabs.onActivated.addListener(async({tabId:r})=>{await t(r)}),Gn.default.tabs.onUpdated.addListener(async r=>{await t(r)})}async function Bv({metamaskState:e,networks:t},r,n){await Sa.setUrlFromLocalAsync(),await ba.setUrlFromLocalAsync(),await Lv();let i={},o={},l={},u=yg(e);if(e.currentLocale){let C=await Promise.allSettled([Hr(e.currentLocale),Hr(e.currentLocale,oa.LOCALE_TYPE.okd),Hr(e.currentLocale,oa.LOCALE_TYPE.dex)]);i=C[0].value,o=C[1].value,l=C[2].value}let h={...{activeTab:n.activeTab,metamask:e,appState:{},localeMessages:{current:i,okdCurrent:o,dexCurrent:l}}},b=Ro(h),T=Na(e.unapprovedTxs,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.network,e.provider.chainId);return T.length>0&&b.dispatch(ds({id:T[0].id})),r.onNotification(C=>{switch(C.method){case"sendUpdate":{let c=C.params[0];b.dispatch(ss(c))}break;case"sendPartialUpdate":{let c=C.params[0];b.dispatch(ls(c))}break;default:throw new Error(`Internal JSON-RPC Notification Not Handled:

 ${JSON.stringify(C)}`)}}),qv(b),b.dispatch(Lp()),b.dispatch(ms(t?.length?t:_a())),as(u,b.dispatch.bind(b),!1),(0,vg.createRoot)(n.container).render(_g.default.createElement(gg,{store:b})),e.currentLocale&&is(e.currentLocale),b}async function aa(e,t){let{backgroundConnection:r}=e;os(r),ts(r.refreshHttpDNS);let n,i,o;try{let[u,d,h]=await Promise.all([new Promise((b,T)=>{r.getStateByDomain((A,E)=>{if(A){T(T);return}b(E)})}),es(),su()]);n=u,i=d,o=h}catch(u){t(u);return}let{currentLocale:l}=n;ns(l),Bv({metamaskState:n,identities:i,networks:o},r,e).then(u=>{Nv(u),t(null,u)}).catch(()=>{})}window.logStateString=async function(e){let t=window.getCleanAppState();try{let r=await globalThis.platform.getPlatformInfo();t.platform=r;try{t.permissionsLog=await wg(),t.log=await Su()}catch{t.permissionsLog=[],t.log=[]}let n=await Sp();Object.keys(n).forEach(o=>{t[o]=n[o]});let i=JSON.stringify(t,null,2);e(null,i)}catch(r){e(r)}};a();s();var Wv=["popup.html","notification.html","home.html"];navigator.userAgent.includes("Android")&&Wv.forEach(e=>{location.href.includes(e)&&(location.href=location.href.replace(e,"fullscreen.html"))});function Uv(e){let t=new Eg.default;t.pipe(e).pipe(t),e.on("error",console.error.bind(console)),t.on("error",console.error.bind(console))}function jv(e,t){let r=pd(e);t(null,r)}function Fv(e,t){let r=wc(e);jv(r.createStream("controller"),t),Uv(r.createStream("provider"))}function Hv(e,t,r,n){Fv(r,(i,o)=>{if(i){n(i);return}aa({activeTab:e,container:t,backgroundConnection:o},n)})}async function Kv(e){return new Promise(t=>{if(e!==Lr&&e!==qr){t({});return}sa.default.tabs.query({active:!0,currentWindow:!0}).then(r=>{let[n]=r,{id:i,title:o,url:l}=n,{origin:u,protocol:d}=l?new URL(l):{};if(!u||u==="null"){t({});return}t({id:i,title:o,origin:u,protocol:d,url:l})}).catch(r=>{console.error(r)})})}async function Gv(e,t){let r=await Kv(e);Ve()===ya&&(r.origin="https://www.okx.com");let n=document.getElementById("app");Hv(r,n,t,i=>{if(i)throw i})}async function Tg(){globalThis.platform=new yc;let e=Me(),t=sa.default.runtime.connect({name:e}),r=new ir(t);r.once("end",Tg),Gv(e,r)}Tg().catch(Sg.default.error);

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ui.js.map
