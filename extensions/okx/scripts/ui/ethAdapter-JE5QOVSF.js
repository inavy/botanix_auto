import{a as L,g as c,h as u}from"./chunk-NEQSWO6C.js";import"./chunk-CK3VDP7L.js";import"./chunk-TZEIKJDD.js";import"./chunk-62BCYLNP.js";import"./chunk-WWT45FHQ.js";import{a as D,b as E}from"./chunk-M7Q3NJGG.js";import"./chunk-BQUWM53Y.js";import"./chunk-XEXJRJUY.js";import"./chunk-3DNJNRLL.js";import"./chunk-FPIWIEGC.js";import{a as l}from"./chunk-CW4HK4TW.js";import"./chunk-3MOQA4IF.js";import"./chunk-2I7TRLZ4.js";import"./chunk-BYLKBQ7L.js";import"./chunk-VVFHIIC3.js";import"./chunk-XIAMW27T.js";import{m as S}from"./chunk-QYHQY2ME.js";import"./chunk-FT7VATMT.js";import"./chunk-YYAHGUV5.js";import"./chunk-QJGSL63Z.js";import"./chunk-7ZE3XWQE.js";import{a as I}from"./chunk-42AETIVN.js";import"./chunk-DKCCIZ3Q.js";import"./chunk-C77R5D6K.js";import"./chunk-HBMVMNWX.js";import{V as s,Xa as A,hc as g,lc as F}from"./chunk-IS2B3ORW.js";import"./chunk-YGSCKFAL.js";import"./chunk-TDPA2BUG.js";import"./chunk-BJO2AFCW.js";import"./chunk-OIAB2YVD.js";import"./chunk-QHMZGTYF.js";import"./chunk-VXVCGVBA.js";import"./chunk-G6JM4G2M.js";import"./chunk-DAL2TMJA.js";import"./chunk-I5RKKMWZ.js";import"./chunk-J67ERJOI.js";import"./chunk-VNO3IDCT.js";import"./chunk-IH7OWVTK.js";import"./chunk-RF2WJL7B.js";import"./chunk-OTDALOBJ.js";import"./chunk-JCKY6H7C.js";import"./chunk-6ZQNEFQR.js";import"./chunk-6AWMYHRK.js";import"./chunk-5VBNU5MN.js";import{f as y,h as T,m as M,n as p,o as w}from"./chunk-JEQEC2HU.js";M();w();var o=y(L()),d=y(I());F();A();var f=class{constructor(){T(this,"signTransaction",async(t,e,n)=>{e=l(e);let r=await D(e),a=r.getMessageToSign(!1),i=p.Buffer.isBuffer(a)?a.toString("hex"):d.rlp.encode(a).toString("hex"),{type:h,chainId:P}=e,q={path:t.hdPathMap[s],chainId:P,requestId:g().toLowerCase(),signData:i,dataType:h===S.FEE_MARKET?o.KeystoneEthereumSDK.DataType.typedTransaction:o.KeystoneEthereumSDK.DataType.transaction,xfp:t.masterFingerprint},C=await u.openModal(c.showTxParams,{signRequest:q,baseChain:s}),m=p.Buffer.from(C,"hex"),R=m.slice(0,32),b=m.slice(32,64),N=m.slice(64),x=await E(r,{r:R,s:b,v:N});return n?x:{rawTxResult:x}});T(this,"signTypedData",async(t,e)=>{let n=t.hdPathMap[s];if(!["V4","V3"].includes(e.version))throw new Error("this version of typed data signing is no't supported");let a=p.Buffer.from(e.data,"utf-8"),i={path:n,requestId:g().toLowerCase(),signData:a,dataType:o.KeystoneEthereumSDK.DataType.typedData,xfp:t.masterFingerprint};return`0x${await u.openModal(c.showTxParams,{signRequest:i,baseChain:s})}`})}async signPersonalMessage(t,e){let n=t.hdPathMap[s],r=(0,d.stripHexPrefix)(e.data),a={path:n,requestId:g().toLowerCase(),signData:r,dataType:o.KeystoneEthereumSDK.DataType.personalMessage,xfp:t.masterFingerprint};return`0x${await u.openModal(c.showTxParams,{signRequest:a,baseChain:s})}`}},$=new f;export{$ as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ethAdapter-JE5QOVSF.js.map
