import{a as N}from"./chunk-PZBW56OA.js";import{a as f,b as A}from"./chunk-V22Z2X6F.js";import{a as P,b as C}from"./chunk-O2BGLKEM.js";import"./chunk-Y57SQLFF.js";import"./chunk-C6D3UGMF.js";import"./chunk-YFSBCNC7.js";import{p as S}from"./chunk-OFUXQTAD.js";import{a as T}from"./chunk-NRCRSATA.js";import{a as x}from"./chunk-4HJMB7P7.js";import"./chunk-A2W6OJDL.js";import"./chunk-U7RD3Z4E.js";import"./chunk-CJVER5MJ.js";import"./chunk-S5IEFQ34.js";import{o as D}from"./chunk-XHNZXPBB.js";import"./chunk-ZTS7374H.js";import"./chunk-EY7FXYAJ.js";import{d as F,f as Y}from"./chunk-B26CCOB3.js";import"./chunk-QYHQY2ME.js";import"./chunk-FT7VATMT.js";import"./chunk-YYAHGUV5.js";import"./chunk-7ZE3XWQE.js";import"./chunk-42AETIVN.js";import"./chunk-HBMVMNWX.js";import"./chunk-IS2B3ORW.js";import"./chunk-YGSCKFAL.js";import{D as t,H as b,q as e}from"./chunk-TDPA2BUG.js";import"./chunk-BJO2AFCW.js";import{M,w as r}from"./chunk-OIAB2YVD.js";import"./chunk-QHMZGTYF.js";import"./chunk-X5EUMZZI.js";import"./chunk-PJSODKKF.js";import{ca as m}from"./chunk-VXVCGVBA.js";import"./chunk-G6JM4G2M.js";import{a as V}from"./chunk-DAL2TMJA.js";import"./chunk-IEDGM2AY.js";import"./chunk-DAX5D55P.js";import"./chunk-UAZMAR7J.js";import"./chunk-BQF3XODK.js";import"./chunk-I5RKKMWZ.js";import"./chunk-4LMFSJNF.js";import"./chunk-IH7OWVTK.js";import"./chunk-RF2WJL7B.js";import"./chunk-OTDALOBJ.js";import"./chunk-JCKY6H7C.js";import"./chunk-6AWMYHRK.js";import"./chunk-5VBNU5MN.js";import{f as E,m as u,o as w}from"./chunk-JEQEC2HU.js";u();w();var s=E(V()),a=E(D());M();Y();u();w();var B={root:"_root_1r48s_1"};var ns=({history:v})=>{let n=t.useForm(),[o,z]=s.default.useState({}),[Z,h]=s.default.useState(null),[O,{setTrue:k,setFalse:I}]=(0,a.useBoolean)(!1),c=(0,s.useRef)(),y=(0,a.useMemoizedFn)(()=>{c.current=S(o.oldPassword).then(()=>(h(null),n.cleanErrors("oldPassword"),!0)).catch(()=>{let l=r("wallet_set_password_errortip_password_wrong");return h(l),n.setErrors({oldPassword:l}),!1})});(0,a.useThrottleEffect)(()=>{!o.oldPassword||y()},[o.oldPassword],{wait:500});let g=!!Z||!o.oldPassword||!o.password||!o.confirm||o.password?.length<P||o.confirm?.length<P,L=(0,a.useMemoizedFn)(async()=>{let{password:l,confirm:p}=o;if(g)return;if(l!==p){n.setErrors({confirm:r("wallet_settings_reset_passord_errortip_input_error")});return}if(k(),c.current||y(),!await c.current){I();return}await F().modifyPassword(p)&&(b.success(r("wallet_edit_wallet_toast_renamed_success")),v.push(x)),I()},[g,o]),U=N();return s.default.createElement(A,{className:B.root,title:r("wallet_settings_reset_passord_maintitle_reset_password"),desc:r("wallet_extension_subtitle_password_unlock")},({formClass:l,formErrorClass:p,itemClass:_})=>s.default.createElement(t,{form:n,size:e.SIZE.lg,validateTrigger:["onChange","onBlur"],className:l,errorClassName:p,onSubmit:L,onValuesChange:(i,d)=>{z(d)}},s.default.createElement(t.Item,{name:"oldPassword",style:{marginBottom:0},label:r("wallet_settings_reset_passord_subtitle_old_password"),className:_},s.default.createElement(e.Password,{autoFocus:!0,autoComplete:"off",size:e.SIZE.xl,inputClassName:f.passwordInput,placeholder:r("wallet_settings_reset_passord_placeholder_input_old_password")})),s.default.createElement(t.Item,{name:"password",style:{marginBottom:0,marginTop:"32px"},className:_,label:r("wallet_settings_reset_passord_subtitle_new_password")},s.default.createElement(e.Password,{autoComplete:"off",size:e.SIZE.xl,inputClassName:f.passwordInput,placeholder:r("wallet_settings_reset_passord_placeholder_input_desc")})),s.default.createElement(t.Item,{noStyle:!0,shouldUpdate:(i,d)=>i.password!==d.password},({getFieldValue:i})=>{let d=i("password");return s.default.createElement(C,{password:d})}),s.default.createElement(t.Item,{name:"confirm",className:_,label:r("wallet_settings_reset_passord_subtitle_password_confirmation"),style:{flex:1,marginTop:"32px"}},s.default.createElement(e.Password,{autoComplete:"off",size:e.SIZE.xl,inputClassName:f.passwordInput,placeholder:r("wallet_settings_reset_passord_placeholder_input_password_confirmation"),onChange:()=>{n.cleanErrors("confirm")}})),s.default.createElement(T.FooterActions,{usePortal:!0,affixStyle:U},s.default.createElement(t.Item,{noStyle:!0},s.default.createElement(m,{block:!0,htmlType:"submit",loading:O,disabled:g,category:m.CATEGORY.fill,type:m.TYPE.highlight,size:m.SIZE.lg},r("wallet_set_password_btn_confirm"))))))};export{ns as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ResetPassword-TF2RVGL6.js.map
