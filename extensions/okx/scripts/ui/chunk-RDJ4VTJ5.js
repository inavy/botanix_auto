import{a as Z}from"./chunk-3RW2LXDJ.js";import{a as ae,c as z,d as L}from"./chunk-UF32D7MW.js";import{a as ie}from"./chunk-33LBA2KN.js";import{d as se,q as le}from"./chunk-DS7KEGTF.js";import{$a as te}from"./chunk-4HJMB7P7.js";import{q as u}from"./chunk-U7RD3Z4E.js";import{g as oe}from"./chunk-S5IEFQ34.js";import{ac as he}from"./chunk-ZTS7374H.js";import{e as re}from"./chunk-XIAMW27T.js";import{a as ye}from"./chunk-YYAHGUV5.js";import{c as i}from"./chunk-HBMVMNWX.js";import{Lc as fe,wc as ee}from"./chunk-IS2B3ORW.js";import{A as H,G as X,c as j}from"./chunk-TDPA2BUG.js";import{j as Q,pa as _e}from"./chunk-BJO2AFCW.js";import{M as C,w as _}from"./chunk-OIAB2YVD.js";import{T as k,Z as G,c as q}from"./chunk-VXVCGVBA.js";import{a as M}from"./chunk-G6JM4G2M.js";import{a as w}from"./chunk-DAL2TMJA.js";import{f as p,m as r,o as s}from"./chunk-JEQEC2HU.js";r();s();var S=p(w()),ge=(e,o=e.showMe)=>(0,S.memo)(l=>o(l)?S.default.createElement(e,{...l}):null),ne=ge;r();s();var D=p(q());_e();var U=p(M());C();var me=p(he());var f=p(w());fe();r();s();var N={root:"_root_1dloi_1",main:"_main_1dloi_4",notAllowed:"_notAllowed_1dloi_9",iconWrap:"_iconWrap_1dloi_20",loader:"_loader_1dloi_26",icon:"_icon_1dloi_20",btnText:"_btnText_1dloi_36"};var V=({keyringIdentity:e,createdCb:o})=>{let l=le(),t=(0,me.useSelector)(oe),[n,d]=(0,f.useState)(!1),c=(0,f.useCallback)(async()=>{t||n||(d(!0),l(e?.keyringId).then(a=>{d(!1),a&&o(a)}).catch(a=>{a.message===se&&X.error({title:_("wallet_extension_error_reminder_system_busy")}),d(!1)}))},[n,o,l,e,t]),m=(0,f.useMemo)(()=>{if(t)return _("wallet_extension_addaccount_text_feature_unavailable")},[t]);return f.default.createElement(H,{title:m,className:N.root,placement:H.DIRECTION.top,maxWidth:328},f.default.createElement(i.FlexBox,{align:i.ALIGN.center,onClick:c,className:(0,D.default)(N.main,{[N.notAllowed]:t})},f.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:i.ALIGN.center,className:N.iconWrap},n?f.default.createElement(G.Circle,{className:N.loader,size:G.SIZE.md}):f.default.createElement(k,{className:(0,D.default)("okx-wallet-plugin-plus",N.icon)})),f.default.createElement(i.Box,{className:N.btnText},_("wallet_manage_wallet_btn_add_acoount"))))},xe=e=>{let{keyringIdentity:o,keyword:l,isRpcMode:t}=e;return l?!1:o?.keyringIdentityType===ee.MNEMONIC&&!Q(o,"walletIdentities.0.needBackup",!1)?!0:re(o?.initialType)?!t:(ie(o?.keyringIdentityType),!1)};V.propTypes={keyringIdentity:U.default.object.isRequired,createdCb:U.default.func.isRequired};var He=ne(V,xe),ze=V;r();s();var F=p(w()),E=p(M());C();var pe=p(q());r();s();var T=p(w()),A=p(M());C();r();s();var B={walletAsset:"_walletAsset_1rhpe_1",unsupport:"_unsupport_1rhpe_8"};var Y=(0,T.memo)(e=>{let{isRpcMode:o,currentRpcNetwork:l,hiddenAssets:t,walletAsset:n,hiddenText:d,unsopportCurrentNetwork:c}=e,m=()=>c?_("extension_wallet_list_not_support",{network:l?.chainName}):t?d:n||`0 ${l?.symbol}`;return T.default.createElement(T.default.Fragment,null,o?T.default.createElement(u.Text,{ellipsis:!0,className:{[B.walletAsset]:!0,[B.unsupport]:c}},m()):T.default.createElement(u.DisplayAmount,{ellipsis:!0,mode:u.LEGAL,useApproximate:!1,hidden:t?d:!1,className:B.walletAsset},n))});Y.defaultProps={hiddenText:"***"};Y.propTypes={isRpcMode:A.default.bool.isRequired,hiddenAssets:A.default.bool.isRequired,walletAsset:A.default.oneOfType([A.default.string,A.default.number]).isRequired,hiddenText:A.default.string};var P=Y;r();s();var R={root:"_root_18r9p_1",keyringName:"_keyringName_18r9p_4",highlight:"_highlight_18r9p_12"};var $=e=>{let{keyword:o,keyringIdentity:l,isRpcMode:t,hiddenAssets:n,titleClassName:d,currentRpcNetwork:c,isMpcWallet:m}=e,a=m?_("wallet_extension_tools_tab_keyless"):"";return F.default.createElement(i.FlexBox,{className:R.root},F.default.createElement(u.HighlightKeyword,{keyword:o,className:(0,pe.default)(R.keyringName,d),text:l?.keyringName,highlightClassName:R.highlight,badge:a,ellipsis:{tooltip:!0}}),F.default.createElement(P,{isRpcMode:t,currentRpcNetwork:c,hiddenAssets:n,walletAsset:l?.walletAsset}))};$.defaultProps={keyword:""};$.propTypes={keyword:E.default.string,keyringIdentity:E.default.object.isRequired,isRpcMode:E.default.bool.isRequired,hiddenAssets:E.default.bool.isRequired};var yt=$;r();s();var b=p(w()),ue=p(ye());C();var Ct=({keyringIdentity:e,className:o})=>{let l=(0,ue.useHistory)(),{accountStatus:t,mpcStatus:n}=e?.status||{},d=(0,b.useMemo)(()=>{switch(!0){case n===L.RECOVER:return _("wallet_extension_mpc_alert_scanqr_sync");case n===L.ESCAPE:return _("wallet_extension_mpc_alert_keyless_escaped");case t===z.FROZEN:return _("wallet_extension_mpc_alert_account_frozen");case t===z.DELETE:return _("wallet_extension_mpc_alert_account_closed");default:return""}},[t,n]),c=()=>{switch(!0){case n===L.RECOVER:return b.default.createElement(k,{className:"okx-wallet-plugin-right"});default:return null}},m=()=>{switch(!0){case n===L.RECOVER:{let a=e?.walletIdentities?.[0]?.walletId;l.push(`${te}?action=${ae.RECOVER}&walletId=${a}`);break}default:break}};return d?b.default.createElement(i.Box,{className:o},b.default.createElement(j,{title:d,type:j.TYPE.warn,closable:!1,rightActionText:c(),onRightAction:m})):null};r();s();var x=p(w()),I=(e,o)=>{let l=e?.toLowerCase()||"";return(o?.toLowerCase()||"").includes(l)},we=(e=[])=>{let[o,l]=(0,x.useState)(""),[t,n]=(0,x.useState)(""),d=(0,x.useCallback)(m=>{let a=m?.target?.value||"";a=a?.trimStart()||"",l(a)},[]);(0,x.useEffect)(()=>{n(o?.trim()||"")},[o]);let c=(0,x.useMemo)(()=>t?e.map((m={})=>{if(I(t,m?.keyringName))return m;let a=m?.walletIdentities?.filter(O=>I(t,O?.walletName))||[];if(a.length)return{...m,walletIdentities:a};let W=m?.walletIdentities?.filter(O=>Object.values(O.account).some(de=>I(t,de)))||[];return W.length?{...m,walletIdentities:W}:null}).filter(Boolean):e||[],[e,t]);return{keyword:o,trimedKeyWord:t,onKeyWordChange:d,filteredKeyringIdentities:c}},Wt=we;r();s();var K=p(w()),Ne=3e3,Ae=()=>{let[e,o]=(0,K.useState)(),l=(0,K.useCallback)(t=>{o(t),setTimeout(()=>{o("")},Ne)},[]);return[e,l]},Bt=Ae;r();s();var y=p(w()),ce=p(q()),v=p(M());C();r();s();var h={root:"_root_vo6vv_1",detail:"_detail_vo6vv_5",avatar:"_avatar_vo6vv_5",main:"_main_vo6vv_9",walletNameWrap:"_walletNameWrap_vo6vv_13",walletName:"_walletName_vo6vv_13",subWalletName:"_subWalletName_vo6vv_24",badge:"_badge_vo6vv_29",highlight:"_highlight_vo6vv_32",inline:"_inline_vo6vv_35",disabled:"_disabled_vo6vv_38"};var J=({keyword:e,children:o,disabled:l,isRpcMode:t,currentRpcNetwork:n,hiddenAssets:d,walletIdentity:c})=>{let a=Object.values(c?.account||{}).filter(W=>e&&I(e,W));return y.default.createElement(i.Box,{className:(0,ce.default)(h.root,{[h.disabled]:l})},y.default.createElement(i.FlexBox,{className:h.detail,align:i.ALIGN.center},y.default.createElement(Z,{size:Z.SIZE.sm,className:h.avatar,walletIdentity:c}),y.default.createElement(i.FlexBox,{justify:i.ALIGN.center,direction:i.DIRECTION.vertical,className:h.main},y.default.createElement(i.FlexBox,{className:h.walletNameWrap},y.default.createElement(u.HighlightKeyword,{keyword:e,text:c?.walletName,className:h.walletName,highlightClassName:h.highlight,ellipsis:{tooltip:!0}})),a.length>0?y.default.createElement(i.Box,null,y.default.createElement(u.Text,{type:u.TYPE.secondary,size:u.SIZE.sm,className:h.inline},_("extension_wallet_search_text_account_include")),a.length===1?y.default.createElement(u.HighlightKeyword,{type:u.TYPE.secondary,size:u.SIZE.sm,keyword:e,text:a[0],className:h.inline,forceWrap:!0,highlightClassName:h.highlight}):y.default.createElement(u.Text,{type:u.TYPE.secondary,size:u.SIZE.sm,className:h.highlight,forceWrap:!0},e)):y.default.createElement(P,{isRpcMode:t,currentRpcNetwork:n,hiddenAssets:d,walletAsset:c?.walletAsset,unsopportCurrentNetwork:c?.unsupported}))),o)};J.defaultProps={children:null};J.propTypes={keyword:v.default.string.isRequired,isRpcMode:v.default.bool.isRequired,disabled:v.default.bool.isRequired,children:v.default.node,hiddenAssets:v.default.bool.isRequired,walletIdentity:v.default.object.isRequired};var Jt=J;export{ne as a,He as b,ze as c,yt as d,Ct as e,Wt as f,Jt as g,Bt as h};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-RDJ4VTJ5.js.map
