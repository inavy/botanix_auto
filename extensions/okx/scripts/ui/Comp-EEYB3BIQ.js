import{c as pe,d as de,e as fe,g as _e,h as he}from"./chunk-RDJ4VTJ5.js";import"./chunk-3RW2LXDJ.js";import"./chunk-GA5LPOBO.js";import{b as ue}from"./chunk-5VVEC6ZH.js";import"./chunk-RV4CTONM.js";import{c as $,d as W}from"./chunk-UF32D7MW.js";import"./chunk-SSZF4QIS.js";import{e as re,g as se}from"./chunk-NRDSUSOX.js";import{d as B}from"./chunk-OLBL2ESK.js";import"./chunk-33LBA2KN.js";import{B as ce,z as ae}from"./chunk-OZL64JKT.js";import"./chunk-SF4X4VPT.js";import"./chunk-EUVFIXQT.js";import"./chunk-WJQMDYRJ.js";import"./chunk-OANAR4PZ.js";import"./chunk-DY3DHSF2.js";import{d as le}from"./chunk-OVX2PTCV.js";import"./chunk-VHMLJAAA.js";import"./chunk-DS7KEGTF.js";import"./chunk-GWV4SS46.js";import{a as me}from"./chunk-YFSBCNC7.js";import{b as oe}from"./chunk-OFUXQTAD.js";import{a as ie}from"./chunk-NRCRSATA.js";import{d as ne}from"./chunk-LANQTZFO.js";import"./chunk-NZHMCNZN.js";import"./chunk-CBDQQ72I.js";import"./chunk-4HJMB7P7.js";import"./chunk-A2W6OJDL.js";import{m as Y}from"./chunk-U7RD3Z4E.js";import"./chunk-CJVER5MJ.js";import"./chunk-S5IEFQ34.js";import"./chunk-XHNZXPBB.js";import{ac as Ve}from"./chunk-ZTS7374H.js";import"./chunk-EY7FXYAJ.js";import"./chunk-B26CCOB3.js";import"./chunk-D2RJYC6D.js";import"./chunk-VMA4KAKW.js";import"./chunk-XJYCT5UP.js";import"./chunk-XIAMW27T.js";import"./chunk-QYHQY2ME.js";import"./chunk-FT7VATMT.js";import{a as Oe}from"./chunk-YYAHGUV5.js";import"./chunk-7ZE3XWQE.js";import"./chunk-42AETIVN.js";import"./chunk-DKCCIZ3Q.js";import"./chunk-C77R5D6K.js";import{c as i}from"./chunk-HBMVMNWX.js";import{Lc as te,vc as ee,wc as U}from"./chunk-IS2B3ORW.js";import"./chunk-YGSCKFAL.js";import{b as X,c as v,r as D}from"./chunk-TDPA2BUG.js";import{f as J,pa as Re}from"./chunk-BJO2AFCW.js";import{M as Ge,w as E}from"./chunk-OIAB2YVD.js";import"./chunk-QHMZGTYF.js";import"./chunk-X5EUMZZI.js";import"./chunk-PJSODKKF.js";import{c as O,ca as M}from"./chunk-VXVCGVBA.js";import{a as Q}from"./chunk-G6JM4G2M.js";import{a as T}from"./chunk-DAL2TMJA.js";import"./chunk-IEDGM2AY.js";import"./chunk-DAX5D55P.js";import"./chunk-UAZMAR7J.js";import"./chunk-BQF3XODK.js";import"./chunk-I5RKKMWZ.js";import"./chunk-4LMFSJNF.js";import"./chunk-IH7OWVTK.js";import"./chunk-RF2WJL7B.js";import"./chunk-OTDALOBJ.js";import"./chunk-JCKY6H7C.js";import"./chunk-6AWMYHRK.js";import"./chunk-5VBNU5MN.js";import{f as c,m as t,o}from"./chunk-JEQEC2HU.js";t();o();var e=c(T()),q=c(Ve()),Ee=c(Oe());Ge();t();o();var ge=c(T());var Ce=(d={})=>{let s=ae(d);return(0,ge.useMemo)(()=>s.map(m=>{let{walletIdentities:r,marketValueSymbol:f,marketValue:_}=m;return{...m,walletAsset:`${Y(_)} ${f||""}`,walletIdentities:r.map(h=>{let{balance:l="--",symbol:a}=h;return{...h,walletAsset:`${Y(l)} ${a||""}`}})}}),[s])};te();t();o();var ke=c(O()),I=c(Q());var n=c(T());te();t();o();var xe=c(O()),k=c(Q());var y=c(T());t();o();var w=c(T());var ye=c(O());Re();t();o();var j={root:"_root_9zx9g_1",disabled:"_disabled_9zx9g_8"};var Ae=({selected:d,disabled:s,onClick:m})=>w.default.createElement(i.FlexBox,{onClick:m,className:(0,ye.default)(j.root,{[j.disabled]:s}),align:i.ALIGN.center,justify:i.ALIGN.center},s?w.default.createElement(D.Circle,{disabled:!0,checked:!1}):w.default.createElement(D.Circle,{checked:d}));Ae.defaultProps={onClick:J,selected:!1,disabled:!1};var P=Ae;t();o();var K={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var be=({selected:d,createdId:s,isRpcMode:m,hiddenAssets:r,walletIdentity:f,handleClickWallet:_,requestChain:h,disabled:l=!1})=>{let{walletId:a=""}=f,b=(0,y.useMemo)(()=>d.includes(a),[d,a]),S=(0,y.useMemo)(()=>!!(!h||f?.account?.[h]),[h,f]);l=l||!S;let u=(0,y.useCallback)(()=>{l||_(a)},[_,a,l]);return y.default.createElement(i.FlexBox,{className:(0,xe.default)(K.root,{[K.highlight]:a===s,[K.disabled]:l}),align:i.ALIGN.center,onClick:u},y.default.createElement(_e,{disabled:l,isRpcMode:m,hiddenAssets:r,walletIdentity:f}),y.default.createElement(P,{selected:b,disabled:l}))};be.propTypes={selected:k.default.array.isRequired,createdId:k.default.string.isRequired,isRpcMode:k.default.bool.isRequired,walletIdentity:k.default.object.isRequired,hiddenAssets:k.default.bool.isRequired,handleClickWallet:k.default.func.isRequired};var Se=be;t();o();var x={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var Ie=({selected:d,isRpcMode:s,hiddenAssets:m,keyringIdentity:r,handleClickWallet:f,requestChain:_})=>{let[h,l]=he(),[a,b]=(0,n.useState)(!0),S=()=>{b(g=>!g)},u=(0,n.useMemo)(()=>r?.keyringIdentityType===U.MPC,[r]),R=(0,n.useMemo)(()=>{let{mpcStatus:g,accountStatus:p}=r?.status||{};return u&&(g===W.ESCAPE||g===W.RECOVER||p===$.DELETE||p===$.FROZEN)},[u,r?.status]);return n.default.createElement(i.Box,{className:x.root},n.default.createElement(X,{onToggle:S,expanded:a,titleClass:x.title,className:x.keyring,headerClassName:x.header,contentClassName:x.content,iconClassName:(0,ke.default)(x.icon),title:n.default.createElement(de,{isRpcMode:s,hiddenAssets:m,keyringIdentity:r})},u&&n.default.createElement(fe,{keyringIdentity:r,className:x.mpcStatusAlertWrapper}),n.default.createElement(B,{dataSource:r?.walletIdentities||[],renderItem:g=>n.default.createElement(Se,{selected:d,isRpcMode:s,createdId:h,hiddenAssets:m,walletIdentity:g,handleClickWallet:f,requestChain:_,disabled:R})}),r.keyringIdentityType===U.MNEMONIC?n.default.createElement(pe,{createdCb:l,keyringIdentity:r}):null))};Ie.propTypes={selected:I.default.array.isRequired,isRpcMode:I.default.bool.isRequired,hiddenAssets:I.default.bool.isRequired,keyringIdentity:I.default.object.isRequired,handleClickWallet:I.default.func.isRequired};var Te=Ie;t();o();var F={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var ve=({request:d,multi:s=!1})=>{let{origin:m}=d?.metadata||{},{baseChain:r,chainName:f,allChain:_,status:h}=ue(m);(0,e.useEffect)(()=>{oe()},[]);let[,l]=ce({hasBackup:!0}),a=Ce({hasBackup:!0}),{isRpcMode:b}=(0,q.useSelector)(le),S=(0,e.useMemo)(()=>b?a:l,[b,l,a]),{backupedWallets:u,showTip:R}=(0,e.useMemo)(()=>{let C=!1;return{backupedWallets:S.reduce((V,Z)=>{let Be=Z?.walletIdentities?.map(we=>{let{initialType:Pe,walletId:Ke,account:Fe}=we;return Pe===ee.MPC_KEYRING&&Z?.status?.mpcStatus===W.ESCAPE?"":!_&&!Fe?.[r]?(C=!0,""):Ke})?.filter(Boolean);return V.concat(Be)},[]),showTip:C}},[S,_,r]),g=(0,q.useSelector)(re),[p,L]=(0,e.useState)(g?.length>0?g:[]),Me=u.length>1&&s,G=(0,e.useMemo)(()=>u.length===p.length,[u,p]),We=(0,e.useCallback)(()=>{L(G?[]:u)},[G,u]),qe=(0,e.useCallback)(C=>{p.includes(C)?L(N=>N.filter(V=>V!==C)):L(N=>s?[...N,C]:[C])},[p,s]),z=(0,q.useDispatch)(),H=(0,Ee.useHistory)(),Le=(0,e.useCallback)(()=>{z(se.setSelectAccounts(p)),H.goBack()},[p,H,z]),[Ne]=ne();return e.default.createElement(i.Container,{className:F.root},e.default.createElement(me,{closeable:!1,bordered:!1,title:E("wallet_dapp_conncetion_subtitle_select_accounts")}),R&&h!=="PENDING"&&e.default.createElement(v,{desc:E("wallet_extension_connect_notification_text_dont_select_wallets",{network:f}),type:v.TYPE.warn,closable:!1}),Me?e.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:F.selectAll},e.default.createElement(i.Box,{className:F.text},E("wallet_dapp_conncetion_subtitle_select_all")),e.default.createElement(P,{selected:G,onClick:We})):null,e.default.createElement(B,{dataSource:S,renderItem:C=>e.default.createElement(Te,{selected:p,isRpcMode:b,hiddenAssets:Ne,keyringIdentity:C,handleClickWallet:qe,requestChain:_?"":r})}),e.default.createElement(ie.FooterActions,null,e.default.createElement(M,{block:!0,disabled:!p.length,category:M.CATEGORY.fill,type:M.TYPE.highlight,size:M.SIZE.lg,onClick:Le},E("wallet_set_password_btn_confirm"))))},po=ve;export{po as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Comp-EEYB3BIQ.js.map
