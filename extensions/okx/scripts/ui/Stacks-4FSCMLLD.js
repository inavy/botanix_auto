import{b as _}from"./chunk-YN5DFOQA.js";import{a as P}from"./chunk-3FFSKRM6.js";import{a as M}from"./chunk-BSTZKYKS.js";import"./chunk-74FDEN4I.js";import{a as b}from"./chunk-34SDSJSV.js";import"./chunk-BWEVT6TQ.js";import"./chunk-34U7HVOO.js";import"./chunk-MRJI34GT.js";import"./chunk-O2ZAUKTP.js";import"./chunk-YUU6WMAM.js";import{a as B}from"./chunk-URHEQFFQ.js";import{a as W}from"./chunk-EATPE2HY.js";import"./chunk-QEKVDPIG.js";import{a as D}from"./chunk-WJYVGS4V.js";import"./chunk-CSJR56CD.js";import"./chunk-3V4N3SLP.js";import"./chunk-MIZXVXK6.js";import"./chunk-GNBB55K5.js";import"./chunk-EC67JB7S.js";import"./chunk-WINPS5JO.js";import"./chunk-GANFA4Y3.js";import"./chunk-BNPYGBEA.js";import"./chunk-75JFJJ6E.js";import"./chunk-WOF2MG5G.js";import"./chunk-6QV7GAE5.js";import"./chunk-QT2MBFKK.js";import{d as R}from"./chunk-MUF5KFVU.js";import"./chunk-BSWNOA7X.js";import"./chunk-NWOIYLOG.js";import"./chunk-JLHU3WBU.js";import"./chunk-RV4CTONM.js";import"./chunk-WPUSOCZ5.js";import"./chunk-6NFIXY6G.js";import"./chunk-IGLJY5RQ.js";import"./chunk-BOYKE4FM.js";import"./chunk-UF32D7MW.js";import"./chunk-CR7XMKUK.js";import"./chunk-SSZF4QIS.js";import"./chunk-M24SOKF4.js";import"./chunk-SSTSMCPU.js";import"./chunk-LF7H3MNC.js";import"./chunk-KCCATSGJ.js";import"./chunk-BQUWM53Y.js";import"./chunk-XEXJRJUY.js";import"./chunk-3DNJNRLL.js";import"./chunk-FPIWIEGC.js";import{a as E}from"./chunk-3MOQA4IF.js";import"./chunk-2I7TRLZ4.js";import"./chunk-5D6FMALX.js";import"./chunk-WNBXIYVP.js";import"./chunk-RNBNCNHM.js";import"./chunk-ZUBJ4HSQ.js";import"./chunk-NRDSUSOX.js";import"./chunk-OLBL2ESK.js";import"./chunk-WFHUBXJH.js";import"./chunk-YL2OEBEM.js";import"./chunk-UBREW6HU.js";import"./chunk-33LBA2KN.js";import"./chunk-NPTEYWCZ.js";import"./chunk-BYUE2OWP.js";import"./chunk-PCTAUYQN.js";import"./chunk-ZW25VTKR.js";import"./chunk-OZL64JKT.js";import"./chunk-SF4X4VPT.js";import"./chunk-EUVFIXQT.js";import"./chunk-WJQMDYRJ.js";import"./chunk-OANAR4PZ.js";import"./chunk-DY3DHSF2.js";import"./chunk-DM55GZK5.js";import"./chunk-OVX2PTCV.js";import"./chunk-Y57SQLFF.js";import"./chunk-C6D3UGMF.js";import"./chunk-VHMLJAAA.js";import"./chunk-DS7KEGTF.js";import"./chunk-GWV4SS46.js";import"./chunk-YFSBCNC7.js";import"./chunk-OFUXQTAD.js";import"./chunk-AJGKE3VO.js";import"./chunk-NRCRSATA.js";import"./chunk-LANQTZFO.js";import"./chunk-NZHMCNZN.js";import"./chunk-CBDQQ72I.js";import"./chunk-4HJMB7P7.js";import"./chunk-A2W6OJDL.js";import"./chunk-U7RD3Z4E.js";import"./chunk-CJVER5MJ.js";import"./chunk-S5IEFQ34.js";import{o as Q}from"./chunk-XHNZXPBB.js";import"./chunk-ZTS7374H.js";import"./chunk-QXE433GW.js";import"./chunk-EY7FXYAJ.js";import"./chunk-B26CCOB3.js";import"./chunk-D2RJYC6D.js";import"./chunk-VMA4KAKW.js";import"./chunk-XJYCT5UP.js";import"./chunk-XIAMW27T.js";import{K as C,L as T,v as x}from"./chunk-QYHQY2ME.js";import"./chunk-FT7VATMT.js";import"./chunk-YYAHGUV5.js";import"./chunk-QJGSL63Z.js";import"./chunk-7ZE3XWQE.js";import"./chunk-42AETIVN.js";import"./chunk-DKCCIZ3Q.js";import"./chunk-C77R5D6K.js";import"./chunk-HBMVMNWX.js";import{Ha as S,Lb as A,Xa as N,cc as K}from"./chunk-IS2B3ORW.js";import"./chunk-YGSCKFAL.js";import"./chunk-TDPA2BUG.js";import{K as w,pa as J}from"./chunk-BJO2AFCW.js";import"./chunk-OIAB2YVD.js";import"./chunk-QHMZGTYF.js";import"./chunk-X5EUMZZI.js";import"./chunk-PJSODKKF.js";import"./chunk-VXVCGVBA.js";import"./chunk-G6JM4G2M.js";import{a as y}from"./chunk-DAL2TMJA.js";import"./chunk-IEDGM2AY.js";import"./chunk-DAX5D55P.js";import"./chunk-UAZMAR7J.js";import"./chunk-BQF3XODK.js";import"./chunk-I5RKKMWZ.js";import"./chunk-4LMFSJNF.js";import"./chunk-VNO3IDCT.js";import"./chunk-IH7OWVTK.js";import"./chunk-RF2WJL7B.js";import{a as V}from"./chunk-X4DF4E3O.js";import"./chunk-OTDALOBJ.js";import"./chunk-JCKY6H7C.js";import"./chunk-6AWMYHRK.js";import"./chunk-5VBNU5MN.js";import{f as d,m as n,o as i}from"./chunk-JEQEC2HU.js";n();i();var h=d(y());n();i();var q=d(y());N();n();i();J();K();n();i();var I=d(V());N();var G=(t={})=>{let{params:e={}}=t,{transaction:o={}}=e;return o},Y=async(t={})=>{let{contractAddress:e,contractName:o,functionName:a,functionArgs:r}=t,{getRawTransaction:s}=await E(),c={data:{type:x.CONTRACT_CALL,data:{contract:e,contractName:o,functionName:a,functionArgs:r}}};return await s(I.Currency.Stx,c)},Z=async(t={})=>{let{recipient:e,amount:o,memo:a}=t,{getRawTransaction:r}=await E(),s={data:{type:x.TRANSFER,data:{to:e,amount:o,memo:a}}};return await r(I.Currency.Stx,s)},$=async(t={})=>t.txType===T.CONTRACT_CALL?Y(t):t.txType===T.STX_TRANSFER?Z(t):"",O=async({unapproved:t={},baseCoin:e={},fromAddress:o,value:a})=>{let r=G(t),s=await $(r);return(await W({coinId:e?.coinId||S,fromAddress:o,value:a,inputData:s}))?.gasLimit||"0"};n();i();var L=d(Q()),k=d(y());var v=({unapproved:t={},baseCoin:e})=>{let[o,a]=(0,k.useState)(),[r,{setTrue:s,setFalse:c}]=(0,L.useBoolean)(!0),[m,{setTrue:p,setFalse:f}]=(0,L.useBoolean)(!1),u=B(t);return(0,k.useEffect)(()=>{(async()=>{try{s(),f();let l=await O({unapproved:t,baseCoin:e,fromAddress:u?.address,value:"0"});a(l),c()}catch{p(),c()}})()},[t?.id]),{isLoadingFee:r,isGasError:m,fee:o}},U=v;var tt=({unapproved:t,baseCoin:e,coinId:o})=>{let{fee:a,isLoadingFee:r,isGasError:s}=U({unapproved:t,baseCoin:e}),c=D(o,t.walletId)||{},{coinAmountInt:m}=c,p=G(t),f=p?.txType===T.STX_TRANSFER?p?.amount:"0",u=w(m)||A(m,a),F=w(m)||A(m,f);return{loading:r,networkFee:a,estimateFailed:s,networkFeeProps:{coinId:o,loading:r,networkFee:a,estimateFailed:s},isSufficientGas:u,isSufficientBalance:F,coinWithBalance:c}},X=tt;var et=({unapproved:t})=>{let e=R(S)||{},o=e.coinId||S,a=t?.params?.transaction?.contractAddress,{networkFee:r,estimateFailed:s,networkFeeProps:c,isSufficientGas:m,loading:p,isSufficientBalance:f,coinWithBalance:u}=X({coinId:o,unapproved:t,baseCoin:e}),F=M({baseCoin:e,unapproved:t,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,coinWithBalance:u}),{buttonGroup:l}=_({coinId:o,unapproved:t,feeLoading:p,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,extParams:{fee:r},coinWithBalance:u});return q.default.createElement(P,{unapproved:t,tipMessage:F,buttonGroup:l,networkFee:c,contractAddress:a})},j=et;n();i();var z=d(y());var H=({unapproved:t})=>{let e=t.params?.message;return z.default.createElement(b,{message:e,unapproved:t})};var Ut=({unapproved:t})=>{switch(t.method){case C.SIGN_TRANSACTION:return h.default.createElement(j,{unapproved:t});case C.SIGN_MESSAGE:return h.default.createElement(H,{unapproved:t});default:return""}};export{Ut as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Stacks-4FSCMLLD.js.map
