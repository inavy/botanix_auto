import{a as z}from"./chunk-ZVJ674T7.js";import{a as j}from"./chunk-22WVHVST.js";import{b as V}from"./chunk-YN5DFOQA.js";import{a as U}from"./chunk-3FFSKRM6.js";import{a as K}from"./chunk-BSTZKYKS.js";import"./chunk-74FDEN4I.js";import{a as q}from"./chunk-34SDSJSV.js";import{a as W}from"./chunk-BWEVT6TQ.js";import"./chunk-34U7HVOO.js";import"./chunk-MRJI34GT.js";import"./chunk-O2ZAUKTP.js";import{a as Y}from"./chunk-YUU6WMAM.js";import"./chunk-URHEQFFQ.js";import{b as v,k as X}from"./chunk-SB5S3UIY.js";import"./chunk-QEKVDPIG.js";import{a as D}from"./chunk-WJYVGS4V.js";import"./chunk-CSJR56CD.js";import{a as O}from"./chunk-XWRXEU7I.js";import{g as b}from"./chunk-3V4N3SLP.js";import"./chunk-MIZXVXK6.js";import"./chunk-GNBB55K5.js";import"./chunk-EC67JB7S.js";import"./chunk-WINPS5JO.js";import"./chunk-GANFA4Y3.js";import"./chunk-BNPYGBEA.js";import"./chunk-75JFJJ6E.js";import"./chunk-WOF2MG5G.js";import"./chunk-6QV7GAE5.js";import"./chunk-QT2MBFKK.js";import{d as N}from"./chunk-MUF5KFVU.js";import"./chunk-BSWNOA7X.js";import"./chunk-NWOIYLOG.js";import"./chunk-JLHU3WBU.js";import{a as F}from"./chunk-RV4CTONM.js";import"./chunk-WPUSOCZ5.js";import"./chunk-6NFIXY6G.js";import"./chunk-IGLJY5RQ.js";import"./chunk-BOYKE4FM.js";import"./chunk-UF32D7MW.js";import"./chunk-CR7XMKUK.js";import"./chunk-SSZF4QIS.js";import"./chunk-M24SOKF4.js";import"./chunk-SSTSMCPU.js";import"./chunk-LF7H3MNC.js";import"./chunk-KCCATSGJ.js";import"./chunk-BQUWM53Y.js";import"./chunk-XEXJRJUY.js";import"./chunk-3DNJNRLL.js";import"./chunk-FPIWIEGC.js";import"./chunk-3MOQA4IF.js";import"./chunk-2I7TRLZ4.js";import"./chunk-5D6FMALX.js";import"./chunk-WNBXIYVP.js";import"./chunk-RNBNCNHM.js";import"./chunk-ZUBJ4HSQ.js";import"./chunk-NRDSUSOX.js";import"./chunk-OLBL2ESK.js";import"./chunk-WFHUBXJH.js";import"./chunk-YL2OEBEM.js";import"./chunk-UBREW6HU.js";import"./chunk-33LBA2KN.js";import"./chunk-NPTEYWCZ.js";import"./chunk-BYUE2OWP.js";import"./chunk-PCTAUYQN.js";import"./chunk-ZW25VTKR.js";import"./chunk-OZL64JKT.js";import"./chunk-SF4X4VPT.js";import"./chunk-EUVFIXQT.js";import"./chunk-WJQMDYRJ.js";import"./chunk-OANAR4PZ.js";import"./chunk-DY3DHSF2.js";import"./chunk-DM55GZK5.js";import"./chunk-OVX2PTCV.js";import"./chunk-Y57SQLFF.js";import"./chunk-C6D3UGMF.js";import"./chunk-VHMLJAAA.js";import"./chunk-DS7KEGTF.js";import"./chunk-GWV4SS46.js";import"./chunk-YFSBCNC7.js";import"./chunk-OFUXQTAD.js";import"./chunk-AJGKE3VO.js";import"./chunk-NRCRSATA.js";import"./chunk-LANQTZFO.js";import"./chunk-NZHMCNZN.js";import"./chunk-CBDQQ72I.js";import"./chunk-4HJMB7P7.js";import"./chunk-A2W6OJDL.js";import"./chunk-U7RD3Z4E.js";import"./chunk-CJVER5MJ.js";import"./chunk-S5IEFQ34.js";import"./chunk-XHNZXPBB.js";import"./chunk-ZTS7374H.js";import"./chunk-QXE433GW.js";import"./chunk-EY7FXYAJ.js";import"./chunk-B26CCOB3.js";import"./chunk-D2RJYC6D.js";import"./chunk-VMA4KAKW.js";import"./chunk-XJYCT5UP.js";import"./chunk-XIAMW27T.js";import{J as _,Z as C,_ as P}from"./chunk-QYHQY2ME.js";import"./chunk-FT7VATMT.js";import"./chunk-YYAHGUV5.js";import"./chunk-QJGSL63Z.js";import"./chunk-7ZE3XWQE.js";import"./chunk-42AETIVN.js";import"./chunk-DKCCIZ3Q.js";import"./chunk-C77R5D6K.js";import"./chunk-HBMVMNWX.js";import{Fa as h,Lb as k,Xa as se,cc as ne}from"./chunk-IS2B3ORW.js";import"./chunk-YGSCKFAL.js";import"./chunk-TDPA2BUG.js";import{K as B,pa as re}from"./chunk-BJO2AFCW.js";import{M as oe,w as L}from"./chunk-OIAB2YVD.js";import"./chunk-QHMZGTYF.js";import"./chunk-X5EUMZZI.js";import"./chunk-PJSODKKF.js";import"./chunk-VXVCGVBA.js";import"./chunk-G6JM4G2M.js";import{a as I}from"./chunk-DAL2TMJA.js";import"./chunk-IEDGM2AY.js";import"./chunk-DAX5D55P.js";import"./chunk-UAZMAR7J.js";import"./chunk-BQF3XODK.js";import"./chunk-I5RKKMWZ.js";import"./chunk-4LMFSJNF.js";import"./chunk-VNO3IDCT.js";import"./chunk-IH7OWVTK.js";import"./chunk-RF2WJL7B.js";import"./chunk-OTDALOBJ.js";import"./chunk-JCKY6H7C.js";import"./chunk-6AWMYHRK.js";import"./chunk-5VBNU5MN.js";import{f as A,m as i,o as a}from"./chunk-JEQEC2HU.js";i();a();var w=A(I());i();a();var y=A(I());se();i();a();re();oe();i();a();var E=A(I());var H=(e,t)=>{let{from:l,transaction:o,provider:m}=e,[x,c]=(0,E.useState)(!1),[n,r]=(0,E.useState)(null),[d,u]=(0,E.useState)(!1),[f,S]=(0,E.useState)("");return(0,E.useEffect)(()=>{(async()=>{if(!!o){c(!0);try{let s=X.from(o);s.setSenderIfNotSet(l);let p="";m&&(p=v(await s.build({client:m}))),t&&await t(p),r({fee:s?.blockData?.gasConfig?.budget||"0",tx:s,txBytes:p}),u(!1),S("")}catch(s){u(!0),S(s?.message||"")}finally{c(!1)}}})()},[o]),{loading:x,error:d,errorMsg:f,result:n}};ne();var ie=({coinId:e,unapproved:t,preExecuteRet:l})=>{let o=F(t),{address:m,walletId:x}=o,{verifyGasLimitRet:c}=l,n=D(e,x)||{},{coinAmountInt:r}=n,{loading:d,result:u={},error:f,errorMsg:S}=H({from:m,transaction:t?.params?.transaction,provider:j}),g=u?.fee,s=(B(r)||k(r,g))&&!b(c),p=B(r)||k(r,0),G={coinId:e,loading:d,estimateFailed:f,networkFee:g},R;return f&&S&&(R=L("wallet_extension_alert_estimate_unavailable_error",{errorMsg:S})),{loading:d,networkFee:u,networkFeeProps:G,isSufficientGas:s,estimateFailed:f,estimateFailedMsg:R,isSufficientBalance:p,coinWithBalance:n}},J=ie;i();a();var T=A(I());var ae=({coinId:e,unapproved:t})=>{let l=O(),[o,m]=(0,T.useState)(!0),{host:x}=Y(t),{address:c}=F(t),[n,r]=(0,T.useState)({}),d=(0,T.useMemo)(()=>({checkTypes:[C.VERIFY_GAS_LIMIT,C.KYS],coinId:e,from:c,to:"",amount:0,txType:P.CALL_CONTRACT,domain:x}),[c,e]),u=async(g,s)=>{let p=await l({...d,chainId:s,inputData:g});r(p),m(!1)},f=(0,T.useMemo)(()=>n[C.VERIFY_GAS_LIMIT]||{},[n]);return{kysRet:(0,T.useMemo)(()=>({loading:o,...n[C.KYS]||{}}),[o,n]),loading:o,preExecuteRet:n,firePreExecute:u,verifyGasLimitRet:f}},Q=ae;var ce=(0,y.memo)(({unapproved:e})=>{let t=N(h)||{},l=t?.coinId||h,o=t?.chainIndex||t?.chainId||"",m=Q({unapproved:e,coinId:l}),{firePreExecute:x,kysRet:c,verifyGasLimitRet:n}=m,{networkFee:r,networkFeeProps:d,isSufficientGas:u,estimateFailed:f,estimateFailedMsg:S,loading:g,isSufficientBalance:s,coinWithBalance:p}=J({coinId:l,unapproved:e,preExecuteRet:m});(0,y.useEffect)(()=>{r?.txBytes&&o&&x(r?.txBytes,o)},[r?.txBytes,o]);let G=K({kysRet:c,baseCoin:t,estimateFailed:f,estimateFailedMsg:S,isSufficientGas:u,verifyGasLimitRet:n,isSufficientBalance:s,coinWithBalance:p}),{buttonGroup:R,handleCancel:te}=V({coinId:l,unapproved:e,feeLoading:g,preExecuteRet:m,estimateFailed:f,isSufficientGas:u,isSufficientBalance:s,extParams:{txBytes:r?.txBytes,fee:r?.fee},coinWithBalance:p});return W({kysRet:c,handleCancel:te}),y.default.createElement(U,{kysRet:c,unapproved:e,tipMessage:G,buttonGroup:R,networkFee:d})}),Z=ce;i();a();var $=A(I());function me(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var ee=({unapproved:e})=>{let t=me(z(e.params?.message));return $.default.createElement(q,{message:t,unapproved:e})};var Ze=({unapproved:e})=>{switch(e.method){case _.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case _.SIGN_TRANSACTION_BLOCK:return w.default.createElement(Z,{unapproved:e});case _.SIGN_MESSAGE:case _.SIGN_PERSONAL_MESSAGE:return w.default.createElement(ee,{unapproved:e});default:return""}};export{Ze as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Sui-N25A3K5Y.js.map
