import{a as R,b as w,c as T}from"./chunk-AXSGNMW3.js";import"./chunk-PU3KPDAW.js";import"./chunk-TZEIKJDD.js";import"./chunk-WWT45FHQ.js";import{b as f}from"./chunk-CW4HK4TW.js";import{e as y}from"./chunk-3MOQA4IF.js";import"./chunk-2I7TRLZ4.js";import"./chunk-PNHFFKP6.js";import"./chunk-EY7FXYAJ.js";import"./chunk-B26CCOB3.js";import"./chunk-VMA4KAKW.js";import"./chunk-XJYCT5UP.js";import"./chunk-XIAMW27T.js";import{a as h,u}from"./chunk-DKCCIZ3Q.js";import"./chunk-C77R5D6K.js";import"./chunk-HBMVMNWX.js";import"./chunk-IS2B3ORW.js";import"./chunk-YGSCKFAL.js";import"./chunk-TDPA2BUG.js";import{M as n,pa as K}from"./chunk-BJO2AFCW.js";import"./chunk-OIAB2YVD.js";import"./chunk-QHMZGTYF.js";import"./chunk-VXVCGVBA.js";import"./chunk-G6JM4G2M.js";import"./chunk-DAL2TMJA.js";import"./chunk-4LMFSJNF.js";import"./chunk-JCKY6H7C.js";import"./chunk-23R5U7AT.js";import"./chunk-2OYABAWU.js";import"./chunk-6AWMYHRK.js";import"./chunk-5VBNU5MN.js";import{f as H,m as p,o as l}from"./chunk-JEQEC2HU.js";p();l();var W=H(R());K();var b=W.default.HardwareWebSdk,a=class extends T{async signTransaction(e,r){if(!n(r.memo)&&!n(r.memoPos))throw Error(u);return new Promise((E,t)=>{(async()=>{let{address:i}=r,{onekeyInfo:s}=e,c;try{c=await this.initOneKey({onekeyInfo:s,onUiCancel(){t(new Error(h))}})}catch(o){return t(this.handleErrors(o))}let g=f(i,e?.accountsMap||e?.addressType),{path:d}=g,k=r.inputs.map(o=>({...o,address:i,nonWitnessUtxo:o.rawTransaction,derivationPath:d})),{oneKeyBuildBtcTx:B}=await y(),M=B({...r,inputs:k,derivationPath:d}),{success:S,payload:m}=await b.btcSignTransaction(s?.connectId,c,M);if(w.closeModal(),S){let{serializedTx:o}=m;return E(o)}return t(this.handleErrors(m))})()})}},C=new a;export{C as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-5VAKWMKW.js.map
